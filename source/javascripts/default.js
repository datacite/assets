/*!
 * https://github.com/es-shims/es5-shim
 * @license es5-shim Copyright 2009-2015 by contributors, MIT License
 * see https://github.com/es-shims/es5-shim/blob/master/LICENSE
 */
function barViz(t,n,e,r){if("days"===r)var i=[startDate,endDate],o=30;else if("months"===r){var i=[startDate,endDate],o=d3.time.months(startDate,endDate).length;width=13*o}else var i=[startTime,endTime],o=24;var a=d3.time.scale.utc().domain(i).rangeRound([0,width]),u=d3.scale.linear().domain([0,d3.max(t,function(t){return t.values[e]})]).rangeRound([height,0]),l=d3.svg.axis().scale(a).tickSize(0).ticks(0),c=d3.select(n).append("svg").data([t]).attr("width",margin.left+width+margin.right).attr("height",margin.top+height+margin.bottom).attr("class","chart barchart").append("svg:g").attr("transform","translate("+margin.left+","+margin.top+")"),f=null;c.selectAll(".bar").data(t).enter().append("rect").attr("class",function(t){if("days"===r){f=Date.parse(t.key+"T12:00:00Z");return formatWeek(new Date(f))%2==0?"bar relations":"bar relations-alt"}if("months"===r){f=Date.parse(t.key+"-01T12:00:00Z");return formatYear(new Date(f))%2==0?"bar relations":"bar relations-alt"}f=Date.parse(t.key+":00:01Z");var n=formatHour(new Date(f));return n>=11&&n<=22?"bar relations-alt":"bar relations"}).attr("x",function(t){return a("days"===r?new Date(Date.parse(t.key+"T12:00:00Z")):"months"===r?new Date(Date.parse(t.key+"-01T12:00:00Z")):new Date(Date.parse(t.key+":00:00Z")))}).attr("width",width/o-1).attr("y",function(t){return u(t.values[e])}).attr("height",function(t){return height-u(t.values[e])});return c.append("g").attr("class","x axis").attr("transform","translate(0,"+height+")").call(l),c.selectAll("rect").each(function(t){var n=null,i=null,o=null;n="db_size"===e?numberToHumanSize(t.values[e]):"requests_average"===e?formatFixed(t.values[e])+" ms":formatFixed(t.values[e]),"days"===r?(i=Date.parse(t.key+"T12:00:00Z"),o=" on "+formatDate(new Date(i))):"months"===r?(i=Date.parse(t.key+"-01T12:00:00Z"),o=" in "+formatMonthYear(new Date(i))):(i=Date.parse(t.key+":00:00Z"),o=" at "+formatTime(new Date(i))),$(this).tooltip({title:n+o,container:"body"})}),d3.select(n+"-loading").remove(),c}function hBarViz(t,n){if(void 0===t)return void d3.select("#"+n+"-loading").remove();var e=d3.select("div#"+n+"-body").append("svg").attr("width",w+l+r).attr("height",t.length*(h+2*s)+30).attr("class","chart").append("g").attr("transform","translate("+l+","+h+")"),i=null;i="work"===n?d3.scale.linear().domain([0,d3.max(t,function(t){return t[n+"_count"]})]).range([0,w]):d3.scale.log().domain([.1,d3.max(t,function(t){return t[n+"_count"]})]).range([1,w]);var o=d3.scale.ordinal().domain(t.map(function(t){return t.title})).rangeBands([0,(h+2*s)*t.length]),a=d3.scale.ordinal().domain(t.map(function(t){return t.group_id})).range(colors);e.selectAll("text.labels").data(t).enter().append("a").attr("xlink:href",function(t){return"/sources/"+t.id}).append("text").attr("x",0).attr("y",function(t){return o(t.title)+o.rangeBand()/2}).attr("dx",0-l).attr("dy",".18em").text(function(t){return t.title}),e.selectAll("rect").data(t).enter().append("rect").attr("fill",function(t){return a(t.group_id)}).attr("y",function(t){return o(t.title)}).attr("height",h).attr("width",function(t){return i(t[n+"_count"])}),e.selectAll("text.values").data(t).enter().append("text").attr("x",function(t){return i(t[n+"_count"])}).attr("y",function(t){return o(t.title)+o.rangeBand()/2}).attr("dx",5).attr("dy",".18em").text(function(t){return numberWithDelimiter(t[n+"_count"])}),d3.select("#"+n+"-loading").remove()}function donutViz(t,n,e,r,i,o){var a=d3.select(n).append("svg").data([t]).attr("width",2*radius+50).attr("height",2*radius).attr("class","chart donut").append("svg:g").attr("transform","translate("+(radius+20)+","+radius+")"),u=d3.svg.arc().outerRadius(radius-5).innerRadius(radius-30),l=d3.layout.pie().sort(null).value(function(t){return t.value}),c=a.selectAll("g.slice").data(l).enter().append("svg:g").attr("class","slice");return c.append("svg:path").attr("fill",function(t,n){return i(n)}).attr("d",u),c.each(function(t){$(this).tooltip({title:formatFixed(t.data.value)+" "+o+" "+t.data.key.replace("_"," "),container:"body"})}),null!==r?(a.append("text").attr("dy",0).attr("text-anchor","middle").attr("class","title").text(e),a.append("text").attr("dy",21).attr("text-anchor","middle").attr("class","subtitle").text(r)):a.append("text").attr("dy",8).attr("text-anchor","middle").attr("class","title-only").text(e),d3.select(n+"-loading").remove(),a}function numberWithDelimiter(t){return 0!==t?formatFixed(t):null}function numberToHumanSize(t){var n=1e3;if(t<n)return t+" B";var e=["KB","MB","GB","TB","PB"],r=-1;do{t/=n,++r}while(t>=n);return t.toFixed(1)+" "+e[r]}function datePartsToDate(t){var n=t.length;if(0===n||n>3)return null;for(var e=0;e<n;++e)t[e]<10?t[e]="0"+t[e]:t[e]=""+t[e];var r=Date.parse(t.join("-")+"T12:00");return new Date(r)}function formattedDate(t){var n=new Date(Date.parse(t));switch(t.length){case 4:return formatYear(n);case 7:return formatMonthYear(n);case 10:return formatDate(n);default:return formatDateTime(n)}}function formattedPastDate(t){return formatISO(d3.time.day.offset(new Date,-t))}function paginate(t,n){if(""!==t.meta.page&&t.meta.total_pages>1){var e=t.meta.page>1?"\xab":null,r=t.meta.page<t.meta.total_pages?"\xbb":null;d3.select(n).append("div").attr("id","paginator").attr("class","text-center"),$("#paginator").bootpag({total:t.meta.total_pages,page:t.meta.page,maxVisible:10,href:t.href,leaps:!1,prev:e,next:r})}}function pathForWork(t){return void 0===t?"":"http://doi.org/"===t.substring(0,15)||"http://www.ncbi.nlm.nih.gov/pubmed/"===t.substring(0,35)||"http://www.ncbi.nlm.nih.gov/pmc/works/PMC"===t.substring(0,41)||"http://www.ncbi.nlm.nih.gov/pmc/works/PMC"===t.substring(0,41)||"http://arxiv.org/abs/"===t.substring(0,21)||"http://n2t.net/"===t.substring(0,15)?t.replace(/^https?:\/\//,""):t}function signpostsFromWork(t,n,e,r){var i="",o=[],a="";void 0!==e&&""!==e?i=e:void 0!==r&&""!==r&&(i=r),""!==i&&(a=n.filter(function(t){return t.id===i})[0]),void 0!==a&&""!==a&&o.push(formattedSignpost(a.title,t.results[i],i));for(var u in t.results)void 0!==(a=n.filter(function(t){return t.id===u&&t.id!==i})[0])&&a!=={}&&o.push(formattedSignpost(a.title,t.results[u],u));return o}function formattedSignpost(t,n,e){return{title:t,count:n,name:e}}function relationToString(t,n,e){var r=n.filter(function(n){return n.id===t.source_id})[0];void 0!==r&&""!==r||(r={});var i=e.filter(function(n){return n.id===t.relation_type_id})[0];return void 0!==i&&""!==i||(i={}),[i.title," via "+r.title]}function metadataToString(t,n){var e=t["container-title"]?" via "+t["container-title"]:"",r=n.filter(function(n){return n.id===t.work_type_id})[0];return void 0!==r&&""!==r||(r={title:"Work"}),r.title+" published "+formattedDate(t.published)+e}function formattedAuthorList(t){switch(t=t.map(function(t){return formattedAuthor(t)}),t.length){case 0:case 1:case 2:return t.join(" & ");case 3:case 4:return t.slice(0,-1).join(", ")+" & "+t[t.length-1];default:return t.slice(0,3).join(", ")+", <em>et al</em>"}}function formattedAuthor(t){var n="undefined"!=typeof t.given?t.given:"",e="undefined"!=typeof t.family?t.family:"",r=[n,e].join(" "),r="undefined"!=typeof t.ORCID?'<a href="/contributors/'+t.ORCID.substring(7)+'">'+r+"</a>":r;return r}function formattedCreatorList(t){switch(t=t.map(function(t){return formattedCreator(t)}),t.length){case 0:case 1:case 2:return t.join(" & ");case 3:case 4:return t.slice(0,-1).join(", ")+" & "+t[t.length-1];default:return t.slice(0,3).join(", ")+", <em>et al</em>"}}function formattedCreator(t){return["undefined"!=typeof t.givenName?t.givenName:"","undefined"!=typeof t.familyName?t.familyName:""].join(" ")}function formattedState(t){return"failed"===t?'<span class="label label-fatal">failed</span>':t}function getParameterByName(t,n){n||(n=window.location.href),t=t.replace(/[\[\]]/g,"\\$&");var e=new RegExp("[?&]"+t+"(=([^&#]*)|&|#|$)"),r=e.exec(n);return r?r[2]?decodeURIComponent(r[2].replace(/\+/g," ")):"":null}function isEmpty(t){for(var n in t)if(t.hasOwnProperty(n))return!1;return!0}function capitalizeFirstLetter(t){return t.charAt(0).toUpperCase()+t.slice(1)}function removeEmpty(t){return Object.keys(t).forEach(function(n){t[n]&&"object"==typeof t[n]&&removeEmpty(t[n])||(""===t[n]||null===t[n])&&delete t[n]}),t}function getCookieValue(t){var n=document.cookie.match("(^|;)\\s*"+t+"\\s*=\\s*([^;]+)");return n?n.pop():""}!function(t,n){"use strict";"function"==typeof define&&define.amd?define(n):"object"==typeof exports?module.exports=n():t.returnExports=n()}(this,function(){var t,n=Array,e=n.prototype,r=Object,i=r.prototype,o=Function.prototype,a=String,u=a.prototype,l=Number,c=l.prototype,f=e.slice,s=e.splice,h=e.push,p=e.unshift,d=e.concat,v=o.call,g=Math.max,y=Math.min,m=i.toString,b="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,x=Function.prototype.toString,w=function(t){try{return x.call(t),!0}catch(t){return!1}};t=function(t){if("function"!=typeof t)return!1;if(b)return w(t);var n=m.call(t);return"[object Function]"===n||"[object GeneratorFunction]"===n};var _,M=RegExp.prototype.exec,k=function(t){try{return M.call(t),!0}catch(t){return!1}};_=function(t){return"object"==typeof t&&(b?k(t):"[object RegExp]"===m.call(t))};var S,E=String.prototype.valueOf,A=function(t){try{return E.call(t),!0}catch(t){return!1}};S=function(t){return"string"==typeof t||"object"==typeof t&&(b?A(t):"[object String]"===m.call(t))};var N=function(t){var n,e=r.defineProperty&&function(){try{var t={};r.defineProperty(t,"x",{enumerable:!1,value:t});for(var n in t)return!1;return t.x===t}catch(t){return!1}}();return n=e?function(t,n,e,i){!i&&n in t||r.defineProperty(t,n,{configurable:!0,enumerable:!1,writable:!0,value:e})}:function(t,n,e,r){!r&&n in t||(t[n]=e)},function(e,r,i){for(var o in r)t.call(r,o)&&n(e,o,r[o],i)}}(i.hasOwnProperty),C=function(t){var n=typeof t;return null===t||"object"!==n&&"function"!==n},T=l.isNaN||function(t){return t!==t},j={ToInteger:function(t){var n=+t;return T(n)?n=0:0!==n&&n!==1/0&&n!==-1/0&&(n=(n>0||-1)*Math.floor(Math.abs(n))),n},ToPrimitive:function(n){var e,r,i;if(C(n))return n;if(r=n.valueOf,t(r)&&(e=r.call(n),C(e)))return e;if(i=n.toString,t(i)&&(e=i.call(n),C(e)))return e;throw new TypeError},ToObject:function(t){if(null==t)throw new TypeError("can't convert "+t+" to object");return r(t)},ToUint32:function(t){return t>>>0}},D=function(){};N(o,{bind:function(n){var e=this;if(!t(e))throw new TypeError("Function.prototype.bind called on incompatible "+e);for(var i,o=f.call(arguments,1),a=function(){if(this instanceof i){var t=e.apply(this,d.call(o,f.call(arguments)));return r(t)===t?t:this}return e.apply(n,d.call(o,f.call(arguments)))},u=g(0,e.length-o.length),l=[],c=0;c<u;c++)h.call(l,"$"+c);return i=Function("binder","return function ("+l.join(",")+"){ return binder.apply(this, arguments); }")(a),e.prototype&&(D.prototype=e.prototype,i.prototype=new D,D.prototype=null),i}});var I=v.bind(i.hasOwnProperty),R=v.bind(i.toString),O=v.bind(u.slice),z=v.bind(u.split),L=n.isArray||function(t){return"[object Array]"===R(t)},q=1!==[].unshift(0);N(e,{unshift:function(){return p.apply(this,arguments),this.length}},q),N(n,{isArray:L});var F=r("a"),U="a"!==F[0]||!(0 in F),$=function(t){var n=!0,e=!0;return t&&(t.call("foo",function(t,e,r){"object"!=typeof r&&(n=!1)}),t.call([1],function(){"use strict";e="string"==typeof this},"x")),!!t&&n&&e};N(e,{forEach:function(n){var e,r=j.ToObject(this),i=U&&S(this)?z(this,""):r,o=-1,a=j.ToUint32(i.length);if(arguments.length>1&&(e=arguments[1]),!t(n))throw new TypeError("Array.prototype.forEach callback must be a function");for(;++o<a;)o in i&&(void 0===e?n(i[o],o,r):n.call(e,i[o],o,r))}},!$(e.forEach)),N(e,{map:function(e){var r,i=j.ToObject(this),o=U&&S(this)?z(this,""):i,a=j.ToUint32(o.length),u=n(a);if(arguments.length>1&&(r=arguments[1]),!t(e))throw new TypeError("Array.prototype.map callback must be a function");for(var l=0;l<a;l++)l in o&&(u[l]=void 0===r?e(o[l],l,i):e.call(r,o[l],l,i));return u}},!$(e.map)),N(e,{filter:function(n){var e,r,i=j.ToObject(this),o=U&&S(this)?z(this,""):i,a=j.ToUint32(o.length),u=[];if(arguments.length>1&&(r=arguments[1]),!t(n))throw new TypeError("Array.prototype.filter callback must be a function");for(var l=0;l<a;l++)l in o&&(e=o[l],(void 0===r?n(e,l,i):n.call(r,e,l,i))&&h.call(u,e));return u}},!$(e.filter)),N(e,{every:function(n){var e,r=j.ToObject(this),i=U&&S(this)?z(this,""):r,o=j.ToUint32(i.length);if(arguments.length>1&&(e=arguments[1]),!t(n))throw new TypeError("Array.prototype.every callback must be a function");for(var a=0;a<o;a++)if(a in i&&!(void 0===e?n(i[a],a,r):n.call(e,i[a],a,r)))return!1;return!0}},!$(e.every)),N(e,{some:function(n){var e,r=j.ToObject(this),i=U&&S(this)?z(this,""):r,o=j.ToUint32(i.length);if(arguments.length>1&&(e=arguments[1]),!t(n))throw new TypeError("Array.prototype.some callback must be a function");for(var a=0;a<o;a++)if(a in i&&(void 0===e?n(i[a],a,r):n.call(e,i[a],a,r)))return!0;return!1}},!$(e.some));var P=!1;e.reduce&&(P="object"==typeof e.reduce.call("es5",function(t,n,e,r){return r})),N(e,{reduce:function(n){var e=j.ToObject(this),r=U&&S(this)?z(this,""):e,i=j.ToUint32(r.length);if(!t(n))throw new TypeError("Array.prototype.reduce callback must be a function");if(0===i&&1===arguments.length)throw new TypeError("reduce of empty array with no initial value");var o,a=0;if(arguments.length>=2)o=arguments[1];else for(;;){if(a in r){o=r[a++];break}if(++a>=i)throw new TypeError("reduce of empty array with no initial value")}for(;a<i;a++)a in r&&(o=n(o,r[a],a,e));return o}},!P);var H=!1;e.reduceRight&&(H="object"==typeof e.reduceRight.call("es5",function(t,n,e,r){return r})),N(e,{reduceRight:function(n){var e=j.ToObject(this),r=U&&S(this)?z(this,""):e,i=j.ToUint32(r.length);if(!t(n))throw new TypeError("Array.prototype.reduceRight callback must be a function");if(0===i&&1===arguments.length)throw new TypeError("reduceRight of empty array with no initial value");var o,a=i-1;if(arguments.length>=2)o=arguments[1];else for(;;){if(a in r){o=r[a--];break}if(--a<0)throw new TypeError("reduceRight of empty array with no initial value")}if(a<0)return o;do{a in r&&(o=n(o,r[a],a,e))}while(a--);return o}},!H);var V=e.indexOf&&-1!==[0,1].indexOf(1,2);N(e,{indexOf:function(t){var n=U&&S(this)?z(this,""):j.ToObject(this),e=j.ToUint32(n.length);if(0===e)return-1;var r=0;for(arguments.length>1&&(r=j.ToInteger(arguments[1])),r=r>=0?r:g(0,e+r);r<e;r++)if(r in n&&n[r]===t)return r;return-1}},V);var Y=e.lastIndexOf&&-1!==[0,1].lastIndexOf(0,-3);N(e,{lastIndexOf:function(t){var n=U&&S(this)?z(this,""):j.ToObject(this),e=j.ToUint32(n.length);if(0===e)return-1;var r=e-1;for(arguments.length>1&&(r=y(r,j.ToInteger(arguments[1]))),r=r>=0?r:e-Math.abs(r);r>=0;r--)if(r in n&&t===n[r])return r;return-1}},Y);var B=function(){var t=[1,2],n=t.splice();return 2===t.length&&L(n)&&0===n.length}();N(e,{splice:function(){return 0===arguments.length?[]:s.apply(this,arguments)}},!B);var Z=function(){var t={};return e.splice.call(t,0,0,1),1===t.length}();N(e,{splice:function(t,n){if(0===arguments.length)return[];var e=arguments;return this.length=g(j.ToInteger(this.length),0),arguments.length>0&&"number"!=typeof n&&(e=f.call(arguments),e.length<2?h.call(e,this.length-t):e[1]=j.ToInteger(n)),s.apply(this,e)}},!Z);var W=function(){var t=new n(1e5);return t[8]="x",t.splice(1,1),7===t.indexOf("x")}(),X=function(){var t=256,n=[];return n[t]="a",n.splice(t+1,0,"b"),"a"===n[t]}();N(e,{splice:function(t,n){for(var e,r=j.ToObject(this),i=[],o=j.ToUint32(r.length),u=j.ToInteger(t),l=u<0?g(o+u,0):y(u,o),c=y(g(j.ToInteger(n),0),o-l),s=0;s<c;)e=a(l+s),I(r,e)&&(i[s]=r[e]),s+=1;var h,p=f.call(arguments,2),d=p.length;if(d<c){for(s=l;s<o-c;)e=a(s+c),h=a(s+d),I(r,e)?r[h]=r[e]:delete r[h],s+=1;for(s=o;s>o-c+d;)delete r[s-1],s-=1}else if(d>c)for(s=o-c;s>l;)e=a(s+c-1),h=a(s+d-1),I(r,e)?r[h]=r[e]:delete r[h],s-=1;s=l;for(var v=0;v<p.length;++v)r[s]=p[v],s+=1;return r.length=o-c+d,i}},!W||!X);var J=!{toString:null}.propertyIsEnumerable("toString"),K=function(){}.propertyIsEnumerable("prototype"),G=!I("x","0"),Q=function(t){var n=t.constructor;return n&&n.prototype===t},tt={$window:!0,$console:!0,$parent:!0,$self:!0,$frame:!0,$frames:!0,$frameElement:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0},nt=function(){if("undefined"==typeof window)return!1;for(var t in window)try{!tt["$"+t]&&I(window,t)&&null!==window[t]&&"object"==typeof window[t]&&Q(window[t])}catch(t){return!0}return!1}(),et=function(t){if("undefined"==typeof window||!nt)return Q(t);try{return Q(t)}catch(t){return!1}},rt=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],it=rt.length,ot=function(t){return"[object Arguments]"===R(t)},at=function(n){return null!==n&&"object"==typeof n&&"number"==typeof n.length&&n.length>=0&&!L(n)&&t(n.callee)},ut=ot(arguments)?ot:at;N(r,{keys:function(n){var e=t(n),r=ut(n),i=null!==n&&"object"==typeof n,o=i&&S(n);if(!i&&!e&&!r)throw new TypeError("Object.keys called on a non-object");var u=[],l=K&&e;if(o&&G||r)for(var c=0;c<n.length;++c)h.call(u,a(c));if(!r)for(var f in n)l&&"prototype"===f||!I(n,f)||h.call(u,a(f));if(J)for(var s=et(n),p=0;p<it;p++){var d=rt[p];s&&"constructor"===d||!I(n,d)||h.call(u,d)}return u}});var lt=r.keys&&function(){return 2===r.keys(arguments).length}(1,2),ct=r.keys&&function(){var t=r.keys(arguments);return 1!==arguments.length||1!==t.length||1!==t[0]}(1),ft=r.keys;N(r,{keys:function(t){return ft(ut(t)?f.call(t):t)}},!lt||ct);var st=-621987552e5,ht="-000001",pt=Date.prototype.toISOString&&-1===new Date(st).toISOString().indexOf(ht),dt=Date.prototype.toISOString&&"1969-12-31T23:59:59.999Z"!==new Date(-1).toISOString();N(Date.prototype,{toISOString:function(){var t,n,e,r,i;if(!isFinite(this))throw new RangeError("Date.prototype.toISOString called on non-finite value.");for(r=this.getUTCFullYear(),i=this.getUTCMonth(),r+=Math.floor(i/12),i=(i%12+12)%12,t=[i+1,this.getUTCDate(),this.getUTCHours(),this.getUTCMinutes(),this.getUTCSeconds()],r=(r<0?"-":r>9999?"+":"")+O("00000"+Math.abs(r),0<=r&&r<=9999?-4:-6),n=t.length;n--;)(e=t[n])<10&&(t[n]="0"+e);return r+"-"+f.call(t,0,2).join("-")+"T"+f.call(t,2).join(":")+"."+O("000"+this.getUTCMilliseconds(),-3)+"Z"}},pt||dt),function(){try{return Date.prototype.toJSON&&null===new Date(NaN).toJSON()&&-1!==new Date(st).toJSON().indexOf(ht)&&Date.prototype.toJSON.call({toISOString:function(){return!0}})}catch(t){return!1}}()||(Date.prototype.toJSON=function(){var n=r(this),e=j.ToPrimitive(n);if("number"==typeof e&&!isFinite(e))return null;var i=n.toISOString;if(!t(i))throw new TypeError("toISOString property is not callable");return i.call(n)});var vt=1e15===Date.parse("+033658-09-27T01:46:40.000Z"),gt=!isNaN(Date.parse("2012-04-04T24:00:00.500Z"))||!isNaN(Date.parse("2012-11-31T23:59:59.000Z"))||!isNaN(Date.parse("2012-12-31T23:59:60.000Z"));if(isNaN(Date.parse("2000-01-01T00:00:00.000Z"))||gt||!vt){var yt=Math.pow(2,31)-1,mt=(Math.floor(yt/1e3),T(new Date(1970,0,1,0,0,0,yt+1).getTime()));Date=function(t){var n=function(e,r,i,o,u,l,c){var f,s=arguments.length;if(this instanceof t){var h=l,p=c;if(mt&&s>=7&&c>yt){var d=Math.floor(c/yt)*yt,v=Math.floor(d/1e3);h+=v,p-=1e3*v}f=1===s&&a(e)===e?new t(n.parse(e)):s>=7?new t(e,r,i,o,u,h,p):s>=6?new t(e,r,i,o,u,h):s>=5?new t(e,r,i,o,u):s>=4?new t(e,r,i,o):s>=3?new t(e,r,i):s>=2?new t(e,r):s>=1?new t(e):new t}else f=t.apply(this,arguments);return C(f)||N(f,{constructor:n},!0),f},e=new RegExp("^(\\d{4}|[+-]\\d{6})(?:-(\\d{2})(?:-(\\d{2})(?:T(\\d{2}):(\\d{2})(?::(\\d{2})(?:(\\.\\d{1,}))?)?(Z|(?:([-+])(\\d{2}):(\\d{2})))?)?)?)?$"),r=[0,31,59,90,120,151,181,212,243,273,304,334,365],i=function(t,n){var e=n>1?1:0;return r[n]+Math.floor((t-1969+e)/4)-Math.floor((t-1901+e)/100)+Math.floor((t-1601+e)/400)+365*(t-1970)},o=function(n){var e=0,r=n;if(mt&&r>yt){var i=Math.floor(r/yt)*yt,o=Math.floor(i/1e3);e+=o,r-=1e3*o}return l(new t(1970,0,1,0,0,e,r))};for(var u in t)I(t,u)&&(n[u]=t[u]);return N(n,{now:t.now,UTC:t.UTC},!0),n.prototype=t.prototype,N(n.prototype,{constructor:n},!0),N(n,{parse:function(n){var r=e.exec(n);if(r){var a,u=l(r[1]),c=l(r[2]||1)-1,f=l(r[3]||1)-1,s=l(r[4]||0),h=l(r[5]||0),p=l(r[6]||0),d=Math.floor(1e3*l(r[7]||0)),v=Boolean(r[4]&&!r[8]),g="-"===r[9]?1:-1,y=l(r[10]||0),m=l(r[11]||0);return s<(h>0||p>0||d>0?24:25)&&h<60&&p<60&&d<1e3&&c>-1&&c<12&&y<24&&m<60&&f>-1&&f<i(u,c+1)-i(u,c)&&(a=60*(24*(i(u,c)+f)+s+y*g),a=1e3*(60*(a+h+m*g)+p)+d,v&&(a=o(a)),-864e13<=a&&a<=864e13)?a:NaN}return t.parse.apply(this,arguments)}}),n}(Date)}Date.now||(Date.now=function(){return(new Date).getTime()});var bt=c.toFixed&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0)),xt={base:1e7,size:6,data:[0,0,0,0,0,0],multiply:function(t,n){for(var e=-1,r=n;++e<xt.size;)r+=t*xt.data[e],xt.data[e]=r%xt.base,r=Math.floor(r/xt.base)},divide:function(t){for(var n=xt.size,e=0;--n>=0;)e+=xt.data[n],xt.data[n]=Math.floor(e/t),e=e%t*xt.base},numToString:function(){for(var t=xt.size,n="";--t>=0;)if(""!==n||0===t||0!==xt.data[t]){var e=a(xt.data[t]);""===n?n=e:n+=O("0000000",0,7-e.length)+e}return n},pow:function t(n,e,r){return 0===e?r:e%2==1?t(n,e-1,r*n):t(n*n,e/2,r)},log:function(t){for(var n=0,e=t;e>=4096;)n+=12,e/=4096;for(;e>=2;)n+=1,e/=2;return n}};N(c,{toFixed:function(t){var n,e,r,i,o,u,c,f;if(n=l(t),(n=T(n)?0:Math.floor(n))<0||n>20)throw new RangeError("Number.toFixed called with invalid number of decimals");if(e=l(this),T(e))return"NaN";if(e<=-1e21||e>=1e21)return a(e);if(r="",e<0&&(r="-",e=-e),i="0",e>1e-21)if(o=xt.log(e*xt.pow(2,69,1))-69,u=o<0?e*xt.pow(2,-o,1):e/xt.pow(2,o,1),u*=4503599627370496,(o=52-o)>0){for(xt.multiply(0,u),c=n;c>=7;)xt.multiply(1e7,0),c-=7;for(xt.multiply(xt.pow(10,c,1),0),c=o-1;c>=23;)xt.divide(1<<23),c-=23;xt.divide(1<<c),xt.multiply(1,1),xt.divide(2),i=xt.numToString()}else xt.multiply(0,u),xt.multiply(1<<-o,0),i=xt.numToString()+O("0.00000000000000000000",2,2+n);return n>0?(f=i.length,i=f<=n?r+O("0.0000000000000000000",0,n-f+2)+i:r+O(i,0,f-n)+"."+O(i,f-n)):i=r+i,i}},bt),2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||"t"==="tesst".split(/(s)*/)[1]||4!=="test".split(/(?:)/,-1).length||"".split(/.?/).length||".".split(/()()/).length>1?function(){var t="undefined"==typeof/()??/.exec("")[1],n=Math.pow(2,32)-1;u.split=function(e,r){var i=this;if(void 0===e&&0===r)return[];if(!_(e))return z(this,e,r);var o,a,u,l,c=[],s=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),p=0,d=new RegExp(e.source,s+"g");i+="",t||(o=new RegExp("^"+d.source+"$(?!\\s)",s));var v=void 0===r?n:j.ToUint32(r);for(a=d.exec(i);a&&!((u=a.index+a[0].length)>p&&(h.call(c,O(i,p,a.index)),!t&&a.length>1&&a[0].replace(o,function(){for(var t=1;t<arguments.length-2;t++)"undefined"==typeof arguments[t]&&(a[t]=void 0)}),a.length>1&&a.index<i.length&&h.apply(c,f.call(a,1)),l=a[0].length,p=u,c.length>=v));)d.lastIndex===a.index&&d.lastIndex++,a=d.exec(i);return p===i.length?!l&&d.test("")||h.call(c,""):h.call(c,O(i,p)),c.length>v?arraySlice(c,0,v):c}}():"0".split(void 0,0).length&&(u.split=function(t,n){return void 0===t&&0===n?[]:z(this,t,n)});var wt=u.replace;(function(){var t=[];return"x".replace(/x(.)?/g,function(n,e){h.call(t,e)}),1===t.length&&"undefined"==typeof t[0]})()||(u.replace=function(n,e){var r=t(e),i=_(n)&&/\)[*?]/.test(n.source);if(r&&i){var o=function(t){var r=arguments.length,i=n.lastIndex;n.lastIndex=0;var o=n.exec(t)||[];return n.lastIndex=i,h.call(o,arguments[r-2],arguments[r-1]),e.apply(this,o)};return wt.call(this,n,o)}return wt.call(this,n,e)});var _t=u.substr,Mt="".substr&&"b"!=="0b".substr(-1);N(u,{substr:function(t,n){var e=t;return t<0&&(e=g(this.length+t,0)),_t.call(this,e,n)}},Mt);var kt="\t\n\x0B\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff",St="\u200b",Et="["+kt+"]",At=new RegExp("^"+Et+Et+"*"),Nt=new RegExp(Et+Et+"*$"),Ct=u.trim&&(kt.trim()||!St.trim());N(u,{trim:function(){if(void 0===this||null===this)throw new TypeError("can't convert "+this+" to object");return a(this).replace(At,"").replace(Nt,"")}},Ct),8===parseInt(kt+"08")&&22===parseInt(kt+"0x16")||(parseInt=function(t){var n=/^0[xX]/;return function(e,r){var i=a(e).trim(),o=l(r)||(n.test(i)?16:10);return t(i,o)}}(parseInt))}),function(){function t(t,n){if(t!==n){var e=null===t,r=t===_,i=t===t,o=null===n,a=n===_,u=n===n;if(t>n&&!o||!i||e&&!a&&u||r&&u)return 1;if(t<n&&!e||!u||o&&!r&&i||a&&i)return-1}return 0}function n(t,n,e){for(var r=t.length,i=e?r:-1;e?i--:++i<r;)if(n(t[i],i,t))return i;return-1}function e(t,n,e){if(n!==n)return p(t,e);for(var r=e-1,i=t.length;++r<i;)if(t[r]===n)return r;return-1}function r(t){return"function"==typeof t||!1}function i(t){return null==t?"":t+""}function o(t,n){for(var e=-1,r=t.length;++e<r&&n.indexOf(t.charAt(e))>-1;);return e}function a(t,n){for(var e=t.length;e--&&n.indexOf(t.charAt(e))>-1;);return e}function u(n,e){return t(n.criteria,e.criteria)||n.index-e.index}function l(n,e,r){for(var i=-1,o=n.criteria,a=e.criteria,u=o.length,l=r.length;++i<u;){var c=t(o[i],a[i]);if(c){if(i>=l)return c;var f=r[i];return c*("asc"===f||!0===f?1:-1)}}return n.index-e.index}function c(t){return $t[t]}function f(t){return Pt[t]}function s(t,n,e){return n?t=Yt[t]:e&&(t=Bt[t]),"\\"+t}function h(t){return"\\"+Bt[t]}function p(t,n,e){for(var r=t.length,i=n+(e?0:-1);e?i--:++i<r;){var o=t[i];if(o!==o)return i}return-1}function d(t){return!!t&&"object"==typeof t}function v(t){return t<=160&&t>=9&&t<=13||32==t||160==t||5760==t||6158==t||t>=8192&&(t<=8202||8232==t||8233==t||8239==t||8287==t||12288==t||65279==t)}function g(t,n){for(var e=-1,r=t.length,i=-1,o=[];++e<r;)t[e]===n&&(t[e]=$,o[++i]=e);return o}function y(t,n){for(var e,r=-1,i=t.length,o=-1,a=[];++r<i;){var u=t[r],l=n?n(u,r,t):u;r&&e===l||(e=l,a[++o]=u)}return a}function m(t){for(var n=-1,e=t.length;++n<e&&v(t.charCodeAt(n)););return n}function b(t){for(var n=t.length;n--&&v(t.charCodeAt(n)););return n}function x(t){return Ht[t]}function w(v){function W(t){if(d(t)&&!Cu(t)&&!(t instanceof $t)){if(t instanceof tt)return t;if(na.call(t,"__chain__")&&na.call(t,"__wrapped__"))return pr(t)}return new tt(t)}function G(){}function tt(t,n,e){this.__wrapped__=t,this.__actions__=e||[],this.__chain__=!!n}function $t(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Na,this.__views__=[]}function Pt(){var t=new $t(this.__wrapped__);return t.__actions__=en(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=en(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=en(this.__views__),t}function Ht(){if(this.__filtered__){var t=new $t(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function Vt(){var t=this.__wrapped__.value(),n=this.__dir__,e=Cu(t),r=n<0,i=e?t.length:0,o=Be(0,i,this.__views__),a=o.start,u=o.end,l=u-a,c=r?u:a-1,f=this.__iteratees__,s=f.length,h=0,p=Ma(l,this.__takeCount__);if(!e||i<L||i==l&&p==l)return re(t,this.__actions__);var d=[];t:for(;l--&&h<p;){c+=n;for(var v=-1,g=t[c];++v<s;){var y=f[v],m=y.iteratee,b=y.type,x=m(g);if(b==F)g=x;else if(!x){if(b==q)continue t;break t}}d[h++]=g}return d}function Yt(){this.__data__={}}function Bt(t){return this.has(t)&&delete this.__data__[t]}function Zt(t){return"__proto__"==t?_:this.__data__[t]}function Wt(t){return"__proto__"!=t&&na.call(this.__data__,t)}function Xt(t,n){return"__proto__"!=t&&(this.__data__[t]=n),this}function Jt(t){var n=t?t.length:0;for(this.data={hash:ya(null),set:new sa};n--;)this.push(t[n])}function Kt(t,n){var e=t.data;return("string"==typeof n||Ri(n)?e.set.has(n):e.hash[n])?0:-1}function Gt(t){var n=this.data;"string"==typeof t||Ri(t)?n.set.add(t):n.hash[t]=!0}function nn(t,n){for(var e=-1,r=t.length,i=-1,o=n.length,a=$o(r+o);++e<r;)a[e]=t[e];for(;++i<o;)a[e++]=n[i];return a}function en(t,n){var e=-1,r=t.length;for(n||(n=$o(r));++e<r;)n[e]=t[e];return n}function rn(t,n){for(var e=-1,r=t.length;++e<r&&!1!==n(t[e],e,t););return t}function on(t,n){for(var e=t.length;e--&&!1!==n(t[e],e,t););return t}function an(t,n){for(var e=-1,r=t.length;++e<r;)if(!n(t[e],e,t))return!1;return!0}function un(t,n,e,r){for(var i=-1,o=t.length,a=r,u=a;++i<o;){var l=t[i],c=+n(l);e(c,a)&&(a=c,u=l)}return u}function ln(t,n){for(var e=-1,r=t.length,i=-1,o=[];++e<r;){var a=t[e];n(a,e,t)&&(o[++i]=a)}return o}function cn(t,n){for(var e=-1,r=t.length,i=$o(r);++e<r;)i[e]=n(t[e],e,t);return i}function fn(t,n){for(var e=-1,r=n.length,i=t.length;++e<r;)t[i+e]=n[e];return t}function sn(t,n,e,r){var i=-1,o=t.length;for(r&&o&&(e=t[++i]);++i<o;)e=n(e,t[i],i,t);return e}function hn(t,n,e,r){var i=t.length;for(r&&i&&(e=t[--i]);i--;)e=n(e,t[i],i,t);return e}function pn(t,n){for(var e=-1,r=t.length;++e<r;)if(n(t[e],e,t))return!0;return!1}function dn(t,n){for(var e=t.length,r=0;e--;)r+=+n(t[e])||0;return r}function vn(t,n){return t===_?n:t}function gn(t,n,e,r){return t!==_&&na.call(r,e)?t:n}function yn(t,n,e){for(var r=-1,i=Uu(n),o=i.length;++r<o;){var a=i[r],u=t[a],l=e(u,n[a],a,t,n);(l===l?l===u:u!==u)&&(u!==_||a in t)||(t[a]=l)}return t}function mn(t,n){return null==n?t:xn(n,Uu(n),t)}function bn(t,n){for(var e=-1,r=null==t,i=!r&&Ke(t),o=i?t.length:0,a=n.length,u=$o(a);++e<a;){var l=n[e];u[e]=i?Ge(l,o)?t[l]:_:r?_:t[l]}return u}function xn(t,n,e){e||(e={});for(var r=-1,i=n.length;++r<i;){var o=n[r];e[o]=t[o]}return e}function wn(t,n,e){var r=typeof t;return"function"==r?n===_?t:ae(t,n,e):null==t?No:"object"==r?Un(t):n===_?Ro(t):$n(t,n)}function _n(t,n,e,r,i,o,a){var u;if(e&&(u=i?e(t,r,i):e(t)),u!==_)return u;if(!Ri(t))return t;var l=Cu(t);if(l){if(u=Ze(t),!n)return en(t,u)}else{var c=ra.call(t),f=c==Z;if(c!=J&&c!=P&&(!f||i))return Ut[c]?Xe(t,c,n):i?t:{};if(u=We(f?{}:t),!n)return mn(u,t)}o||(o=[]),a||(a=[]);for(var s=o.length;s--;)if(o[s]==t)return a[s];return o.push(t),a.push(u),(l?rn:Dn)(t,function(r,i){u[i]=_n(r,n,e,i,t,o,a)}),u}function Mn(t,n,e){if("function"!=typeof t)throw new Jo(U);return ha(function(){t.apply(_,e)},n)}function kn(t,n){var r=t?t.length:0,i=[];if(!r)return i;var o=-1,a=He(),u=a===e,l=u&&n.length>=L?ve(n):null,c=n.length;l&&(a=Kt,u=!1,n=l);t:for(;++o<r;){var f=t[o];if(u&&f===f){for(var s=c;s--;)if(n[s]===f)continue t;i.push(f)}else a(n,f,0)<0&&i.push(f)}return i}function Sn(t,n){var e=!0;return za(t,function(t,r,i){return e=!!n(t,r,i)}),e}function En(t,n,e,r){var i=r,o=i;return za(t,function(t,a,u){var l=+n(t,a,u);(e(l,i)||l===r&&l===o)&&(i=l,o=t)}),o}function An(t,n,e,r){var i=t.length;for(e=null==e?0:+e||0,e<0&&(e=-e>i?0:i+e),r=r===_||r>i?i:+r||0,r<0&&(r+=i),i=e>r?0:r>>>0,e>>>=0;e<i;)t[e++]=n;return t}function Nn(t,n){var e=[];return za(t,function(t,r,i){n(t,r,i)&&e.push(t)}),e}function Cn(t,n,e,r){var i;return e(t,function(t,e,o){if(n(t,e,o))return i=r?e:t,!1}),i}function Tn(t,n,e,r){r||(r=[]);for(var i=-1,o=t.length;++i<o;){var a=t[i];d(a)&&Ke(a)&&(e||Cu(a)||Si(a))?n?Tn(a,n,e,r):fn(r,a):e||(r[r.length]=a)}return r}function jn(t,n){return qa(t,n,to)}function Dn(t,n){return qa(t,n,Uu)}function In(t,n){return Fa(t,n,Uu)}function Rn(t,n){for(var e=-1,r=n.length,i=-1,o=[];++e<r;){var a=n[e];Ii(t[a])&&(o[++i]=a)}return o}function On(t,n,e){if(null!=t){e!==_&&e in sr(t)&&(n=[e]);for(var r=0,i=n.length;null!=t&&r<i;)t=t[n[r++]];return r&&r==i?t:_}}function zn(t,n,e,r,i,o){return t===n||(null==t||null==n||!Ri(t)&&!d(n)?t!==t&&n!==n:Ln(t,n,zn,e,r,i,o))}function Ln(t,n,e,r,i,o,a){var u=Cu(t),l=Cu(n),c=H,f=H;u||(c=ra.call(t),c==P?c=J:c!=J&&(u=Hi(t))),l||(f=ra.call(n),f==P?f=J:f!=J&&(l=Hi(n)));var s=c==J,h=f==J,p=c==f;if(p&&!u&&!s)return Fe(t,n,c);if(!i){var d=s&&na.call(t,"__wrapped__"),v=h&&na.call(n,"__wrapped__");if(d||v)return e(d?t.value():t,v?n.value():n,r,i,o,a)}if(!p)return!1;o||(o=[]),a||(a=[]);for(var g=o.length;g--;)if(o[g]==t)return a[g]==n;o.push(t),a.push(n);var y=(u?qe:Ue)(t,n,e,r,i,o,a);return o.pop(),a.pop(),y}function qn(t,n,e){var r=n.length,i=r,o=!e;if(null==t)return!i;for(t=sr(t);r--;){var a=n[r];if(o&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++r<i;){a=n[r];var u=a[0],l=t[u],c=a[1];if(o&&a[2]){if(l===_&&!(u in t))return!1}else{var f=e?e(l,c,u):_;if(!(f===_?zn(c,l,e,!0):f))return!1}}return!0}function Fn(t,n){var e=-1,r=Ke(t)?$o(t.length):[];return za(t,function(t,i,o){r[++e]=n(t,i,o)}),r}function Un(t){var n=Ve(t);if(1==n.length&&n[0][2]){var e=n[0][0],r=n[0][1];return function(t){return null!=t&&(t[e]===r&&(r!==_||e in sr(t)))}}return function(t){return qn(t,n)}}function $n(t,n){var e=Cu(t),r=tr(t)&&rr(n),i=t+"";return t=hr(t),function(o){if(null==o)return!1;var a=i;if(o=sr(o),(e||!r)&&!(a in o)){if(null==(o=1==t.length?o:On(o,Xn(t,0,-1))))return!1;a=Er(t),o=sr(o)}return o[a]===n?n!==_||a in o:zn(n,o[a],_,!0)}}
function Pn(t,n,e,r,i){if(!Ri(t))return t;var o=Ke(n)&&(Cu(n)||Hi(n)),a=o?_:Uu(n);return rn(a||n,function(u,l){if(a&&(l=u,u=n[l]),d(u))r||(r=[]),i||(i=[]),Hn(t,n,l,Pn,e,r,i);else{var c=t[l],f=e?e(c,u,l,t,n):_,s=f===_;s&&(f=u),f===_&&(!o||l in t)||!s&&(f===f?f===c:c!==c)||(t[l]=f)}}),t}function Hn(t,n,e,r,i,o,a){for(var u=o.length,l=n[e];u--;)if(o[u]==l)return void(t[e]=a[u]);var c=t[e],f=i?i(c,l,e,t,n):_,s=f===_;s&&(f=l,Ke(l)&&(Cu(l)||Hi(l))?f=Cu(c)?c:Ke(c)?en(c):[]:Ui(l)||Si(l)?f=Si(c)?Wi(c):Ui(c)?c:{}:s=!1),o.push(l),a.push(f),s?t[e]=r(f,l,i,o,a):(f===f?f!==c:c===c)&&(t[e]=f)}function Vn(t){return function(n){return null==n?_:n[t]}}function Yn(t){var n=t+"";return t=hr(t),function(e){return On(e,t,n)}}function Bn(t,n){for(var e=t?n.length:0;e--;){var r=n[e];if(r!=i&&Ge(r)){var i=r;pa.call(t,r,1)}}return t}function Zn(t,n){return t+ma(Ea()*(n-t+1))}function Wn(t,n,e,r,i){return i(t,function(t,i,o){e=r?(r=!1,t):n(e,t,i,o)}),e}function Xn(t,n,e){var r=-1,i=t.length;n=null==n?0:+n||0,n<0&&(n=-n>i?0:i+n),e=e===_||e>i?i:+e||0,e<0&&(e+=i),i=n>e?0:e-n>>>0,n>>>=0;for(var o=$o(i);++r<i;)o[r]=t[r+n];return o}function Jn(t,n){var e;return za(t,function(t,r,i){return!(e=n(t,r,i))}),!!e}function Kn(t,n){var e=t.length;for(t.sort(n);e--;)t[e]=t[e].value;return t}function Gn(t,n,e){var r=$e(),i=-1;return n=cn(n,function(t){return r(t)}),Kn(Fn(t,function(t){return{criteria:cn(n,function(n){return n(t)}),index:++i,value:t}}),function(t,n){return l(t,n,e)})}function Qn(t,n){var e=0;return za(t,function(t,r,i){e+=+n(t,r,i)||0}),e}function te(t,n){var r=-1,i=He(),o=t.length,a=i===e,u=a&&o>=L,l=u?ve():null,c=[];l?(i=Kt,a=!1):(u=!1,l=n?[]:c);t:for(;++r<o;){var f=t[r],s=n?n(f,r,t):f;if(a&&f===f){for(var h=l.length;h--;)if(l[h]===s)continue t;n&&l.push(s),c.push(f)}else i(l,s,0)<0&&((n||u)&&l.push(s),c.push(f))}return c}function ne(t,n){for(var e=-1,r=n.length,i=$o(r);++e<r;)i[e]=t[n[e]];return i}function ee(t,n,e,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&n(t[o],o,t););return e?Xn(t,r?0:o,r?o+1:i):Xn(t,r?o+1:0,r?i:o)}function re(t,n){var e=t;e instanceof $t&&(e=e.value());for(var r=-1,i=n.length;++r<i;){var o=n[r];e=o.func.apply(o.thisArg,fn([e],o.args))}return e}function ie(t,n,e){var r=0,i=t?t.length:r;if("number"==typeof n&&n===n&&i<=ja){for(;r<i;){var o=r+i>>>1,a=t[o];(e?a<=n:a<n)&&null!==a?r=o+1:i=o}return i}return oe(t,n,No,e)}function oe(t,n,e,r){n=e(n);for(var i=0,o=t?t.length:0,a=n!==n,u=null===n,l=n===_;i<o;){var c=ma((i+o)/2),f=e(t[c]),s=f!==_,h=f===f;if(a)var p=h||r;else p=u?h&&s&&(r||null!=f):l?h&&(r||s):null!=f&&(r?f<=n:f<n);p?i=c+1:o=c}return Ma(o,Ta)}function ae(t,n,e){if("function"!=typeof t)return No;if(n===_)return t;switch(e){case 1:return function(e){return t.call(n,e)};case 3:return function(e,r,i){return t.call(n,e,r,i)};case 4:return function(e,r,i,o){return t.call(n,e,r,i,o)};case 5:return function(e,r,i,o,a){return t.call(n,e,r,i,o,a)}}return function(){return t.apply(n,arguments)}}function ue(t){var n=new aa(t.byteLength);return new da(n).set(new da(t)),n}function le(t,n,e){for(var r=e.length,i=-1,o=_a(t.length-r,0),a=-1,u=n.length,l=$o(u+o);++a<u;)l[a]=n[a];for(;++i<r;)l[e[i]]=t[i];for(;o--;)l[a++]=t[i++];return l}function ce(t,n,e){for(var r=-1,i=e.length,o=-1,a=_a(t.length-i,0),u=-1,l=n.length,c=$o(a+l);++o<a;)c[o]=t[o];for(var f=o;++u<l;)c[f+u]=n[u];for(;++r<i;)c[f+e[r]]=t[o++];return c}function fe(t,n){return function(e,r,i){var o=n?n():{};if(r=$e(r,i,3),Cu(e))for(var a=-1,u=e.length;++a<u;){var l=e[a];t(o,l,r(l,a,e),e)}else za(e,function(n,e,i){t(o,n,r(n,e,i),i)});return o}}function se(t){return yi(function(n,e){var r=-1,i=null==n?0:e.length,o=i>2?e[i-2]:_,a=i>2?e[2]:_,u=i>1?e[i-1]:_;for("function"==typeof o?(o=ae(o,u,5),i-=2):(o="function"==typeof u?u:_,i-=o?1:0),a&&Qe(e[0],e[1],a)&&(o=i<3?_:o,i=1);++r<i;){var l=e[r];l&&t(n,l,o)}return n})}function he(t,n){return function(e,r){var i=e?Pa(e):0;if(!er(i))return t(e,r);for(var o=n?i:-1,a=sr(e);(n?o--:++o<i)&&!1!==r(a[o],o,a););return e}}function pe(t){return function(n,e,r){for(var i=sr(n),o=r(n),a=o.length,u=t?a:-1;t?u--:++u<a;){var l=o[u];if(!1===e(i[l],l,i))break}return n}}function de(t,n){function e(){return(this&&this!==Qt&&this instanceof e?r:t).apply(n,arguments)}var r=ye(t);return e}function ve(t){return ya&&sa?new Jt(t):null}function ge(t){return function(n){for(var e=-1,r=So(fo(n)),i=r.length,o="";++e<i;)o=t(o,r[e],e);return o}}function ye(t){return function(){var n=arguments;switch(n.length){case 0:return new t;case 1:return new t(n[0]);case 2:return new t(n[0],n[1]);case 3:return new t(n[0],n[1],n[2]);case 4:return new t(n[0],n[1],n[2],n[3]);case 5:return new t(n[0],n[1],n[2],n[3],n[4]);case 6:return new t(n[0],n[1],n[2],n[3],n[4],n[5]);case 7:return new t(n[0],n[1],n[2],n[3],n[4],n[5],n[6])}var e=Oa(t.prototype),r=t.apply(e,n);return Ri(r)?r:e}}function me(t){function n(e,r,i){i&&Qe(e,r,i)&&(r=_);var o=Le(e,t,_,_,_,_,_,r);return o.placeholder=n.placeholder,o}return n}function be(t,n){return yi(function(e){var r=e[0];return null==r?r:(e.push(n),t.apply(_,e))})}function xe(t,n){return function(e,r,i){if(i&&Qe(e,r,i)&&(r=_),r=$e(r,i,3),1==r.length){e=Cu(e)?e:fr(e);var o=un(e,r,t,n);if(!e.length||o!==n)return o}return En(e,r,t,n)}}function we(t,e){return function(r,i,o){if(i=$e(i,o,3),Cu(r)){var a=n(r,i,e);return a>-1?r[a]:_}return Cn(r,i,t)}}function _e(t){return function(e,r,i){return e&&e.length?(r=$e(r,i,3),n(e,r,t)):-1}}function Me(t){return function(n,e,r){return e=$e(e,r,3),Cn(n,e,t,!0)}}function ke(t){return function(){for(var n,e=arguments.length,r=t?e:-1,i=0,o=$o(e);t?r--:++r<e;){var a=o[i++]=arguments[r];if("function"!=typeof a)throw new Jo(U);!n&&tt.prototype.thru&&"wrapper"==Pe(a)&&(n=new tt([],!0))}for(r=n?-1:e;++r<e;){a=o[r];var u=Pe(a),l="wrapper"==u?$a(a):_;n=l&&nr(l[0])&&l[1]==(j|A|C|D)&&!l[4].length&&1==l[9]?n[Pe(l[0])].apply(n,l[3]):1==a.length&&nr(a)?n[u]():n.thru(a)}return function(){var t=arguments,r=t[0];if(n&&1==t.length&&Cu(r)&&r.length>=L)return n.plant(r).value();for(var i=0,a=e?o[i].apply(this,t):r;++i<e;)a=o[i].call(this,a);return a}}}function Se(t,n){return function(e,r,i){return"function"==typeof r&&i===_&&Cu(e)?t(e,r):n(e,ae(r,i,3))}}function Ee(t){return function(n,e,r){return"function"==typeof e&&r===_||(e=ae(e,r,3)),t(n,e,to)}}function Ae(t){return function(n,e,r){return"function"==typeof e&&r===_||(e=ae(e,r,3)),t(n,e)}}function Ne(t){return function(n,e,r){var i={};return e=$e(e,r,3),Dn(n,function(n,r,o){var a=e(n,r,o);r=t?a:r,n=t?n:a,i[r]=n}),i}}function Ce(t){return function(n,e,r){return n=i(n),(t?n:"")+Ie(n,e,r)+(t?"":n)}}function Te(t){var n=yi(function(e,r){var i=g(r,n.placeholder);return Le(e,t,_,r,i)});return n}function je(t,n){return function(e,r,i,o){var a=arguments.length<3;return"function"==typeof r&&o===_&&Cu(e)?t(e,r,i,a):Wn(e,$e(r,o,4),i,a,n)}}function De(t,n,e,r,i,o,a,u,l,c){function f(){for(var b=arguments.length,x=b,w=$o(b);x--;)w[x]=arguments[x];if(r&&(w=le(w,r,i)),o&&(w=ce(w,o,a)),d||y){var M=f.placeholder,E=g(w,M);if((b-=E.length)<c){var A=u?en(u):_,N=_a(c-b,0),j=d?E:_,D=d?_:E,I=d?w:_,R=d?_:w;n|=d?C:T,n&=~(d?T:C),v||(n&=~(k|S));var O=[t,n,e,I,j,R,D,A,l,N],z=De.apply(_,O);return nr(t)&&Ha(z,O),z.placeholder=M,z}}var L=h?e:this,q=p?L[t]:t;return u&&(w=lr(w,u)),s&&l<w.length&&(w.length=l),this&&this!==Qt&&this instanceof f&&(q=m||ye(t)),q.apply(L,w)}var s=n&j,h=n&k,p=n&S,d=n&A,v=n&E,y=n&N,m=p?_:ye(t);return f}function Ie(t,n,e){var r=t.length;if(n=+n,r>=n||!xa(n))return"";var i=n-r;return e=null==e?" ":e+"",yo(e,ga(i/e.length)).slice(0,i)}function Re(t,n,e,r){function i(){for(var n=-1,u=arguments.length,l=-1,c=r.length,f=$o(c+u);++l<c;)f[l]=r[l];for(;u--;)f[l++]=arguments[++n];return(this&&this!==Qt&&this instanceof i?a:t).apply(o?e:this,f)}var o=n&k,a=ye(t);return i}function Oe(t){var n=Yo[t];return function(t,e){return e=e===_?0:+e||0,e?(e=ca(10,e),n(t*e)/e):n(t)}}function ze(t){return function(n,e,r,i){var o=$e(r);return null==r&&o===wn?ie(n,e,t):oe(n,e,o(r,i,1),t)}}function Le(t,n,e,r,i,o,a,u){var l=n&S;if(!l&&"function"!=typeof t)throw new Jo(U);var c=r?r.length:0;if(c||(n&=~(C|T),r=i=_),c-=i?i.length:0,n&T){var f=r,s=i;r=i=_}var h=l?_:$a(t),p=[t,n,e,r,i,f,s,o,a,u];if(h&&(ir(p,h),n=p[1],u=p[9]),p[9]=null==u?l?0:t.length:_a(u-c,0)||0,n==k)var d=de(p[0],p[2]);else d=n!=C&&n!=(k|C)||p[4].length?De.apply(_,p):Re.apply(_,p);return(h?Ua:Ha)(d,p)}function qe(t,n,e,r,i,o,a){var u=-1,l=t.length,c=n.length;if(l!=c&&!(i&&c>l))return!1;for(;++u<l;){var f=t[u],s=n[u],h=r?r(i?s:f,i?f:s,u):_;if(h!==_){if(h)continue;return!1}if(i){if(!pn(n,function(t){return f===t||e(f,t,r,i,o,a)}))return!1}else if(f!==s&&!e(f,s,r,i,o,a))return!1}return!0}function Fe(t,n,e){switch(e){case V:case Y:return+t==+n;case B:return t.name==n.name&&t.message==n.message;case X:return t!=+t?n!=+n:t==+n;case K:case Q:return t==n+""}return!1}function Ue(t,n,e,r,i,o,a){var u=Uu(t),l=u.length;if(l!=Uu(n).length&&!i)return!1;for(var c=l;c--;){var f=u[c];if(!(i?f in n:na.call(n,f)))return!1}for(var s=i;++c<l;){f=u[c];var h=t[f],p=n[f],d=r?r(i?p:h,i?h:p,f):_;if(!(d===_?e(h,p,r,i,o,a):d))return!1;s||(s="constructor"==f)}if(!s){var v=t.constructor,g=n.constructor;if(v!=g&&"constructor"in t&&"constructor"in n&&!("function"==typeof v&&v instanceof v&&"function"==typeof g&&g instanceof g))return!1}return!0}function $e(t,n,e){var r=W.callback||Eo;return r=r===Eo?wn:r,e?r(t,n,e):r}function Pe(t){for(var n=t.name+"",e=Ra[n],r=e?e.length:0;r--;){var i=e[r],o=i.func;if(null==o||o==t)return i.name}return n}function He(t,n,r){var i=W.indexOf||kr;return i=i===kr?e:i,t?i(t,n,r):i}function Ve(t){for(var n=no(t),e=n.length;e--;)n[e][2]=rr(n[e][1]);return n}function Ye(t,n){var e=null==t?_:t[n];return Li(e)?e:_}function Be(t,n,e){for(var r=-1,i=e.length;++r<i;){var o=e[r],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":n-=a;break;case"take":n=Ma(n,t+a);break;case"takeRight":t=_a(t,n-a)}}return{start:t,end:n}}function Ze(t){var n=t.length,e=new t.constructor(n);return n&&"string"==typeof t[0]&&na.call(t,"index")&&(e.index=t.index,e.input=t.input),e}function We(t){var n=t.constructor;return"function"==typeof n&&n instanceof n||(n=Zo),new n}function Xe(t,n,e){var r=t.constructor;switch(n){case nt:return ue(t);case V:case Y:return new r(+t);case et:case rt:case it:case ot:case at:case ut:case lt:case ct:case ft:var i=t.buffer;return new r(e?ue(i):i,t.byteOffset,t.length);case X:case Q:return new r(t);case K:var o=new r(t.source,Ct.exec(t));o.lastIndex=t.lastIndex}return o}function Je(t,n,e){null==t||tr(n,t)||(n=hr(n),t=1==n.length?t:On(t,Xn(n,0,-1)),n=Er(n));var r=null==t?t:t[n];return null==r?_:r.apply(t,e)}function Ke(t){return null!=t&&er(Pa(t))}function Ge(t,n){return t="number"==typeof t||Dt.test(t)?+t:-1,n=null==n?Da:n,t>-1&&t%1==0&&t<n}function Qe(t,n,e){if(!Ri(e))return!1;var r=typeof n;if("number"==r?Ke(e)&&Ge(n,e.length):"string"==r&&n in e){var i=e[n];return t===t?t===i:i!==i}return!1}function tr(t,n){var e=typeof t;return!!("string"==e&&_t.test(t)||"number"==e)||!Cu(t)&&(!wt.test(t)||null!=n&&t in sr(n))}function nr(t){var n=Pe(t),e=W[n];if("function"!=typeof e||!(n in $t.prototype))return!1;if(t===e)return!0;var r=$a(e);return!!r&&t===r[0]}function er(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=Da}function rr(t){return t===t&&!Ri(t)}function ir(t,n){var e=t[1],r=n[1],i=e|r,o=i<j,a=r==j&&e==A||r==j&&e==D&&t[7].length<=n[8]||r==(j|D)&&e==A;if(!o&&!a)return t;r&k&&(t[2]=n[2],i|=e&k?0:E);var u=n[3];if(u){var l=t[3];t[3]=l?le(l,u,n[4]):en(u),t[4]=l?g(t[3],$):en(n[4])}return u=n[5],u&&(l=t[5],t[5]=l?ce(l,u,n[6]):en(u),t[6]=l?g(t[5],$):en(n[6])),u=n[7],u&&(t[7]=en(u)),r&j&&(t[8]=null==t[8]?n[8]:Ma(t[8],n[8])),null==t[9]&&(t[9]=n[9]),t[0]=n[0],t[1]=i,t}function or(t,n){return t===_?n:Tu(t,n,or)}function ar(t,n){t=sr(t);for(var e=-1,r=n.length,i={};++e<r;){var o=n[e];o in t&&(i[o]=t[o])}return i}function ur(t,n){var e={};return jn(t,function(t,r,i){n(t,r,i)&&(e[r]=t)}),e}function lr(t,n){for(var e=t.length,r=Ma(n.length,e),i=en(t);r--;){var o=n[r];t[r]=Ge(o,e)?i[o]:_}return t}function cr(t){for(var n=to(t),e=n.length,r=e&&t.length,i=!!r&&er(r)&&(Cu(t)||Si(t)),o=-1,a=[];++o<e;){var u=n[o];(i&&Ge(u,r)||na.call(t,u))&&a.push(u)}return a}function fr(t){return null==t?[]:Ke(t)?Ri(t)?t:Zo(t):oo(t)}function sr(t){return Ri(t)?t:Zo(t)}function hr(t){if(Cu(t))return t;var n=[];return i(t).replace(Mt,function(t,e,r,i){n.push(r?i.replace(At,"$1"):e||t)}),n}function pr(t){return t instanceof $t?t.clone():new tt(t.__wrapped__,t.__chain__,en(t.__actions__))}function dr(t,n,e){n=(e?Qe(t,n,e):null==n)?1:_a(ma(n)||1,1);for(var r=0,i=t?t.length:0,o=-1,a=$o(ga(i/n));r<i;)a[++o]=Xn(t,r,r+=n);return a}function vr(t){for(var n=-1,e=t?t.length:0,r=-1,i=[];++n<e;){var o=t[n];o&&(i[++r]=o)}return i}function gr(t,n,e){return(t?t.length:0)?((e?Qe(t,n,e):null==n)&&(n=1),Xn(t,n<0?0:n)):[]}function yr(t,n,e){var r=t?t.length:0;return r?((e?Qe(t,n,e):null==n)&&(n=1),n=r-(+n||0),Xn(t,0,n<0?0:n)):[]}function mr(t,n,e){return t&&t.length?ee(t,$e(n,e,3),!0,!0):[]}function br(t,n,e){return t&&t.length?ee(t,$e(n,e,3),!0):[]}function xr(t,n,e,r){var i=t?t.length:0;return i?(e&&"number"!=typeof e&&Qe(t,n,e)&&(e=0,r=i),An(t,n,e,r)):[]}function wr(t){return t?t[0]:_}function _r(t,n,e){var r=t?t.length:0;return e&&Qe(t,n,e)&&(n=!1),r?Tn(t,n):[]}function Mr(t){return(t?t.length:0)?Tn(t,!0):[]}function kr(t,n,r){var i=t?t.length:0;if(!i)return-1;if("number"==typeof r)r=r<0?_a(i+r,0):r;else if(r){var o=ie(t,n);return o<i&&(n===n?n===t[o]:t[o]!==t[o])?o:-1}return e(t,n,r||0)}function Sr(t){return yr(t,1)}function Er(t){var n=t?t.length:0;return n?t[n-1]:_}function Ar(t,n,e){var r=t?t.length:0;if(!r)return-1;var i=r;if("number"==typeof e)i=(e<0?_a(r+e,0):Ma(e||0,r-1))+1;else if(e){i=ie(t,n,!0)-1;var o=t[i];return(n===n?n===o:o!==o)?i:-1}if(n!==n)return p(t,i,!0);for(;i--;)if(t[i]===n)return i;return-1}function Nr(){var t=arguments,n=t[0];if(!n||!n.length)return n;for(var e=0,r=He(),i=t.length;++e<i;)for(var o=0,a=t[e];(o=r(n,a,o))>-1;)pa.call(n,o,1);return n}function Cr(t,n,e){var r=[];if(!t||!t.length)return r;var i=-1,o=[],a=t.length;for(n=$e(n,e,3);++i<a;){var u=t[i];n(u,i,t)&&(r.push(u),o.push(i))}return Bn(t,o),r}function Tr(t){return gr(t,1)}function jr(t,n,e){var r=t?t.length:0;return r?(e&&"number"!=typeof e&&Qe(t,n,e)&&(n=0,e=r),Xn(t,n,e)):[]}function Dr(t,n,e){return(t?t.length:0)?((e?Qe(t,n,e):null==n)&&(n=1),Xn(t,0,n<0?0:n)):[]}function Ir(t,n,e){var r=t?t.length:0;return r?((e?Qe(t,n,e):null==n)&&(n=1),n=r-(+n||0),Xn(t,n<0?0:n)):[]}function Rr(t,n,e){return t&&t.length?ee(t,$e(n,e,3),!1,!0):[]}function Or(t,n,e){return t&&t.length?ee(t,$e(n,e,3)):[]}function zr(t,n,r,i){if(!(t?t.length:0))return[];null!=n&&"boolean"!=typeof n&&(i=r,r=Qe(t,n,i)?_:n,n=!1);var o=$e();return null==r&&o===wn||(r=o(r,i,3)),n&&He()===e?y(t,r):te(t,r)}function Lr(t){if(!t||!t.length)return[];var n=-1,e=0;t=ln(t,function(t){if(Ke(t))return e=_a(t.length,e),!0});for(var r=$o(e);++n<e;)r[n]=cn(t,Vn(n));return r}function qr(t,n,e){if(!(t?t.length:0))return[];var r=Lr(t);return null==n?r:(n=ae(n,e,4),cn(r,function(t){return sn(t,n,_,!0)}))}function Fr(){for(var t=-1,n=arguments.length;++t<n;){var e=arguments[t];if(Ke(e))var r=r?fn(kn(r,e),kn(e,r)):e}return r?te(r):[]}function Ur(t,n){var e=-1,r=t?t.length:0,i={};for(!r||n||Cu(t[0])||(n=[]);++e<r;){var o=t[e];n?i[o]=n[e]:o&&(i[o[0]]=o[1])}return i}function $r(t){var n=W(t);return n.__chain__=!0,n}function Pr(t,n,e){return n.call(e,t),t}function Hr(t,n,e){return n.call(e,t)}function Vr(){return $r(this)}function Yr(){return new tt(this.value(),this.__chain__)}function Br(t){for(var n,e=this;e instanceof G;){var r=pr(e);n?i.__wrapped__=r:n=r;var i=r;e=e.__wrapped__}return i.__wrapped__=t,n}function Zr(){var t=this.__wrapped__,n=function(t){return t.reverse()};if(t instanceof $t){var e=t;return this.__actions__.length&&(e=new $t(this)),e=e.reverse(),e.__actions__.push({func:Hr,args:[n],thisArg:_}),new tt(e,this.__chain__)}return this.thru(n)}function Wr(){return this.value()+""}function Xr(){return re(this.__wrapped__,this.__actions__)}function Jr(t,n,e){var r=Cu(t)?an:Sn;return e&&Qe(t,n,e)&&(n=_),"function"==typeof n&&e===_||(n=$e(n,e,3)),r(t,n)}function Kr(t,n,e){var r=Cu(t)?ln:Nn;return n=$e(n,e,3),r(t,n)}function Gr(t,n){return iu(t,Un(n))}function Qr(t,n,e,r){var i=t?Pa(t):0;return er(i)||(t=oo(t),i=t.length),e="number"!=typeof e||r&&Qe(n,e,r)?0:e<0?_a(i+e,0):e||0,"string"==typeof t||!Cu(t)&&Pi(t)?e<=i&&t.indexOf(n,e)>-1:!!i&&He(t,n,e)>-1}function ti(t,n,e){var r=Cu(t)?cn:Fn;return n=$e(n,e,3),r(t,n)}function ni(t,n){return ti(t,Ro(n))}function ei(t,n,e){var r=Cu(t)?ln:Nn;return n=$e(n,e,3),r(t,function(t,e,r){return!n(t,e,r)})}function ri(t,n,e){if(e?Qe(t,n,e):null==n){t=fr(t);var r=t.length;return r>0?t[Zn(0,r-1)]:_}var i=-1,o=Zi(t),r=o.length,a=r-1;for(n=Ma(n<0?0:+n||0,r);++i<n;){var u=Zn(i,a),l=o[u];o[u]=o[i],o[i]=l}return o.length=n,o}function ii(t){return ri(t,Na)}function oi(t){var n=t?Pa(t):0;return er(n)?n:Uu(t).length}function ai(t,n,e){var r=Cu(t)?pn:Jn;return e&&Qe(t,n,e)&&(n=_),"function"==typeof n&&e===_||(n=$e(n,e,3)),r(t,n)}function ui(t,n,e){if(null==t)return[];e&&Qe(t,n,e)&&(n=_);var r=-1;return n=$e(n,e,3),Kn(Fn(t,function(t,e,i){return{criteria:n(t,e,i),index:++r,value:t}}),u)}function li(t,n,e,r){return null==t?[]:(r&&Qe(n,e,r)&&(e=_),Cu(n)||(n=null==n?[]:[n]),Cu(e)||(e=null==e?[]:[e]),Gn(t,n,e))}function ci(t,n){return Kr(t,Un(n))}function fi(t,n){if("function"!=typeof n){if("function"!=typeof t)throw new Jo(U);var e=t;t=n,n=e}return t=xa(t=+t)?t:0,function(){if(--t<1)return n.apply(this,arguments)}}function si(t,n,e){return e&&Qe(t,n,e)&&(n=_),n=t&&null==n?t.length:_a(+n||0,0),Le(t,j,_,_,_,_,n)}function hi(t,n){var e;if("function"!=typeof n){if("function"!=typeof t)throw new Jo(U);var r=t;t=n,n=r}return function(){return--t>0&&(e=n.apply(this,arguments)),t<=1&&(n=_),e}}function pi(t,n,e){function r(){p&&ua(p),c&&ua(c),v=0,c=p=d=_}function i(n,e){e&&ua(e),c=p=d=_,n&&(v=vu(),f=t.apply(h,l),p||c||(l=h=_))}function o(){var t=n-(vu()-s);t<=0||t>n?i(d,c):p=ha(o,t)}function a(){i(y,p)}function u(){if(l=arguments,s=vu(),h=this,d=y&&(p||!m),!1===g)var e=m&&!p;else{c||m||(v=s);var r=g-(s-v),i=r<=0||r>g;i?(c&&(c=ua(c)),v=s,f=t.apply(h,l)):c||(c=ha(a,r))}return i&&p?p=ua(p):p||n===g||(p=ha(o,n)),e&&(i=!0,f=t.apply(h,l)),!i||p||c||(l=h=_),f}var l,c,f,s,h,p,d,v=0,g=!1,y=!0;if("function"!=typeof t)throw new Jo(U);if(n=n<0?0:+n||0,!0===e){var m=!0;y=!1}else Ri(e)&&(m=!!e.leading,g="maxWait"in e&&_a(+e.maxWait||0,n),y="trailing"in e?!!e.trailing:y);return u.cancel=r,u}function di(t,n){if("function"!=typeof t||n&&"function"!=typeof n)throw new Jo(U);var e=function(){var r=arguments,i=n?n.apply(this,r):r[0],o=e.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return e.cache=o.set(i,a),a};return e.cache=new di.Cache,e}function vi(t){if("function"!=typeof t)throw new Jo(U);return function(){return!t.apply(this,arguments)}}function gi(t){return hi(2,t)}function yi(t,n){if("function"!=typeof t)throw new Jo(U);return n=_a(n===_?t.length-1:+n||0,0),function(){for(var e=arguments,r=-1,i=_a(e.length-n,0),o=$o(i);++r<i;)o[r]=e[n+r];switch(n){case 0:return t.call(this,o);case 1:return t.call(this,e[0],o);case 2:return t.call(this,e[0],e[1],o)}var a=$o(n+1);for(r=-1;++r<n;)a[r]=e[r];return a[n]=o,t.apply(this,a)}}function mi(t){if("function"!=typeof t)throw new Jo(U);return function(n){return t.apply(this,n)}}function bi(t,n,e){var r=!0,i=!0;if("function"!=typeof t)throw new Jo(U);return!1===e?r=!1:Ri(e)&&(r="leading"in e?!!e.leading:r,i="trailing"in e?!!e.trailing:i),pi(t,n,{leading:r,maxWait:+n,trailing:i})}function xi(t,n){return n=null==n?No:n,Le(n,C,_,[t],[])}function wi(t,n,e,r){return n&&"boolean"!=typeof n&&Qe(t,n,e)?n=!1:"function"==typeof n&&(r=e,e=n,n=!1),"function"==typeof e?_n(t,n,ae(e,r,3)):_n(t,n)}function _i(t,n,e){return"function"==typeof n?_n(t,!0,ae(n,e,3)):_n(t,!0)}function Mi(t,n){return t>n}function ki(t,n){return t>=n}function Si(t){return d(t)&&Ke(t)&&na.call(t,"callee")&&!fa.call(t,"callee")}function Ei(t){return!0===t||!1===t||d(t)&&ra.call(t)==V}function Ai(t){return d(t)&&ra.call(t)==Y}function Ni(t){return!!t&&1===t.nodeType&&d(t)&&!Ui(t)}function Ci(t){return null==t||(Ke(t)&&(Cu(t)||Pi(t)||Si(t)||d(t)&&Ii(t.splice))?!t.length:!Uu(t).length)}function Ti(t,n,e,r){e="function"==typeof e?ae(e,r,3):_;var i=e?e(t,n):_;return i===_?zn(t,n,e):!!i}function ji(t){return d(t)&&"string"==typeof t.message&&ra.call(t)==B}function Di(t){return"number"==typeof t&&xa(t)}function Ii(t){return Ri(t)&&ra.call(t)==Z}function Ri(t){var n=typeof t;return!!t&&("object"==n||"function"==n)}function Oi(t,n,e,r){return e="function"==typeof e?ae(e,r,3):_,qn(t,Ve(n),e)}function zi(t){return Fi(t)&&t!=+t}function Li(t){return null!=t&&(Ii(t)?oa.test(ta.call(t)):d(t)&&jt.test(t))}function qi(t){return null===t}function Fi(t){return"number"==typeof t||d(t)&&ra.call(t)==X}function Ui(t){var n;if(!d(t)||ra.call(t)!=J||Si(t)||!na.call(t,"constructor")&&"function"==typeof(n=t.constructor)&&!(n instanceof n))return!1;var e;return jn(t,function(t,n){e=n}),e===_||na.call(t,e)}function $i(t){return Ri(t)&&ra.call(t)==K}function Pi(t){return"string"==typeof t||d(t)&&ra.call(t)==Q}function Hi(t){return d(t)&&er(t.length)&&!!Ft[ra.call(t)]}function Vi(t){return t===_}function Yi(t,n){return t<n}function Bi(t,n){return t<=n}function Zi(t){var n=t?Pa(t):0;return er(n)?n?en(t):[]:oo(t)}function Wi(t){return xn(t,to(t))}function Xi(t,n,e){var r=Oa(t);return e&&Qe(t,n,e)&&(n=_),n?mn(r,n):r}function Ji(t){return Rn(t,to(t))}function Ki(t,n,e){var r=null==t?_:On(t,hr(n),n+"");return r===_?e:r}function Gi(t,n){if(null==t)return!1;var e=na.call(t,n);if(!e&&!tr(n)){if(n=hr(n),null==(t=1==n.length?t:On(t,Xn(n,0,-1))))return!1;n=Er(n),e=na.call(t,n)}return e||er(t.length)&&Ge(n,t.length)&&(Cu(t)||Si(t))}function Qi(t,n,e){e&&Qe(t,n,e)&&(n=_);for(var r=-1,i=Uu(t),o=i.length,a={};++r<o;){var u=i[r],l=t[u];n?na.call(a,l)?a[l].push(u):a[l]=[u]:a[l]=u}return a}function to(t){if(null==t)return[];Ri(t)||(t=Zo(t));var n=t.length;n=n&&er(n)&&(Cu(t)||Si(t))&&n||0;for(var e=t.constructor,r=-1,i="function"==typeof e&&e.prototype===t,o=$o(n),a=n>0;++r<n;)o[r]=r+"";for(var u in t)a&&Ge(u,n)||"constructor"==u&&(i||!na.call(t,u))||o.push(u);return o}function no(t){t=sr(t);for(var n=-1,e=Uu(t),r=e.length,i=$o(r);++n<r;){var o=e[n];i[n]=[o,t[o]]}return i}function eo(t,n,e){var r=null==t?_:t[n];return r===_&&(null==t||tr(n,t)||(n=hr(n),t=1==n.length?t:On(t,Xn(n,0,-1)),r=null==t?_:t[Er(n)]),r=r===_?e:r),Ii(r)?r.call(t):r}function ro(t,n,e){if(null==t)return t;var r=n+"";n=null!=t[r]||tr(n,t)?[r]:hr(n);for(var i=-1,o=n.length,a=o-1,u=t;null!=u&&++i<o;){var l=n[i];Ri(u)&&(i==a?u[l]=e:null==u[l]&&(u[l]=Ge(n[i+1])?[]:{})),u=u[l]}return t}function io(t,n,e,r){var i=Cu(t)||Hi(t);if(n=$e(n,r,4),null==e)if(i||Ri(t)){var o=t.constructor;e=i?Cu(t)?new o:[]:Oa(Ii(o)?o.prototype:_)}else e={};return(i?rn:Dn)(t,function(t,r,i){return n(e,t,r,i)}),e}function oo(t){return ne(t,Uu(t))}function ao(t){return ne(t,to(t))}function uo(t,n,e){return n=+n||0,e===_?(e=n,n=0):e=+e||0,t>=Ma(n,e)&&t<_a(n,e)}function lo(t,n,e){e&&Qe(t,n,e)&&(n=e=_);var r=null==t,i=null==n;if(null==e&&(i&&"boolean"==typeof t?(e=t,t=1):"boolean"==typeof n&&(e=n,i=!0)),r&&i&&(n=1,i=!1),t=+t||0,i?(n=t,t=0):n=+n||0,e||t%1||n%1){var o=Ea();return Ma(t+o*(n-t+la("1e-"+((o+"").length-1))),n)}return Zn(t,n)}function co(t){return(t=i(t))&&t.charAt(0).toUpperCase()+t.slice(1)}function fo(t){return(t=i(t))&&t.replace(It,c).replace(Et,"")}function so(t,n,e){t=i(t),n+="";var r=t.length;return e=e===_?r:Ma(e<0?0:+e||0,r),(e-=n.length)>=0&&t.indexOf(n,e)==e}function ho(t){return t=i(t),t&&yt.test(t)?t.replace(vt,f):t}function po(t){return t=i(t),t&&St.test(t)?t.replace(kt,s):t||"(?:)"}function vo(t,n,e){t=i(t),n=+n;var r=t.length;if(r>=n||!xa(n))return t;var o=(n-r)/2,a=ma(o);return e=Ie("",ga(o),e),e.slice(0,a)+t+e}function go(t,n,e){return(e?Qe(t,n,e):null==n)?n=0:n&&(n=+n),t=xo(t),Sa(t,n||(Tt.test(t)?16:10))}function yo(t,n){var e="";if(t=i(t),(n=+n)<1||!t||!xa(n))return e;do{n%2&&(e+=t),n=ma(n/2),t+=t}while(n);return e}function mo(t,n,e){return t=i(t),e=null==e?0:Ma(e<0?0:+e||0,t.length),t.lastIndexOf(n,e)==e}function bo(t,n,e){var r=W.templateSettings;e&&Qe(t,n,e)&&(n=e=_),t=i(t),n=yn(mn({},e||n),r,gn);var o,a,u=yn(mn({},n.imports),r.imports,gn),l=Uu(u),c=ne(u,l),f=0,s=n.interpolate||Rt,p="__p += '",d=Wo((n.escape||Rt).source+"|"+s.source+"|"+(s===xt?Nt:Rt).source+"|"+(n.evaluate||Rt).source+"|$","g"),v="//# sourceURL="+("sourceURL"in n?n.sourceURL:"lodash.templateSources["+ ++qt+"]")+"\n";t.replace(d,function(n,e,r,i,u,l){return r||(r=i),p+=t.slice(f,l).replace(Ot,h),e&&(o=!0,p+="' +\n__e("+e+") +\n'"),u&&(a=!0,p+="';\n"+u+";\n__p += '"),r&&(p+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),f=l+n.length,n}),p+="';\n";var g=n.variable;g||(p="with (obj) {\n"+p+"\n}\n"),p=(a?p.replace(st,""):p).replace(ht,"$1").replace(pt,"$1;"),p="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var y=Ku(function(){return Vo(l,v+"return "+p).apply(_,c)});if(y.source=p,ji(y))throw y;return y}function xo(t,n,e){var r=t;return(t=i(t))?(e?Qe(r,n,e):null==n)?t.slice(m(t),b(t)+1):(n+="",t.slice(o(t,n),a(t,n)+1)):t}function wo(t,n,e){var r=t;return t=i(t),t?(e?Qe(r,n,e):null==n)?t.slice(m(t)):t.slice(o(t,n+"")):t}function _o(t,n,e){var r=t;return t=i(t),t?(e?Qe(r,n,e):null==n)?t.slice(0,b(t)+1):t.slice(0,a(t,n+"")+1):t}function Mo(t,n,e){e&&Qe(t,n,e)&&(n=_);var r=I,o=R;if(null!=n)if(Ri(n)){var a="separator"in n?n.separator:a;r="length"in n?+n.length||0:r,o="omission"in n?i(n.omission):o}else r=+n||0;if(t=i(t),r>=t.length)return t;var u=r-o.length;if(u<1)return o;var l=t.slice(0,u);if(null==a)return l+o;if($i(a)){if(t.slice(u).search(a)){var c,f,s=t.slice(0,u);for(a.global||(a=Wo(a.source,(Ct.exec(a)||"")+"g")),a.lastIndex=0;c=a.exec(s);)f=c.index;l=l.slice(0,null==f?u:f)}}else if(t.indexOf(a,u)!=u){var h=l.lastIndexOf(a);h>-1&&(l=l.slice(0,h))}return l+o}function ko(t){return t=i(t),t&&gt.test(t)?t.replace(dt,x):t}function So(t,n,e){return e&&Qe(t,n,e)&&(n=_),t=i(t),t.match(n||zt)||[]}function Eo(t,n,e){return e&&Qe(t,n,e)&&(n=_),d(t)?Co(t):wn(t,n)}function Ao(t){return function(){return t}}function No(t){return t}function Co(t){return Un(_n(t,!0))}function To(t,n){return $n(t,_n(n,!0))}function jo(t,n,e){if(null==e){var r=Ri(n),i=r?Uu(n):_,o=i&&i.length?Rn(n,i):_;(o?o.length:r)||(o=!1,e=n,n=t,t=this)}o||(o=Rn(n,Uu(n)));var a=!0,u=-1,l=Ii(t),c=o.length;!1===e?a=!1:Ri(e)&&"chain"in e&&(a=e.chain);for(;++u<c;){var f=o[u],s=n[f];t[f]=s,l&&(t.prototype[f]=function(n){return function(){var e=this.__chain__;if(a||e){var r=t(this.__wrapped__);return(r.__actions__=en(this.__actions__)).push({func:n,args:arguments,thisArg:t}),r.__chain__=e,r}return n.apply(t,fn([this.value()],arguments))}}(s))}return t}function Do(){return Qt._=ia,this}function Io(){}function Ro(t){return tr(t)?Vn(t):Yn(t)}function Oo(t){return function(n){return On(t,hr(n),n+"")}}function zo(t,n,e){e&&Qe(t,n,e)&&(n=e=_),t=+t||0,e=null==e?1:+e||0,null==n?(n=t,t=0):n=+n||0;for(var r=-1,i=_a(ga((n-t)/(e||1)),0),o=$o(i);++r<i;)o[r]=t,t+=e;return o}function Lo(t,n,e){if((t=ma(t))<1||!xa(t))return[];var r=-1,i=$o(Ma(t,Ca));for(n=ae(n,e,1);++r<t;)r<Ca?i[r]=n(r):n(r);return i}function qo(t){var n=++ea;return i(t)+n}function Fo(t,n){return(+t||0)+(+n||0)}function Uo(t,n,e){return e&&Qe(t,n,e)&&(n=_),n=$e(n,e,3),1==n.length?dn(Cu(t)?t:fr(t),n):Qn(t,n)}v=v?tn.defaults(Qt.Object(),v,tn.pick(Qt,Lt)):Qt;var $o=v.Array,Po=v.Date,Ho=v.Error,Vo=v.Function,Yo=v.Math,Bo=v.Number,Zo=v.Object,Wo=v.RegExp,Xo=v.String,Jo=v.TypeError,Ko=$o.prototype,Go=Zo.prototype,Qo=Xo.prototype,ta=Vo.prototype.toString,na=Go.hasOwnProperty,ea=0,ra=Go.toString,ia=Qt._,oa=Wo("^"+ta.call(na).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),aa=v.ArrayBuffer,ua=v.clearTimeout,la=v.parseFloat,ca=Yo.pow,fa=Go.propertyIsEnumerable,sa=Ye(v,"Set"),ha=v.setTimeout,pa=Ko.splice,da=v.Uint8Array,va=Ye(v,"WeakMap"),ga=Yo.ceil,ya=Ye(Zo,"create"),ma=Yo.floor,ba=Ye($o,"isArray"),xa=v.isFinite,wa=Ye(Zo,"keys"),_a=Yo.max,Ma=Yo.min,ka=Ye(Po,"now"),Sa=v.parseInt,Ea=Yo.random,Aa=Bo.NEGATIVE_INFINITY,Na=Bo.POSITIVE_INFINITY,Ca=4294967295,Ta=Ca-1,ja=Ca>>>1,Da=9007199254740991,Ia=va&&new va,Ra={};W.support={};W.templateSettings={escape:mt,evaluate:bt,interpolate:xt,variable:"",imports:{_:W}};var Oa=function(){function t(){}return function(n){if(Ri(n)){t.prototype=n;var e=new t;t.prototype=_}return e||{}}}(),za=he(Dn),La=he(In,!0),qa=pe(),Fa=pe(!0),Ua=Ia?function(t,n){return Ia.set(t,n),t}:No,$a=Ia?function(t){return Ia.get(t)}:Io,Pa=Vn("length"),Ha=function(){var t=0,n=0;return function(e,r){var i=vu(),o=z-(i-n);if(n=i,o>0){if(++t>=O)return e}else t=0;return Ua(e,r)}}(),Va=yi(function(t,n){return d(t)&&Ke(t)?kn(t,Tn(n,!1,!0)):[]}),Ya=_e(),Ba=_e(!0),Za=yi(function(t){for(var n=t.length,r=n,i=$o(s),o=He(),a=o===e,u=[];r--;){var l=t[r]=Ke(l=t[r])?l:[];i[r]=a&&l.length>=120?ve(r&&l):null}var c=t[0],f=-1,s=c?c.length:0,h=i[0];t:for(;++f<s;)if(l=c[f],(h?Kt(h,l):o(u,l,0))<0){for(var r=n;--r;){var p=i[r];if((p?Kt(p,l):o(t[r],l,0))<0)continue t}h&&h.push(l),u.push(l)}return u}),Wa=yi(function(n,e){e=Tn(e);var r=bn(n,e);return Bn(n,e.sort(t)),r}),Xa=ze(),Ja=ze(!0),Ka=yi(function(t){return te(Tn(t,!1,!0))}),Ga=yi(function(t,n){return Ke(t)?kn(t,n):[]}),Qa=yi(Lr),tu=yi(function(t){var n=t.length,e=n>2?t[n-2]:_,r=n>1?t[n-1]:_;return n>2&&"function"==typeof e?n-=2:(e=n>1&&"function"==typeof r?(--n,r):_,r=_),t.length=n,qr(t,e,r)}),nu=yi(function(t){return t=Tn(t),this.thru(function(n){return nn(Cu(n)?n:[sr(n)],t)})}),eu=yi(function(t,n){return bn(t,Tn(n))}),ru=fe(function(t,n,e){na.call(t,e)?++t[e]:t[e]=1}),iu=we(za),ou=we(La,!0),au=Se(rn,za),uu=Se(on,La),lu=fe(function(t,n,e){na.call(t,e)?t[e].push(n):t[e]=[n]}),cu=fe(function(t,n,e){t[e]=n}),fu=yi(function(t,n,e){var r=-1,i="function"==typeof n,o=tr(n),a=Ke(t)?$o(t.length):[];return za(t,function(t){var u=i?n:o&&null!=t?t[n]:_;a[++r]=u?u.apply(t,e):Je(t,n,e)}),a}),su=fe(function(t,n,e){t[e?0:1].push(n)},function(){return[[],[]]}),hu=je(sn,za),pu=je(hn,La),du=yi(function(t,n){if(null==t)return[];var e=n[2];return e&&Qe(n[0],n[1],e)&&(n.length=1),Gn(t,Tn(n),[])}),vu=ka||function(){return(new Po).getTime()},gu=yi(function(t,n,e){var r=k;if(e.length){var i=g(e,gu.placeholder);r|=C}return Le(t,r,n,e,i)}),yu=yi(function(t,n){n=n.length?Tn(n):Ji(t);for(var e=-1,r=n.length;++e<r;){var i=n[e];t[i]=Le(t[i],k,t)}return t}),mu=yi(function(t,n,e){var r=k|S;if(e.length){var i=g(e,mu.placeholder);r|=C}return Le(n,r,t,e,i)}),bu=me(A),xu=me(N),wu=yi(function(t,n){return Mn(t,1,n)}),_u=yi(function(t,n,e){return Mn(t,n,e)}),Mu=ke(),ku=ke(!0),Su=yi(function(t,n){if(n=Tn(n),"function"!=typeof t||!an(n,r))throw new Jo(U);var e=n.length;return yi(function(r){for(var i=Ma(r.length,e);i--;)r[i]=n[i](r[i]);return t.apply(this,r)})}),Eu=Te(C),Au=Te(T),Nu=yi(function(t,n){return Le(t,D,_,_,_,Tn(n))}),Cu=ba||function(t){return d(t)&&er(t.length)&&ra.call(t)==H},Tu=se(Pn),ju=se(function(t,n,e){return e?yn(t,n,e):mn(t,n)}),Du=be(ju,vn),Iu=be(Tu,or),Ru=Me(Dn),Ou=Me(In),zu=Ee(qa),Lu=Ee(Fa),qu=Ae(Dn),Fu=Ae(In),Uu=wa?function(t){var n=null==t?_:t.constructor;return"function"==typeof n&&n.prototype===t||"function"!=typeof t&&Ke(t)?cr(t):Ri(t)?wa(t):[]}:cr,$u=Ne(!0),Pu=Ne(),Hu=yi(function(t,n){if(null==t)return{};if("function"!=typeof n[0]){var n=cn(Tn(n),Xo);return ar(t,kn(to(t),n))}var e=ae(n[0],n[1],3);return ur(t,function(t,n,r){return!e(t,n,r)})}),Vu=yi(function(t,n){return null==t?{}:"function"==typeof n[0]?ur(t,ae(n[0],n[1],3)):ar(t,Tn(n))}),Yu=ge(function(t,n,e){return n=n.toLowerCase(),t+(e?n.charAt(0).toUpperCase()+n.slice(1):n)}),Bu=ge(function(t,n,e){return t+(e?"-":"")+n.toLowerCase()}),Zu=Ce(),Wu=Ce(!0),Xu=ge(function(t,n,e){return t+(e?"_":"")+n.toLowerCase()}),Ju=ge(function(t,n,e){return t+(e?" ":"")+(n.charAt(0).toUpperCase()+n.slice(1))}),Ku=yi(function(t,n){try{return t.apply(_,n)}catch(t){return ji(t)?t:new Ho(t)}}),Gu=yi(function(t,n){return function(e){return Je(e,t,n)}}),Qu=yi(function(t,n){return function(e){return Je(t,e,n)}}),tl=Oe("ceil"),nl=Oe("floor"),el=xe(Mi,Aa),rl=xe(Yi,Na),il=Oe("round");return W.prototype=G.prototype,tt.prototype=Oa(G.prototype),tt.prototype.constructor=tt,$t.prototype=Oa(G.prototype),$t.prototype.constructor=$t,Yt.prototype["delete"]=Bt,Yt.prototype.get=Zt,Yt.prototype.has=Wt,Yt.prototype.set=Xt,Jt.prototype.push=Gt,di.Cache=Yt,W.after=fi,W.ary=si,W.assign=ju,W.at=eu,W.before=hi,W.bind=gu,W.bindAll=yu,W.bindKey=mu,W.callback=Eo,W.chain=$r,W.chunk=dr,W.compact=vr,W.constant=Ao,W.countBy=ru,
W.create=Xi,W.curry=bu,W.curryRight=xu,W.debounce=pi,W.defaults=Du,W.defaultsDeep=Iu,W.defer=wu,W.delay=_u,W.difference=Va,W.drop=gr,W.dropRight=yr,W.dropRightWhile=mr,W.dropWhile=br,W.fill=xr,W.filter=Kr,W.flatten=_r,W.flattenDeep=Mr,W.flow=Mu,W.flowRight=ku,W.forEach=au,W.forEachRight=uu,W.forIn=zu,W.forInRight=Lu,W.forOwn=qu,W.forOwnRight=Fu,W.functions=Ji,W.groupBy=lu,W.indexBy=cu,W.initial=Sr,W.intersection=Za,W.invert=Qi,W.invoke=fu,W.keys=Uu,W.keysIn=to,W.map=ti,W.mapKeys=$u,W.mapValues=Pu,W.matches=Co,W.matchesProperty=To,W.memoize=di,W.merge=Tu,W.method=Gu,W.methodOf=Qu,W.mixin=jo,W.modArgs=Su,W.negate=vi,W.omit=Hu,W.once=gi,W.pairs=no,W.partial=Eu,W.partialRight=Au,W.partition=su,W.pick=Vu,W.pluck=ni,W.property=Ro,W.propertyOf=Oo,W.pull=Nr,W.pullAt=Wa,W.range=zo,W.rearg=Nu,W.reject=ei,W.remove=Cr,W.rest=Tr,W.restParam=yi,W.set=ro,W.shuffle=ii,W.slice=jr,W.sortBy=ui,W.sortByAll=du,W.sortByOrder=li,W.spread=mi,W.take=Dr,W.takeRight=Ir,W.takeRightWhile=Rr,W.takeWhile=Or,W.tap=Pr,W.throttle=bi,W.thru=Hr,W.times=Lo,W.toArray=Zi,W.toPlainObject=Wi,W.transform=io,W.union=Ka,W.uniq=zr,W.unzip=Lr,W.unzipWith=qr,W.values=oo,W.valuesIn=ao,W.where=ci,W.without=Ga,W.wrap=xi,W.xor=Fr,W.zip=Qa,W.zipObject=Ur,W.zipWith=tu,W.backflow=ku,W.collect=ti,W.compose=ku,W.each=au,W.eachRight=uu,W.extend=ju,W.iteratee=Eo,W.methods=Ji,W.object=Ur,W.select=Kr,W.tail=Tr,W.unique=zr,jo(W,W),W.add=Fo,W.attempt=Ku,W.camelCase=Yu,W.capitalize=co,W.ceil=tl,W.clone=wi,W.cloneDeep=_i,W.deburr=fo,W.endsWith=so,W.escape=ho,W.escapeRegExp=po,W.every=Jr,W.find=iu,W.findIndex=Ya,W.findKey=Ru,W.findLast=ou,W.findLastIndex=Ba,W.findLastKey=Ou,W.findWhere=Gr,W.first=wr,W.floor=nl,W.get=Ki,W.gt=Mi,W.gte=ki,W.has=Gi,W.identity=No,W.includes=Qr,W.indexOf=kr,W.inRange=uo,W.isArguments=Si,W.isArray=Cu,W.isBoolean=Ei,W.isDate=Ai,W.isElement=Ni,W.isEmpty=Ci,W.isEqual=Ti,W.isError=ji,W.isFinite=Di,W.isFunction=Ii,W.isMatch=Oi,W.isNaN=zi,W.isNative=Li,W.isNull=qi,W.isNumber=Fi,W.isObject=Ri,W.isPlainObject=Ui,W.isRegExp=$i,W.isString=Pi,W.isTypedArray=Hi,W.isUndefined=Vi,W.kebabCase=Bu,W.last=Er,W.lastIndexOf=Ar,W.lt=Yi,W.lte=Bi,W.max=el,W.min=rl,W.noConflict=Do,W.noop=Io,W.now=vu,W.pad=vo,W.padLeft=Zu,W.padRight=Wu,W.parseInt=go,W.random=lo,W.reduce=hu,W.reduceRight=pu,W.repeat=yo,W.result=eo,W.round=il,W.runInContext=w,W.size=oi,W.snakeCase=Xu,W.some=ai,W.sortedIndex=Xa,W.sortedLastIndex=Ja,W.startCase=Ju,W.startsWith=mo,W.sum=Uo,W.template=bo,W.trim=xo,W.trimLeft=wo,W.trimRight=_o,W.trunc=Mo,W.unescape=ko,W.uniqueId=qo,W.words=So,W.all=Jr,W.any=ai,W.contains=Qr,W.eq=Ti,W.detect=iu,W.foldl=hu,W.foldr=pu,W.head=wr,W.include=Qr,W.inject=hu,jo(W,function(){var t={};return Dn(W,function(n,e){W.prototype[e]||(t[e]=n)}),t}(),!1),W.sample=ri,W.prototype.sample=function(t){return this.__chain__||null!=t?this.thru(function(n){return ri(n,t)}):ri(this.value())},W.VERSION=M,rn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){W[t].placeholder=W}),rn(["drop","take"],function(t,n){$t.prototype[t]=function(e){var r=this.__filtered__;if(r&&!n)return new $t(this);e=null==e?1:_a(ma(e)||0,0);var i=this.clone();return r?i.__takeCount__=Ma(i.__takeCount__,e):i.__views__.push({size:e,type:t+(i.__dir__<0?"Right":"")}),i},$t.prototype[t+"Right"]=function(n){return this.reverse()[t](n).reverse()}}),rn(["filter","map","takeWhile"],function(t,n){var e=n+1,r=e!=F;$t.prototype[t]=function(t,n){var i=this.clone();return i.__iteratees__.push({iteratee:$e(t,n,1),type:e}),i.__filtered__=i.__filtered__||r,i}}),rn(["first","last"],function(t,n){var e="take"+(n?"Right":"");$t.prototype[t]=function(){return this[e](1).value()[0]}}),rn(["initial","rest"],function(t,n){var e="drop"+(n?"":"Right");$t.prototype[t]=function(){return this.__filtered__?new $t(this):this[e](1)}}),rn(["pluck","where"],function(t,n){var e=n?"filter":"map",r=n?Un:Ro;$t.prototype[t]=function(t){return this[e](r(t))}}),$t.prototype.compact=function(){return this.filter(No)},$t.prototype.reject=function(t,n){return t=$e(t,n,1),this.filter(function(n){return!t(n)})},$t.prototype.slice=function(t,n){t=null==t?0:+t||0;var e=this;return e.__filtered__&&(t>0||n<0)?new $t(e):(t<0?e=e.takeRight(-t):t&&(e=e.drop(t)),n!==_&&(n=+n||0,e=n<0?e.dropRight(-n):e.take(n-t)),e)},$t.prototype.takeRightWhile=function(t,n){return this.reverse().takeWhile(t,n).reverse()},$t.prototype.toArray=function(){return this.take(Na)},Dn($t.prototype,function(t,n){var e=/^(?:filter|map|reject)|While$/.test(n),r=/^(?:first|last)$/.test(n),i=W[r?"take"+("last"==n?"Right":""):n];i&&(W.prototype[n]=function(){var n=r?[1]:arguments,o=this.__chain__,a=this.__wrapped__,u=!!this.__actions__.length,l=a instanceof $t,c=n[0],f=l||Cu(a);f&&e&&"function"==typeof c&&1!=c.length&&(l=f=!1);var s=function(t){return r&&o?i(t,1)[0]:i.apply(_,fn([t],n))},h={func:Hr,args:[s],thisArg:_},p=l&&!u;if(r&&!o)return p?(a=a.clone(),a.__actions__.push(h),t.call(a)):i.call(_,this.value())[0];if(!r&&f){a=p?a:new $t(this);var d=t.apply(a,n);return d.__actions__.push(h),new tt(d,o)}return this.thru(s)})}),rn(["join","pop","push","replace","shift","sort","splice","split","unshift"],function(t){var n=(/^(?:replace|split)$/.test(t)?Qo:Ko)[t],e=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:join|pop|replace|shift)$/.test(t);W.prototype[t]=function(){var t=arguments;return r&&!this.__chain__?n.apply(this.value(),t):this[e](function(e){return n.apply(e,t)})}}),Dn($t.prototype,function(t,n){var e=W[n];if(e){var r=e.name+"";(Ra[r]||(Ra[r]=[])).push({name:n,func:e})}}),Ra[De(_,S).name]=[{name:"wrapper",func:_}],$t.prototype.clone=Pt,$t.prototype.reverse=Ht,$t.prototype.value=Vt,W.prototype.chain=Vr,W.prototype.commit=Yr,W.prototype.concat=nu,W.prototype.plant=Br,W.prototype.reverse=Zr,W.prototype.toString=Wr,W.prototype.run=W.prototype.toJSON=W.prototype.valueOf=W.prototype.value=Xr,W.prototype.collect=W.prototype.map,W.prototype.head=W.prototype.first,W.prototype.select=W.prototype.filter,W.prototype.tail=W.prototype.rest,W}var _,M="3.10.1",k=1,S=2,E=4,A=8,N=16,C=32,T=64,j=128,D=256,I=30,R="...",O=150,z=16,L=200,q=1,F=2,U="Expected a function",$="__lodash_placeholder__",P="[object Arguments]",H="[object Array]",V="[object Boolean]",Y="[object Date]",B="[object Error]",Z="[object Function]",W="[object Map]",X="[object Number]",J="[object Object]",K="[object RegExp]",G="[object Set]",Q="[object String]",tt="[object WeakMap]",nt="[object ArrayBuffer]",et="[object Float32Array]",rt="[object Float64Array]",it="[object Int8Array]",ot="[object Int16Array]",at="[object Int32Array]",ut="[object Uint8Array]",lt="[object Uint8ClampedArray]",ct="[object Uint16Array]",ft="[object Uint32Array]",st=/\b__p \+= '';/g,ht=/\b(__p \+=) '' \+/g,pt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,dt=/&(?:amp|lt|gt|quot|#39|#96);/g,vt=/[&<>"'`]/g,gt=RegExp(dt.source),yt=RegExp(vt.source),mt=/<%-([\s\S]+?)%>/g,bt=/<%([\s\S]+?)%>/g,xt=/<%=([\s\S]+?)%>/g,wt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,_t=/^\w*$/,Mt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,kt=/^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g,St=RegExp(kt.source),Et=/[\u0300-\u036f\ufe20-\ufe23]/g,At=/\\(\\)?/g,Nt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ct=/\w*$/,Tt=/^0[xX]/,jt=/^\[object .+?Constructor\]$/,Dt=/^\d+$/,It=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Rt=/($^)/,Ot=/['\n\r\u2028\u2029\\]/g,zt=function(){var t="[A-Z\\xc0-\\xd6\\xd8-\\xde]",n="[a-z\\xdf-\\xf6\\xf8-\\xff]+";return RegExp(t+"+(?="+t+n+")|"+t+"?"+n+"|"+t+"+|[0-9]+","g")}(),Lt=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","isFinite","parseFloat","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap"],qt=-1,Ft={};Ft[et]=Ft[rt]=Ft[it]=Ft[ot]=Ft[at]=Ft[ut]=Ft[lt]=Ft[ct]=Ft[ft]=!0,Ft[P]=Ft[H]=Ft[nt]=Ft[V]=Ft[Y]=Ft[B]=Ft[Z]=Ft[W]=Ft[X]=Ft[J]=Ft[K]=Ft[G]=Ft[Q]=Ft[tt]=!1;var Ut={};Ut[P]=Ut[H]=Ut[nt]=Ut[V]=Ut[Y]=Ut[et]=Ut[rt]=Ut[it]=Ut[ot]=Ut[at]=Ut[X]=Ut[J]=Ut[K]=Ut[Q]=Ut[ut]=Ut[lt]=Ut[ct]=Ut[ft]=!0,Ut[B]=Ut[Z]=Ut[W]=Ut[G]=Ut[tt]=!1;var $t={"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss"},Pt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Ht={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Vt={"function":!0,object:!0},Yt={0:"x30",1:"x31",2:"x32",3:"x33",4:"x34",5:"x35",6:"x36",7:"x37",8:"x38",9:"x39",A:"x41",B:"x42",C:"x43",D:"x44",E:"x45",F:"x46",a:"x61",b:"x62",c:"x63",d:"x64",e:"x65",f:"x66",n:"x6e",r:"x72",t:"x74",u:"x75",v:"x76",x:"x78"},Bt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Zt=Vt[typeof exports]&&exports&&!exports.nodeType&&exports,Wt=Vt[typeof module]&&module&&!module.nodeType&&module,Xt=Zt&&Wt&&"object"==typeof global&&global&&global.Object&&global,Jt=Vt[typeof self]&&self&&self.Object&&self,Kt=Vt[typeof window]&&window&&window.Object&&window,Gt=Wt&&Wt.exports===Zt&&Zt,Qt=Xt||Kt!==(this&&this.window)&&Kt||Jt||this,tn=w();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(Qt._=tn,define(function(){return tn})):Zt&&Wt?Gt?(Wt.exports=tn)._=tn:Zt._=tn:Qt._=tn}.call(this),function(t,n){t.rails!==n&&t.error("jquery-ujs has already been loaded!");var e,r=t(document);t.rails=e={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote], a[data-disable-with], a[data-disable]",buttonClickSelector:"button[data-remote]:not(form button), button[data-confirm]:not(form button)",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])",disableSelector:"input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled",requiredInputSelector:"input[name][required]:not([disabled]),textarea[name][required]:not([disabled])",fileInputSelector:"input[type=file]",linkDisableSelector:"a[data-disable-with], a[data-disable]",buttonDisableSelector:"button[data-remote][data-disable-with], button[data-remote][data-disable]",CSRFProtection:function(n){var e=t('meta[name="csrf-token"]').attr("content");e&&n.setRequestHeader("X-CSRF-Token",e)},refreshCSRFTokens:function(){var n=t("meta[name=csrf-token]").attr("content"),e=t("meta[name=csrf-param]").attr("content");t('form input[name="'+e+'"]').val(n)},fire:function(n,e,r){var i=t.Event(e);return n.trigger(i,r),!1!==i.result},confirm:function(t){return confirm(t)},ajax:function(n){return t.ajax(n)},href:function(t){return t[0].href},handleRemote:function(r){var i,o,a,u,l,c;if(e.fire(r,"ajax:before")){if(u=r.data("with-credentials")||null,l=r.data("type")||t.ajaxSettings&&t.ajaxSettings.dataType,r.is("form")){i=r.attr("method"),o=r.attr("action"),a=r.serializeArray();var f=r.data("ujs:submit-button");f&&(a.push(f),r.data("ujs:submit-button",null))}else r.is(e.inputChangeSelector)?(i=r.data("method"),o=r.data("url"),a=r.serialize(),r.data("params")&&(a=a+"&"+r.data("params"))):r.is(e.buttonClickSelector)?(i=r.data("method")||"get",o=r.data("url"),a=r.serialize(),r.data("params")&&(a=a+"&"+r.data("params"))):(i=r.data("method"),o=e.href(r),a=r.data("params")||null);return c={type:i||"GET",data:a,dataType:l,beforeSend:function(t,i){if(i.dataType===n&&t.setRequestHeader("accept","*/*;q=0.5, "+i.accepts.script),!e.fire(r,"ajax:beforeSend",[t,i]))return!1;r.trigger("ajax:send",t)},success:function(t,n,e){r.trigger("ajax:success",[t,n,e])},complete:function(t,n){r.trigger("ajax:complete",[t,n])},error:function(t,n,e){r.trigger("ajax:error",[t,n,e])},crossDomain:e.isCrossDomain(o)},u&&(c.xhrFields={withCredentials:u}),o&&(c.url=o),e.ajax(c)}return!1},isCrossDomain:function(t){var n=document.createElement("a");n.href=location.href;var e=document.createElement("a");try{return e.href=t,e.href=e.href,!e.protocol||!e.host||n.protocol+"//"+n.host!=e.protocol+"//"+e.host}catch(t){return!0}},handleMethod:function(r){var i=e.href(r),o=r.data("method"),a=r.attr("target"),u=t("meta[name=csrf-token]").attr("content"),l=t("meta[name=csrf-param]").attr("content"),c=t('<form method="post" action="'+i+'"></form>'),f='<input name="_method" value="'+o+'" type="hidden" />';l===n||u===n||e.isCrossDomain(i)||(f+='<input name="'+l+'" value="'+u+'" type="hidden" />'),a&&c.attr("target",a),c.hide().append(f).appendTo("body"),c.submit()},formElements:function(n,e){return n.is("form")?t(n[0].elements).filter(e):n.find(e)},disableFormElements:function(n){e.formElements(n,e.disableSelector).each(function(){e.disableFormElement(t(this))})},disableFormElement:function(t){var e,r;e=t.is("button")?"html":"val",r=t.data("disable-with"),t.data("ujs:enable-with",t[e]()),r!==n&&t[e](r),t.prop("disabled",!0)},enableFormElements:function(n){e.formElements(n,e.enableSelector).each(function(){e.enableFormElement(t(this))})},enableFormElement:function(t){var n=t.is("button")?"html":"val";t.data("ujs:enable-with")&&t[n](t.data("ujs:enable-with")),t.prop("disabled",!1)},allowAction:function(t){var n,r=t.data("confirm"),i=!1;return!r||(e.fire(t,"confirm")&&(i=e.confirm(r),n=e.fire(t,"confirm:complete",[i])),i&&n)},blankInputs:function(n,e,r){var i,o,a=t(),u=e||"input,textarea",l=n.find(u);return l.each(function(){if(i=t(this),!(o=i.is("input[type=checkbox],input[type=radio]")?i.is(":checked"):i.val())==!r){if(i.is("input[type=radio]")&&l.filter('input[type=radio]:checked[name="'+i.attr("name")+'"]').length)return!0;a=a.add(i)}}),!!a.length&&a},nonBlankInputs:function(t,n){return e.blankInputs(t,n,!0)},stopEverything:function(n){return t(n.target).trigger("ujs:everythingStopped"),n.stopImmediatePropagation(),!1},disableElement:function(t){var r=t.data("disable-with");t.data("ujs:enable-with",t.html()),r!==n&&t.html(r),t.bind("click.railsDisable",function(t){return e.stopEverything(t)})},enableElement:function(t){t.data("ujs:enable-with")!==n&&(t.html(t.data("ujs:enable-with")),t.removeData("ujs:enable-with")),t.unbind("click.railsDisable")}},e.fire(r,"rails:attachBindings")&&(t.ajaxPrefilter(function(t,n,r){t.crossDomain||e.CSRFProtection(r)}),t(window).on("pageshow.rails",function(){t(t.rails.enableSelector).each(function(){var n=t(this);n.data("ujs:enable-with")&&t.rails.enableFormElement(n)}),t(t.rails.linkDisableSelector).each(function(){var n=t(this);n.data("ujs:enable-with")&&t.rails.enableElement(n)})}),r.delegate(e.linkDisableSelector,"ajax:complete",function(){e.enableElement(t(this))}),r.delegate(e.buttonDisableSelector,"ajax:complete",function(){e.enableFormElement(t(this))}),r.delegate(e.linkClickSelector,"click.rails",function(r){var i=t(this),o=i.data("method"),a=i.data("params"),u=r.metaKey||r.ctrlKey;if(!e.allowAction(i))return e.stopEverything(r);if(!u&&i.is(e.linkDisableSelector)&&e.disableElement(i),i.data("remote")!==n){if(u&&(!o||"GET"===o)&&!a)return!0;var l=e.handleRemote(i);return!1===l?e.enableElement(i):l.fail(function(){e.enableElement(i)}),!1}return o?(e.handleMethod(i),!1):void 0}),r.delegate(e.buttonClickSelector,"click.rails",function(n){var r=t(this);if(!e.allowAction(r))return e.stopEverything(n);r.is(e.buttonDisableSelector)&&e.disableFormElement(r);var i=e.handleRemote(r);return!1===i?e.enableFormElement(r):i.fail(function(){e.enableFormElement(r)}),!1}),r.delegate(e.inputChangeSelector,"change.rails",function(n){var r=t(this);return e.allowAction(r)?(e.handleRemote(r),!1):e.stopEverything(n)}),r.delegate(e.formSubmitSelector,"submit.rails",function(r){var i,o,a=t(this),u=a.data("remote")!==n;if(!e.allowAction(a))return e.stopEverything(r);if(a.attr("novalidate")==n&&(i=e.blankInputs(a,e.requiredInputSelector))&&e.fire(a,"ajax:aborted:required",[i]))return e.stopEverything(r);if(u){if(o=e.nonBlankInputs(a,e.fileInputSelector)){setTimeout(function(){e.disableFormElements(a)},13);var l=e.fire(a,"ajax:aborted:file",[o]);return l||setTimeout(function(){e.enableFormElements(a)},13),l}return e.handleRemote(a),!1}setTimeout(function(){e.disableFormElements(a)},13)}),r.delegate(e.formInputClickSelector,"click.rails",function(n){var r=t(this);if(!e.allowAction(r))return e.stopEverything(n);var i=r.attr("name"),o=i?{name:i,value:r.val()}:null;r.closest("form").data("ujs:submit-button",o)}),r.delegate(e.formSubmitSelector,"ajax:send.rails",function(n){this==n.target&&e.disableFormElements(t(this))}),r.delegate(e.formSubmitSelector,"ajax:complete.rails",function(n){this==n.target&&e.enableFormElements(t(this))}),t(function(){e.refreshCSRFTokens()}))}(jQuery),function(t){"use strict";t.ajaxPrefilter(function(t){if(t.iframe)return t.originalURL=t.url,"iframe"}),t.ajaxTransport("iframe",function(n,e){function r(){u.each(function(n,e){var r=t(e);r.data("clone").replaceWith(r)}),i.remove(),o.one("load",function(){o.remove()}),o.attr("src","about:blank")}var i=null,o=null,a="iframe-"+t.now(),u=t(n.files).filter(":file:enabled"),l=null;if(n.dataTypes.shift(),n.data=e.data,u.length)return i=t("<form enctype='multipart/form-data' method='post'></form>").hide().attr({action:n.originalURL,target:a}),"string"==typeof n.data&&n.data.length>0&&t.error("data must not be serialized"),t.each(n.data||{},function(n,e){t.isPlainObject(e)&&(n=e.name,e=e.value),t("<input type='hidden' />").attr({name:n,value:e}).appendTo(i)}),t("<input type='hidden' value='IFrame' name='X-Requested-With' />").appendTo(i),l=n.dataTypes[0]&&n.accepts[n.dataTypes[0]]?n.accepts[n.dataTypes[0]]+("*"!==n.dataTypes[0]?", */*; q=0.01":""):n.accepts["*"],t("<input type='hidden' name='X-HTTP-Accept'>").attr("value",l).appendTo(i),u.after(function(){var n=t(this),e=n.clone().prop("disabled",!0);return n.data("clone",e),e}).next(),u.appendTo(i),{send:function(n,e){o=t("<iframe src='about:blank' name='"+a+"' id='"+a+"' style='display:none'></iframe>"),o.one("load",function(){o.one("load",function(){var t=this.contentWindow?this.contentWindow.document:this.contentDocument?this.contentDocument:this.document,n=t.documentElement?t.documentElement:t.body,i=n.getElementsByTagName("textarea")[0],o=i&&i.getAttribute("data-type")||null,a=i&&i.getAttribute("data-status")||200,u=i&&i.getAttribute("data-statusText")||"OK",l={html:n.innerHTML,text:o?i.value:n?n.textContent||n.innerText:null};r(),e(a,u,l,o?"Content-Type: "+o:null)}),i[0].submit()}),t("body").append(i,o)},abort:function(){null!==o&&(o.unbind("load").attr("src","about:blank"),r())}}})}(jQuery),function(t){var n;t.remotipart=n={setup:function(e){var r=e.data("ujs:submit-button"),i=t('meta[name="csrf-param"]').attr("content"),o=t('meta[name="csrf-token"]').attr("content"),a=e.find('input[name="'+i+'"]').length;e.one("ajax:beforeSend.remotipart",function(u,l,c){return delete c.beforeSend,c.iframe=!0,c.files=t(t.rails.fileInputSelector,e),c.data=e.serializeArray(),r&&c.data.push(r),c.files.each(function(t,n){for(var e=c.data.length-1;e>=0;e--)c.data[e].name==n.name&&c.data.splice(e,1)}),c.processData=!1,c.dataType===undefined&&(c.dataType="script *"),c.data.push({name:"remotipart_submitted",value:!0}),o&&i&&!a&&c.data.push({name:i,value:o}),t.rails.fire(e,"ajax:remotipartSubmit",[l,c])&&(t.rails.ajax(c),setTimeout(function(){t.rails.disableFormElements(e)},20)),n.teardown(e),!1}).data("remotipartSubmitted",!0)},teardown:function(t){t.unbind("ajax:beforeSend.remotipart").removeData("remotipartSubmitted")}},t(document).on("ajax:aborted:file","form",function(){var e=t(this);return n.setup(e),t.rails.handleRemote(e),!1})}(jQuery),/**
 * @preserve
 * bootpag - jQuery plugin for dynamic pagination
 *
 * Copyright (c) 2015 botmonster@7items.com
 *
 * Licensed under the MIT license:
 *   http://www.opensource.org/licenses/mit-license.php
 *
 * Project home:
 *   http://botmonster.com/jquery-bootpag/
 *
 * Version:  1.0.7
 *
 */
function(t){t.fn.bootpag=function(n){function e(n,e){e=parseInt(e,10);var a,u=0==o.maxVisible?1:o.maxVisible,l=1==o.maxVisible?0:1,c=Math.floor((e-1)/u)*u,f=n.find("li");o.page=e=e<0?0:e>o.total?o.total:e,f.removeClass(o.activeClass),a=e-1<1?1:o.leaps&&e-1>=o.maxVisible?Math.floor((e-1)/u)*u:e-1,o.firstLastUse&&f.first().toggleClass(o.disabledClass,1===e);var s=f.first();o.firstLastUse&&(s=s.next()),s.toggleClass(o.disabledClass,1===e).attr("data-lp",a).find("a").attr("href",r(a));var l=1==o.maxVisible?0:1;a=e+1>o.total?o.total:o.leaps&&e+1<o.total-o.maxVisible?c+o.maxVisible+l:e+1;var h=f.last();o.firstLastUse&&(h=h.prev()),h.toggleClass(o.disabledClass,e===o.total).attr("data-lp",a).find("a").attr("href",r(a)),f.last().toggleClass(o.disabledClass,e===o.total);var p=f.filter("[data-lp="+e+"]"),d="."+[o.nextClass,o.prevClass,o.firstClass,o.lastClass].join(",.");if(!p.not(d).length){var v=e<=c?-o.maxVisible:0;f.not(d).each(function(n){a=n+1+c+v,t(this).attr("data-lp",a).toggle(a<=o.total).find("a").html(a).attr("href",r(a))}),p=f.filter("[data-lp="+e+"]")}p.not(d).addClass(o.activeClass),i.data("settings",o)}function r(t){return o.href.replace(o.hrefVariable,t)}var i=this,o=t.extend({total:0,page:1,maxVisible:null,leaps:!0,href:"javascript:void(0);",hrefVariable:"{{number}}",next:"&raquo;",prev:"&laquo;",firstLastUse:!1,first:'<span aria-hidden="true">&larr;</span>',last:'<span aria-hidden="true">&rarr;</span>',wrapClass:"pagination",activeClass:"active",disabledClass:"disabled",nextClass:"next",prevClass:"prev",lastClass:"last",firstClass:"first"},i.data("settings")||{},n||{});return o.total<=0?this:(t.isNumeric(o.maxVisible)||o.maxVisible||(o.maxVisible=parseInt(o.total,10)),i.data("settings",o),this.each(function(){var n,a,u=t(this),l=['<ul class="',o.wrapClass,' bootpag">'];o.firstLastUse&&(l=l.concat(['<li data-lp="1" class="',o.firstClass,'"><a href="',r(1),'">',o.first,"</a></li>"])),o.prev&&(l=l.concat(['<li data-lp="1" class="',o.prevClass,'"><a href="',r(1),'">',o.prev,"</a></li>"]));for(var c=1;c<=Math.min(o.total,o.maxVisible);c++)l=l.concat(['<li data-lp="',c,'"><a href="',r(c),'">',c,"</a></li>"]);o.next&&(a=o.leaps&&o.total>o.maxVisible?Math.min(o.maxVisible+1,o.total):2,l=l.concat(['<li data-lp="',a,'" class="',o.nextClass,'"><a href="',r(a),'">',o.next,"</a></li>"])),o.firstLastUse&&(l=l.concat(['<li data-lp="',o.total,'" class="last"><a href="',r(o.total),'">',o.last,"</a></li>"])),l.push("</ul>"),u.find("ul.bootpag").remove(),u.append(l.join("")),n=u.find("ul.bootpag"),u.find("li").click(function(){var n=t(this);if(!n.hasClass(o.disabledClass)&&!n.hasClass(o.activeClass)){var r=parseInt(n.attr("data-lp"),10);i.find("ul.bootpag").each(function(){e(t(this),r)}),i.trigger("page",r)}}),e(n,o.page)}))}}(jQuery,window),function(){function t(t){return t&&(t.ownerDocument||t.document||t).documentElement}function n(t){return t&&(t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView)}function e(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function r(t){return null===t?NaN:+t}function i(t){return!isNaN(t)}function o(t){return{left:function(n,e,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=n.length);r<i;){var o=r+i>>>1;t(n[o],e)<0?r=o+1:i=o}return r},right:function(n,e,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=n.length);r<i;){var o=r+i>>>1;t(n[o],e)>0?i=o:r=o+1}return r}}}function a(t){return t.length}function u(t){for(var n=1;t*n%1;)n*=10;return n}function l(t,n){for(var e in n)Object.defineProperty(t.prototype,e,{value:n[e],enumerable:!1})}function c(){this._=Object.create(null)}function f(t){return(t+="")===ba||t[0]===xa?xa+t:t}function s(t){return(t+="")[0]===xa?t.slice(1):t}function h(t){return f(t)in this._}function p(t){return(t=f(t))in this._&&delete this._[t]}function d(){var t=[];for(var n in this._)t.push(s(n));return t}function v(){var t=0;for(var n in this._)++t;return t}function g(){for(var t in this._)return!1;return!0}function y(){this._=Object.create(null)}function m(t){return t}function b(t,n,e){return function(){var r=e.apply(n,arguments);return r===n?t:r}}function x(t,n){if(n in t)return n;n=n.charAt(0).toUpperCase()+n.slice(1);for(var e=0,r=wa.length;e<r;++e){var i=wa[e]+n;if(i in t)return i}}function w(){}function _(){}function M(t){function n(){for(var n,r=e,i=-1,o=r.length;++i<o;)(n=r[i].on)&&n.apply(this,arguments);return t}var e=[],r=new c;return n.on=function(n,i){var o,a=r.get(n);return arguments.length<2?a&&a.on:(a&&(a.on=null,e=e.slice(0,o=e.indexOf(a)).concat(e.slice(o+1)),r.remove(n)),i&&e.push(r.set(n,{on:i})),t)},n}function k(){la.event.preventDefault()}function S(){for(var t,n=la.event;t=n.sourceEvent;)n=t;return n}function E(t){for(var n=new _,e=0,r=arguments.length;++e<r;)n[arguments[e]]=M(n);return n.of=function(e,r){return function(i){try{var o=i.sourceEvent=la.event;i.target=t,la.event=i,n[i.type].apply(e,r)}finally{la.event=o}}},n}function A(t){return Ma(t,Aa),t}function N(t){return"function"==typeof t?t:function(){return ka(t,this)}}function C(t){return"function"==typeof t?t:function(){return Sa(t,this)}}function T(t,n){function e(){this.removeAttribute(t)}function r(){this.removeAttributeNS(t.space,t.local)}function i(){this.setAttribute(t,n)}function o(){this.setAttributeNS(t.space,t.local,n)}function a(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}function u(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}return t=la.ns.qualify(t),null==n?t.local?r:e:"function"==typeof n?t.local?u:a:t.local?o:i}function j(t){return t.trim().replace(/\s+/g," ")}function D(t){return new RegExp("(?:^|\\s+)"+la.requote(t)+"(?:\\s+|$)","g")}function I(t){return(t+"").trim().split(/^|\s+/)}function R(t,n){function e(){for(var e=-1;++e<i;)t[e](this,n)}function r(){for(var e=-1,r=n.apply(this,arguments);++e<i;)t[e](this,r)}t=I(t).map(O);var i=t.length;return"function"==typeof n?r:e}function O(t){var n=D(t);return function(e,r){if(i=e.classList)return r?i.add(t):i.remove(t);var i=e.getAttribute("class")||"";r?(n.lastIndex=0,n.test(i)||e.setAttribute("class",j(i+" "+t))):e.setAttribute("class",j(i.replace(n," ")))}}function z(t,n,e){function r(){this.style.removeProperty(t)}function i(){this.style.setProperty(t,n,e)}function o(){var r=n.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,e)}return null==n?r:"function"==typeof n?o:i}function L(t,n){function e(){delete this[t]}function r(){this[t]=n}function i(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}return null==n?e:"function"==typeof n?i:r}function q(t){function n(){var n=this.ownerDocument,e=this.namespaceURI;return e===Na&&n.documentElement.namespaceURI===Na?n.createElement(t):n.createElementNS(e,t)}function e(){return this.ownerDocument.createElementNS(t.space,t.local)}return"function"==typeof t?t:(t=la.ns.qualify(t)).local?e:n}function F(){var t=this.parentNode;t&&t.removeChild(this)}function U(t){return{__data__:t}}function $(t){return function(){return Ea(this,t)}}function P(t){return arguments.length||(t=e),function(n,e){return n&&e?t(n.__data__,e.__data__):!n-!e}}function H(t,n){for(var e=0,r=t.length;e<r;e++)for(var i,o=t[e],a=0,u=o.length;a<u;a++)(i=o[a])&&n(i,a,e);return t}function V(t){return Ma(t,Ta),t}function Y(t){var n,e;return function(r,i,o){var a,u=t[o].update,l=u.length;for(o!=e&&(e=o,n=0),i>=n&&(n=i+1);!(a=u[n])&&++n<l;);return a}}function B(t,n,e){function r(){var n=this[a];n&&(this.removeEventListener(t,n,n.$),delete this[a])}function i(){var i=l(n,fa(arguments));r.call(this),this.addEventListener(t,this[a]=i,i.$=e),i._=n}function o(){var n,e=new RegExp("^__on([^.]+)"+la.requote(t)+"$");for(var r in this)if(n=r.match(e)){var i=this[r];this.removeEventListener(n[1],i,i.$),delete this[r]}}var a="__on"+t,u=t.indexOf("."),l=Z;u>0&&(t=t.slice(0,u));var c=ja.get(t);return c&&(t=c,l=W),u?n?i:r:n?w:o}function Z(t,n){return function(e){var r=la.event;la.event=e,n[0]=this.__data__;try{t.apply(this,n)}finally{la.event=r}}}function W(t,n){var e=Z(t,n);return function(t){var n=this,r=t.relatedTarget;r&&(r===n||8&r.compareDocumentPosition(n))||e.call(n,t)}}function X(e){var r=".dragsuppress-"+ ++Ia,i="click"+r,o=la.select(n(e)).on("touchmove"+r,k).on("dragstart"+r,k).on("selectstart"+r,k);if(null==Da&&(Da=!("onselectstart"in e)&&x(e.style,"userSelect")),Da){var a=t(e).style,u=a[Da];a[Da]="none"}return function(t){if(o.on(r,null),Da&&(a[Da]=u),t){var n=function(){o.on(i,null)};o.on(i,function(){k(),n()},!0),setTimeout(n,0)}}}function J(t,e){e.changedTouches&&(e=e.changedTouches[0]);var r=t.ownerSVGElement||t;if(r.createSVGPoint){var i=r.createSVGPoint();if(Ra<0){var o=n(t);if(o.scrollX||o.scrollY){r=la.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var a=r[0][0].getScreenCTM();Ra=!(a.f||a.e),r.remove()}}return Ra?(i.x=e.pageX,i.y=e.pageY):(i.x=e.clientX,i.y=e.clientY),i=i.matrixTransform(t.getScreenCTM().inverse()),[i.x,i.y]}var u=t.getBoundingClientRect();return[e.clientX-u.left-t.clientLeft,e.clientY-u.top-t.clientTop]}function K(){return la.event.changedTouches[0].identifier}function G(t){return t>0?1:t<0?-1:0}function Q(t,n,e){return(n[0]-t[0])*(e[1]-t[1])-(n[1]-t[1])*(e[0]-t[0])}function tt(t){return t>1?0:t<-1?La:Math.acos(t)}function nt(t){return t>1?Ua:t<-1?-Ua:Math.asin(t)}function et(t){return((t=Math.exp(t))-1/t)/2}function rt(t){return((t=Math.exp(t))+1/t)/2}function it(t){return((t=Math.exp(2*t))-1)/(t+1)}function ot(t){return(t=Math.sin(t/2))*t}function at(){}function ut(t,n,e){return this instanceof ut?(this.h=+t,this.s=+n,void(this.l=+e)):arguments.length<2?t instanceof ut?new ut(t.h,t.s,t.l):wt(""+t,_t,ut):new ut(t,n,e)}function lt(t,n,e){function r(t){return t>360?t-=360:t<0&&(t+=360),t<60?o+(a-o)*t/60:t<180?a:t<240?o+(a-o)*(240-t)/60:o}function i(t){return Math.round(255*r(t))}var o,a;return t=isNaN(t)?0:(t%=360)<0?t+360:t,n=isNaN(n)?0:n<0?0:n>1?1:n,e=e<0?0:e>1?1:e,a=e<=.5?e*(1+n):e+n-e*n,o=2*e-a,new yt(i(t+120),i(t),i(t-120))}function ct(t,n,e){return this instanceof ct?(this.h=+t,this.c=+n,void(this.l=+e)):arguments.length<2?t instanceof ct?new ct(t.h,t.c,t.l):t instanceof st?pt(t.l,t.a,t.b):pt((t=Mt((t=la.rgb(t)).r,t.g,t.b)).l,t.a,t.b):new ct(t,n,e)}function ft(t,n,e){return isNaN(t)&&(t=0),isNaN(n)&&(n=0),new st(e,Math.cos(t*=$a)*n,Math.sin(t)*n)}function st(t,n,e){return this instanceof st?(this.l=+t,this.a=+n,void(this.b=+e)):arguments.length<2?t instanceof st?new st(t.l,t.a,t.b):t instanceof ct?ft(t.h,t.c,t.l):Mt((t=yt(t)).r,t.g,t.b):new st(t,n,e)}function ht(t,n,e){var r=(t+16)/116,i=r+n/500,o=r-e/200;return i=dt(i)*Ga,r=dt(r)*Qa,o=dt(o)*tu,new yt(gt(3.2404542*i-1.5371385*r-.4985314*o),gt(-.969266*i+1.8760108*r+.041556*o),gt(.0556434*i-.2040259*r+1.0572252*o))}function pt(t,n,e){return t>0?new ct(Math.atan2(e,n)*Pa,Math.sqrt(n*n+e*e),t):new ct(NaN,NaN,t)}function dt(t){return t>.206893034?t*t*t:(t-4/29)/7.787037}function vt(t){return t>.008856?Math.pow(t,1/3):7.787037*t+4/29}function gt(t){return Math.round(255*(t<=.00304?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}function yt(t,n,e){return this instanceof yt?(this.r=~~t,this.g=~~n,void(this.b=~~e)):arguments.length<2?t instanceof yt?new yt(t.r,t.g,t.b):wt(""+t,yt,lt):new yt(t,n,e)}function mt(t){return new yt(t>>16,t>>8&255,255&t)}function bt(t){return mt(t)+""}function xt(t){return t<16?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function wt(t,n,e){var r,i,o,a=0,u=0,l=0;if(r=/([a-z]+)\((.*)\)/.exec(t=t.toLowerCase()))switch(i=r[2].split(","),r[1]){case"hsl":return e(parseFloat(i[0]),parseFloat(i[1])/100,parseFloat(i[2])/100);case"rgb":return n(St(i[0]),St(i[1]),St(i[2]))}return(o=ru.get(t))?n(o.r,o.g,o.b):(null==t||"#"!==t.charAt(0)||isNaN(o=parseInt(t.slice(1),16))||(4===t.length?(a=(3840&o)>>4,a|=a>>4,u=240&o,u|=u>>4,l=15&o,l|=l<<4):7===t.length&&(a=(16711680&o)>>16,u=(65280&o)>>8,l=255&o)),n(a,u,l))}function _t(t,n,e){var r,i,o=Math.min(t/=255,n/=255,e/=255),a=Math.max(t,n,e),u=a-o,l=(a+o)/2;return u?(i=l<.5?u/(a+o):u/(2-a-o),r=t==a?(n-e)/u+(n<e?6:0):n==a?(e-t)/u+2:(t-n)/u+4,r*=60):(r=NaN,i=l>0&&l<1?0:r),new ut(r,i,l)}function Mt(t,n,e){t=kt(t),n=kt(n),e=kt(e);var r=vt((.4124564*t+.3575761*n+.1804375*e)/Ga),i=vt((.2126729*t+.7151522*n+.072175*e)/Qa);return st(116*i-16,500*(r-i),200*(i-vt((.0193339*t+.119192*n+.9503041*e)/tu)))}function kt(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function St(t){var n=parseFloat(t);return"%"===t.charAt(t.length-1)?Math.round(2.55*n):n}function Et(t){return"function"==typeof t?t:function(){return t}}function At(t){return function(n,e,r){return 2===arguments.length&&"function"==typeof e&&(r=e,e=null),Nt(n,e,t,r)}}function Nt(t,n,e,r){function i(){var t,n=l.status;if(!n&&Tt(l)||n>=200&&n<300||304===n){try{t=e.call(o,l)}catch(t){return void a.error.call(o,t)}a.load.call(o,t)}else a.error.call(o,l)}var o={},a=la.dispatch("beforesend","progress","load","error"),u={},l=new XMLHttpRequest,c=null;return!this.XDomainRequest||"withCredentials"in l||!/^(http(s)?:)?\/\//.test(t)||(l=new XDomainRequest),"onload"in l?l.onload=l.onerror=i:l.onreadystatechange=function(){l.readyState>3&&i()},l.onprogress=function(t){var n=la.event;la.event=t;try{a.progress.call(o,l)}finally{la.event=n}},o.header=function(t,n){return t=(t+"").toLowerCase(),arguments.length<2?u[t]:(null==n?delete u[t]:u[t]=n+"",o)},o.mimeType=function(t){return arguments.length?(n=null==t?null:t+"",o):n},o.responseType=function(t){return arguments.length?(c=t,o):c},o.response=function(t){return e=t,o},["get","post"].forEach(function(t){o[t]=function(){return o.send.apply(o,[t].concat(fa(arguments)))}}),o.send=function(e,r,i){if(2===arguments.length&&"function"==typeof r&&(i=r,r=null),l.open(e,t,!0),null==n||"accept"in u||(u.accept=n+",*/*"),l.setRequestHeader)for(var f in u)l.setRequestHeader(f,u[f]);return null!=n&&l.overrideMimeType&&l.overrideMimeType(n),null!=c&&(l.responseType=c),null!=i&&o.on("error",i).on("load",function(t){i(null,t)}),a.beforesend.call(o,l),l.send(null==r?null:r),o},o.abort=function(){return l.abort(),o},la.rebind(o,a,"on"),null==r?o:o.get(Ct(r))}function Ct(t){return 1===t.length?function(n,e){t(null==n?e:null)}:t}function Tt(t){var n=t.responseType;return n&&"text"!==n?t.response:t.responseText}function jt(t,n,e){var r=arguments.length;r<2&&(n=0),r<3&&(e=Date.now());var i=e+n,o={c:t,t:i,n:null};return ou?ou.n=o:iu=o,ou=o,au||(uu=clearTimeout(uu),au=1,lu(Dt)),o}function Dt(){var t=It(),n=Rt()-t;n>24?(isFinite(n)&&(clearTimeout(uu),uu=setTimeout(Dt,n)),au=0):(au=1,lu(Dt))}function It(){for(var t=Date.now(),n=iu;n;)t>=n.t&&n.c(t-n.t)&&(n.c=null),n=n.n;return t}function Rt(){for(var t,n=iu,e=Infinity;n;)n.c?(n.t<e&&(e=n.t),n=(t=n).n):n=t?t.n=n.n:iu=n.n;return ou=t,e}function Ot(t,n){return n-(t?Math.ceil(Math.log(t)/Math.LN10):1)}function zt(t,n){var e=Math.pow(10,3*ma(8-n));return{scale:n>8?function(t){return t/e}:function(t){return t*e},symbol:t}}function Lt(t){var n=t.decimal,e=t.thousands,r=t.grouping,i=t.currency,o=r&&e?function(t,n){for(var i=t.length,o=[],a=0,u=r[0],l=0;i>0&&u>0&&(l+u+1>n&&(u=Math.max(1,n-l)),o.push(t.substring(i-=u,i+u)),!((l+=u+1)>n));)u=r[a=(a+1)%r.length];return o.reverse().join(e)}:m;return function(t){var e=fu.exec(t),r=e[1]||" ",a=e[2]||">",u=e[3]||"-",l=e[4]||"",c=e[5],f=+e[6],s=e[7],h=e[8],p=e[9],d=1,v="",g="",y=!1,m=!0;switch(h&&(h=+h.substring(1)),(c||"0"===r&&"="===a)&&(c=r="0",a="="),p){case"n":s=!0,p="g";break;case"%":d=100,g="%",p="f";break;case"p":d=100,g="%",p="r";break;case"b":case"o":case"x":case"X":"#"===l&&(v="0"+p.toLowerCase());case"c":m=!1;case"d":y=!0,h=0;break;case"s":d=-1,p="r"}"$"===l&&(v=i[0],g=i[1]),"r"!=p||h||(p="g"),null!=h&&("g"==p?h=Math.max(1,Math.min(21,h)):"e"!=p&&"f"!=p||(h=Math.max(0,Math.min(20,h)))),p=su.get(p)||qt;var b=c&&s;return function(t){var e=g;if(y&&t%1)return"";var i=t<0||0===t&&1/t<0?(t=-t,"-"):"-"===u?"":u;if(d<0){var l=la.formatPrefix(t,h);t=l.scale(t),e=l.symbol+g}else t*=d;t=p(t,h);var x,w,_=t.lastIndexOf(".");if(_<0){var M=m?t.lastIndexOf("e"):-1;M<0?(x=t,w=""):(x=t.substring(0,M),w=t.substring(M))}else x=t.substring(0,_),w=n+t.substring(_+1);!c&&s&&(x=o(x,Infinity));var k=v.length+x.length+w.length+(b?0:i.length),S=k<f?new Array(k=f-k+1).join(r):"";return b&&(x=o(S+x,S.length?f-w.length:Infinity)),i+=v,t=x+w,("<"===a?i+t+S:">"===a?S+i+t:"^"===a?S.substring(0,k>>=1)+i+t+S.substring(k):i+(b?t:S+t))+e}}}function qt(t){return t+""}function Ft(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function Ut(t,n,e){function r(n){var e=t(n),r=o(e,1);return n-e<r-n?e:r}function i(e){return n(e=t(new pu(e-1)),1),e}function o(t,e){return n(t=new pu(+t),e),t}function a(t,r,o){var a=i(t),u=[];if(o>1)for(;a<r;)e(a)%o||u.push(new Date(+a)),n(a,1);else for(;a<r;)u.push(new Date(+a)),n(a,1);return u}function u(t,n,e){try{pu=Ft;var r=new Ft;return r._=t,a(r,n,e)}finally{pu=Date}}t.floor=t,t.round=r,t.ceil=i,t.offset=o,t.range=a;var l=t.utc=$t(t);return l.floor=l,l.round=$t(r),l.ceil=$t(i),l.offset=$t(o),l.range=u,t}function $t(t){return function(n,e){try{pu=Ft;var r=new Ft;return r._=n,t(r,e)._}finally{pu=Date}}}function Pt(t){function n(t){function n(n){for(var e,i,o,a=[],u=-1,l=0;++u<r;)37===t.charCodeAt(u)&&(a.push(t.slice(l,u)),null!=(i=vu[e=t.charAt(++u)])&&(e=t.charAt(++u)),(o=N[e])&&(e=o(n,null==i?"e"===e?" ":"0":i)),a.push(e),l=u+1);return a.push(t.slice(l,u)),a.join("")}var r=t.length;return n.parse=function(n){var r={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null};if(e(r,t,n,0)!=n.length)return null;"p"in r&&(r.H=r.H%12+12*r.p);var i=null!=r.Z&&pu!==Ft,o=new(i?Ft:pu);return"j"in r?o.setFullYear(r.y,0,r.j):"W"in r||"U"in r?("w"in r||(r.w="W"in r?1:0),o.setFullYear(r.y,0,1),o.setFullYear(r.y,0,"W"in r?(r.w+6)%7+7*r.W-(o.getDay()+5)%7:r.w+7*r.U-(o.getDay()+6)%7)):o.setFullYear(r.y,r.m,r.d),o.setHours(r.H+(r.Z/100|0),r.M+r.Z%100,r.S,r.L),i?o._:o},n.toString=function(){return t},n}function e(t,n,e,r){for(var i,o,a,u=0,l=n.length,c=e.length;u<l;){if(r>=c)return-1;if(37===(i=n.charCodeAt(u++))){if(a=n.charAt(u++),!(o=C[a in vu?n.charAt(u++):a])||(r=o(t,e,r))<0)return-1}else if(i!=e.charCodeAt(r++))return-1}return r}function r(t,n,e){_.lastIndex=0;var r=_.exec(n.slice(e));return r?(t.w=M.get(r[0].toLowerCase()),e+r[0].length):-1}function i(t,n,e){x.lastIndex=0;var r=x.exec(n.slice(e));return r?(t.w=w.get(r[0].toLowerCase()),e+r[0].length):-1}function o(t,n,e){E.lastIndex=0;var r=E.exec(n.slice(e));return r?(t.m=A.get(r[0].toLowerCase()),e+r[0].length):-1}function a(t,n,e){k.lastIndex=0;var r=k.exec(n.slice(e));return r?(t.m=S.get(r[0].toLowerCase()),e+r[0].length):-1}function u(t,n,r){return e(t,N.c.toString(),n,r)}function l(t,n,r){return e(t,N.x.toString(),n,r)}function c(t,n,r){return e(t,N.X.toString(),n,r)}function f(t,n,e){var r=b.get(n.slice(e,e+=2).toLowerCase());return null==r?-1:(t.p=r,e)}var s=t.dateTime,h=t.date,p=t.time,d=t.periods,v=t.days,g=t.shortDays,y=t.months,m=t.shortMonths;n.utc=function(t){function e(t){try{pu=Ft;var n=new pu;return n._=t,r(n)}finally{pu=Date}}var r=n(t);return e.parse=function(t){try{pu=Ft;var n=r.parse(t);return n&&n._}finally{pu=Date}},e.toString=r.toString,e},n.multi=n.utc.multi=cn;var b=la.map(),x=Vt(v),w=Yt(v),_=Vt(g),M=Yt(g),k=Vt(y),S=Yt(y),E=Vt(m),A=Yt(m);d.forEach(function(t,n){b.set(t.toLowerCase(),n)});var N={a:function(t){return g[t.getDay()]},A:function(t){return v[t.getDay()]},b:function(t){return m[t.getMonth()]},B:function(t){return y[t.getMonth()]},c:n(s),d:function(t,n){return Ht(t.getDate(),n,2)},e:function(t,n){return Ht(t.getDate(),n,2)},H:function(t,n){return Ht(t.getHours(),n,2)},I:function(t,n){return Ht(t.getHours()%12||12,n,2)},j:function(t,n){return Ht(1+hu.dayOfYear(t),n,3)},L:function(t,n){return Ht(t.getMilliseconds(),n,3)},m:function(t,n){return Ht(t.getMonth()+1,n,2)},M:function(t,n){return Ht(t.getMinutes(),n,2)},p:function(t){return d[+(t.getHours()>=12)]},S:function(t,n){return Ht(t.getSeconds(),n,2)},U:function(t,n){return Ht(hu.sundayOfYear(t),n,2)},w:function(t){return t.getDay()},W:function(t,n){return Ht(hu.mondayOfYear(t),n,2)},x:n(h),X:n(p),y:function(t,n){return Ht(t.getFullYear()%100,n,2)},Y:function(t,n){return Ht(t.getFullYear()%1e4,n,4)},Z:un,"%":function(){return"%"}},C={a:r,A:i,b:o,B:a,c:u,d:tn,e:tn,H:en,I:en,j:nn,L:an,m:Qt,M:rn,p:f,S:on,U:Zt,w:Bt,W:Wt,x:l,X:c,y:Jt,Y:Xt,Z:Kt,"%":ln};return n}function Ht(t,n,e){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<e?new Array(e-o+1).join(n)+i:i)}function Vt(t){return new RegExp("^(?:"+t.map(la.requote).join("|")+")","i")}function Yt(t){for(var n=new c,e=-1,r=t.length;++e<r;)n.set(t[e].toLowerCase(),e);return n}function Bt(t,n,e){gu.lastIndex=0;var r=gu.exec(n.slice(e,e+1));return r?(t.w=+r[0],e+r[0].length):-1}function Zt(t,n,e){gu.lastIndex=0;var r=gu.exec(n.slice(e));return r?(t.U=+r[0],e+r[0].length):-1}function Wt(t,n,e){gu.lastIndex=0;var r=gu.exec(n.slice(e));return r?(t.W=+r[0],e+r[0].length):-1}function Xt(t,n,e){gu.lastIndex=0;var r=gu.exec(n.slice(e,e+4));return r?(t.y=+r[0],e+r[0].length):-1}function Jt(t,n,e){gu.lastIndex=0;var r=gu.exec(n.slice(e,e+2));return r?(t.y=Gt(+r[0]),e+r[0].length):-1}function Kt(t,n,e){return/^[+-]\d{4}$/.test(n=n.slice(e,e+5))?(t.Z=-n,e+5):-1}function Gt(t){return t+(t>68?1900:2e3)}function Qt(t,n,e){gu.lastIndex=0;var r=gu.exec(n.slice(e,e+2));return r?(t.m=r[0]-1,e+r[0].length):-1}function tn(t,n,e){gu.lastIndex=0;var r=gu.exec(n.slice(e,e+2));return r?(t.d=+r[0],e+r[0].length):-1}function nn(t,n,e){gu.lastIndex=0;var r=gu.exec(n.slice(e,e+3));return r?(t.j=+r[0],e+r[0].length):-1}function en(t,n,e){gu.lastIndex=0;var r=gu.exec(n.slice(e,e+2));return r?(t.H=+r[0],e+r[0].length):-1}function rn(t,n,e){gu.lastIndex=0;var r=gu.exec(n.slice(e,e+2));return r?(t.M=+r[0],e+r[0].length):-1}function on(t,n,e){gu.lastIndex=0;var r=gu.exec(n.slice(e,e+2));return r?(t.S=+r[0],e+r[0].length):-1}function an(t,n,e){gu.lastIndex=0;var r=gu.exec(n.slice(e,e+3));return r?(t.L=+r[0],e+r[0].length):-1}function un(t){var n=t.getTimezoneOffset(),e=n>0?"-":"+",r=ma(n)/60|0,i=ma(n)%60;return e+Ht(r,"0",2)+Ht(i,"0",2)}function ln(t,n,e){yu.lastIndex=0;var r=yu.exec(n.slice(e,e+1));return r?e+r[0].length:-1}function cn(t){for(var n=t.length,e=-1;++e<n;)t[e][0]=this(t[e][0]);return function(n){for(var e=0,r=t[e];!r[1](n);)r=t[++e];return r[0](n)}}function fn(){}function sn(t,n,e){var r=e.s=t+n,i=r-t,o=r-i;e.t=t-o+(n-i)}function hn(t,n){t&&wu.hasOwnProperty(t.type)&&wu[t.type](t,n)}function pn(t,n,e){var r,i=-1,o=t.length-e;for(n.lineStart();++i<o;)r=t[i],n.point(r[0],r[1],r[2]);n.lineEnd()}function dn(t,n){var e=-1,r=t.length;for(n.polygonStart();++e<r;)pn(t[e],n,1);n.polygonEnd()}function vn(){function t(t,n){t*=$a,n=n*$a/2+La/4;var e=t-r,a=e>=0?1:-1,u=a*e,l=Math.cos(n),c=Math.sin(n),f=o*c,s=i*l+f*Math.cos(u),h=f*a*Math.sin(u);Mu.add(Math.atan2(h,s)),r=t,i=l,o=c}var n,e,r,i,o;ku.point=function(a,u){ku.point=t,r=(n=a)*$a,i=Math.cos(u=(e=u)*$a/2+La/4),o=Math.sin(u)},ku.lineEnd=function(){t(n,e)}}function gn(t){var n=t[0],e=t[1],r=Math.cos(e);return[r*Math.cos(n),r*Math.sin(n),Math.sin(e)]}function yn(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function mn(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]}function bn(t,n){t[0]+=n[0],t[1]+=n[1],t[2]+=n[2]}function xn(t,n){return[t[0]*n,t[1]*n,t[2]*n]}function wn(t){var n=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=n,t[1]/=n,t[2]/=n}function _n(t){return[Math.atan2(t[1],t[0]),nt(t[2])]}function Mn(t,n){return ma(t[0]-n[0])<Oa&&ma(t[1]-n[1])<Oa}function kn(t,n){t*=$a;var e=Math.cos(n*=$a);Sn(e*Math.cos(t),e*Math.sin(t),Math.sin(n))}function Sn(t,n,e){++Su,Au+=(t-Au)/Su,Nu+=(n-Nu)/Su,Cu+=(e-Cu)/Su}function En(){function t(t,i){t*=$a;var o=Math.cos(i*=$a),a=o*Math.cos(t),u=o*Math.sin(t),l=Math.sin(i),c=Math.atan2(Math.sqrt((c=e*l-r*u)*c+(c=r*a-n*l)*c+(c=n*u-e*a)*c),n*a+e*u+r*l);Eu+=c,Tu+=c*(n+(n=a)),ju+=c*(e+(e=u)),Du+=c*(r+(r=l)),Sn(n,e,r)}var n,e,r;zu.point=function(i,o){i*=$a;var a=Math.cos(o*=$a);n=a*Math.cos(i),e=a*Math.sin(i),r=Math.sin(o),zu.point=t,Sn(n,e,r)}}function An(){zu.point=kn}function Nn(){function t(t,n){t*=$a;var e=Math.cos(n*=$a),a=e*Math.cos(t),u=e*Math.sin(t),l=Math.sin(n),c=i*l-o*u,f=o*a-r*l,s=r*u-i*a,h=Math.sqrt(c*c+f*f+s*s),p=r*a+i*u+o*l,d=h&&-tt(p)/h,v=Math.atan2(h,p);Iu+=d*c,Ru+=d*f,Ou+=d*s,Eu+=v,Tu+=v*(r+(r=a)),ju+=v*(i+(i=u)),Du+=v*(o+(o=l)),Sn(r,i,o)}var n,e,r,i,o;zu.point=function(a,u){n=a,e=u,zu.point=t,a*=$a;var l=Math.cos(u*=$a);r=l*Math.cos(a),i=l*Math.sin(a),o=Math.sin(u),Sn(r,i,o)},zu.lineEnd=function(){t(n,e),zu.lineEnd=An,zu.point=kn}}function Cn(t,n){function e(e,r){return e=t(e,r),n(e[0],e[1])}return t.invert&&n.invert&&(e.invert=function(e,r){return(e=n.invert(e,r))&&t.invert(e[0],e[1])}),e}function Tn(){return!0}function jn(t,n,e,r,i){var o=[],a=[];if(t.forEach(function(t){if(!((n=t.length-1)<=0)){var n,e=t[0],r=t[n];if(Mn(e,r)){i.lineStart();for(var u=0;u<n;++u)i.point((e=t[u])[0],e[1]);return void i.lineEnd()}var l=new In(e,t,null,!0),c=new In(e,null,l,!1);l.o=c,o.push(l),a.push(c),l=new In(r,t,null,!1),c=new In(r,null,l,!0),l.o=c,o.push(l),a.push(c)}}),a.sort(n),Dn(o),Dn(a),o.length){for(var u=0,l=e,c=a.length;u<c;++u)a[u].e=l=!l;for(var f,s,h=o[0];;){for(var p=h,d=!0;p.v;)if((p=p.n)===h)return;f=p.z,i.lineStart();do{if(p.v=p.o.v=!0,p.e){if(d)for(var u=0,c=f.length;u<c;++u)i.point((s=f[u])[0],s[1]);else r(p.x,p.n.x,1,i);p=p.n}else{if(d){f=p.p.z;for(var u=f.length-1;u>=0;--u)i.point((s=f[u])[0],s[1])}else r(p.x,p.p.x,-1,i);p=p.p}p=p.o,f=p.z,d=!d}while(!p.v);i.lineEnd()}}}function Dn(t){if(n=t.length){for(var n,e,r=0,i=t[0];++r<n;)i.n=e=t[r],e.p=i,i=e;i.n=e=t[0],e.p=i}}function In(t,n,e,r){this.x=t,this.z=n,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}function Rn(t,n,e,r){return function(i,o){function a(n,e){var r=i(n,e);t(n=r[0],e=r[1])&&o.point(n,e)}function u(t,n){var e=i(t,n);g.point(e[0],e[1])}function l(){m.point=u,g.lineStart()}function c(){m.point=a,g.lineEnd()}function f(t,n){v.push([t,n]);var e=i(t,n);x.point(e[0],e[1])}function s(){x.lineStart(),v=[]}function h(){f(v[0][0],v[0][1]),x.lineEnd();var t,n=x.clean(),e=b.buffer(),r=e.length;if(v.pop(),d.push(v),v=null,r)if(1&n){t=e[0];var i,r=t.length-1,a=-1;if(r>0){for(w||(o.polygonStart(),w=!0),o.lineStart();++a<r;)o.point((i=t[a])[0],i[1]);o.lineEnd()}}else r>1&&2&n&&e.push(e.pop().concat(e.shift())),p.push(e.filter(On))}var p,d,v,g=n(o),y=i.invert(r[0],r[1]),m={point:a,lineStart:l,lineEnd:c,polygonStart:function(){m.point=f,m.lineStart=s,m.lineEnd=h,p=[],d=[]},polygonEnd:function(){m.point=a,m.lineStart=l,m.lineEnd=c,p=la.merge(p);var t=$n(y,d);p.length?(w||(o.polygonStart(),w=!0),jn(p,Ln,t,e,o)):t&&(w||(o.polygonStart(),w=!0),o.lineStart(),e(null,null,1,o),o.lineEnd()),w&&(o.polygonEnd(),w=!1),p=d=null},sphere:function(){o.polygonStart(),o.lineStart(),e(null,null,1,o),o.lineEnd(),o.polygonEnd()}},b=zn(),x=n(b),w=!1;return m}}function On(t){return t.length>1}function zn(){var t,n=[];return{lineStart:function(){n.push(t=[])},point:function(n,e){t.push([n,e])},lineEnd:w,buffer:function(){var e=n;return n=[],t=null,e},rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))}}}function Ln(t,n){return((t=t.x)[0]<0?t[1]-Ua-Oa:Ua-t[1])-((n=n.x)[0]<0?n[1]-Ua-Oa:Ua-n[1])}function qn(t){var n,e=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),n=1},point:function(o,a){var u=o>0?La:-La,l=ma(o-e);ma(l-La)<Oa?(t.point(e,r=(r+a)/2>0?Ua:-Ua),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(u,r),t.point(o,r),n=0):i!==u&&l>=La&&(ma(e-i)<Oa&&(e-=i*Oa),ma(o-u)<Oa&&(o-=u*Oa),r=Fn(e,r,o,a),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(u,r),n=0),t.point(e=o,r=a),i=u},lineEnd:function(){t.lineEnd(),e=r=NaN},clean:function(){return 2-n}}}function Fn(t,n,e,r){var i,o,a=Math.sin(t-e);return ma(a)>Oa?Math.atan((Math.sin(n)*(o=Math.cos(r))*Math.sin(e)-Math.sin(r)*(i=Math.cos(n))*Math.sin(t))/(i*o*a)):(n+r)/2}function Un(t,n,e,r){var i;if(null==t)i=e*Ua,r.point(-La,i),r.point(0,i),r.point(La,i),r.point(La,0),r.point(La,-i),r.point(0,-i),r.point(-La,-i),r.point(-La,0),r.point(-La,i);else if(ma(t[0]-n[0])>Oa){var o=t[0]<n[0]?La:-La;i=e*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(n[0],n[1])}function $n(t,n){var e=t[0],r=t[1],i=[Math.sin(e),-Math.cos(e),0],o=0,a=0;Mu.reset();for(var u=0,l=n.length;u<l;++u){var c=n[u],f=c.length;if(f)for(var s=c[0],h=s[0],p=s[1]/2+La/4,d=Math.sin(p),v=Math.cos(p),g=1;;){g===f&&(g=0),t=c[g];var y=t[0],m=t[1]/2+La/4,b=Math.sin(m),x=Math.cos(m),w=y-h,_=w>=0?1:-1,M=_*w,k=M>La,S=d*b;if(Mu.add(Math.atan2(S*_*Math.sin(M),v*x+S*Math.cos(M))),o+=k?w+_*qa:w,k^h>=e^y>=e){var E=mn(gn(s),gn(t));wn(E);var A=mn(i,E);wn(A);var N=(k^w>=0?-1:1)*nt(A[2]);(r>N||r===N&&(E[0]||E[1]))&&(a+=k^w>=0?1:-1)}if(!g++)break;h=y,d=b,v=x,s=t}}return(o<-Oa||o<Oa&&Mu<-Oa)^1&a}function Pn(t){function n(t,n){return Math.cos(t)*Math.cos(n)>o}function e(t){var e,o,l,c,f;return{lineStart:function(){c=l=!1,f=1},point:function(s,h){var p,d=[s,h],v=n(s,h),g=a?v?0:i(s,h):v?i(s+(s<0?La:-La),h):0;if(!e&&(c=l=v)&&t.lineStart(),v!==l&&(p=r(e,d),(Mn(e,p)||Mn(d,p))&&(d[0]+=Oa,d[1]+=Oa,v=n(d[0],d[1]))),v!==l)f=0,v?(t.lineStart(),p=r(d,e),t.point(p[0],p[1])):(p=r(e,d),t.point(p[0],p[1]),t.lineEnd()),e=p;else if(u&&e&&a^v){var y;g&o||!(y=r(d,e,!0))||(f=0,a?(t.lineStart(),t.point(y[0][0],y[0][1]),t.point(y[1][0],y[1][1]),t.lineEnd()):(t.point(y[1][0],y[1][1]),t.lineEnd(),t.lineStart(),t.point(y[0][0],y[0][1])))}!v||e&&Mn(e,d)||t.point(d[0],d[1]),e=d,l=v,o=g},lineEnd:function(){l&&t.lineEnd(),e=null},clean:function(){return f|(c&&l)<<1}}}function r(t,n,e){var r=gn(t),i=gn(n),a=[1,0,0],u=mn(r,i),l=yn(u,u),c=u[0],f=l-c*c;if(!f)return!e&&t;var s=o*l/f,h=-o*c/f,p=mn(a,u),d=xn(a,s);bn(d,xn(u,h));var v=p,g=yn(d,v),y=yn(v,v),m=g*g-y*(yn(d,d)-1);if(!(m<0)){var b=Math.sqrt(m),x=xn(v,(-g-b)/y);if(bn(x,d),x=_n(x),!e)return x;var w,_=t[0],M=n[0],k=t[1],S=n[1];M<_&&(w=_,_=M,M=w);var E=M-_,A=ma(E-La)<Oa,N=A||E<Oa;if(!A&&S<k&&(w=k,k=S,S=w),N?A?k+S>0^x[1]<(ma(x[0]-_)<Oa?k:S):k<=x[1]&&x[1]<=S:E>La^(_<=x[0]&&x[0]<=M)){var C=xn(v,(-g+b)/y);return bn(C,d),[x,_n(C)]}}}function i(n,e){var r=a?t:La-t,i=0;return n<-r?i|=1:n>r&&(i|=2),e<-r?i|=4:e>r&&(i|=8),i}var o=Math.cos(t),a=o>0,u=ma(o)>Oa;return Rn(n,e,ve(t,6*$a),a?[0,-t]:[-La,t-La])}function Hn(t,n,e,r){return function(i){var o,a=i.a,u=i.b,l=a.x,c=a.y,f=u.x,s=u.y,h=0,p=1,d=f-l,v=s-c;if(o=t-l,d||!(o>0)){if(o/=d,d<0){if(o<h)return;o<p&&(p=o)}else if(d>0){if(o>p)return;o>h&&(h=o)}if(o=e-l,d||!(o<0)){if(o/=d,d<0){if(o>p)return;o>h&&(h=o)}else if(d>0){if(o<h)return;o<p&&(p=o)}if(o=n-c,v||!(o>0)){if(o/=v,v<0){if(o<h)return;o<p&&(p=o)}else if(v>0){if(o>p)return;o>h&&(h=o)}if(o=r-c,v||!(o<0)){if(o/=v,v<0){if(o>p)return;o>h&&(h=o)}else if(v>0){if(o<h)return;o<p&&(p=o)}return h>0&&(i.a={x:l+h*d,y:c+h*v}),p<1&&(i.b={x:l+p*d,y:c+p*v}),i}}}}}}function Vn(t,n,e,r){function i(r,i){return ma(r[0]-t)<Oa?i>0?0:3:ma(r[0]-e)<Oa?i>0?2:1:ma(r[1]-n)<Oa?i>0?1:0:i>0?3:2}function o(t,n){return a(t.x,n.x)}function a(t,n){var e=i(t,1),r=i(n,1);return e!==r?e-r:0===e?n[1]-t[1]:1===e?t[0]-n[0]:2===e?t[1]-n[1]:n[0]-t[0]}return function(u){function l(t){for(var n=0,e=g.length,r=t[1],i=0;i<e;++i)for(var o,a=1,u=g[i],l=u.length,c=u[0];a<l;++a)o=u[a],c[1]<=r?o[1]>r&&Q(c,o,t)>0&&++n:o[1]<=r&&Q(c,o,t)<0&&--n,c=o;return 0!==n}function c(o,u,l,c){var f=0,s=0;if(null==o||(f=i(o,l))!==(s=i(u,l))||a(o,u)<0^l>0){do{c.point(0===f||3===f?t:e,f>1?r:n)}while((f=(f+l+4)%4)!==s)}else c.point(u[0],u[1])}function f(i,o){return t<=i&&i<=e&&n<=o&&o<=r}function s(t,n){f(t,n)&&u.point(t,n)}function h(){C.point=d,g&&g.push(y=[]),k=!0,M=!1,w=_=NaN}function p(){v&&(d(m,b),x&&M&&A.rejoin(),v.push(A.buffer())),C.point=s,M&&u.lineEnd()}function d(t,n){t=Math.max(-qu,Math.min(qu,t)),n=Math.max(-qu,Math.min(qu,n));var e=f(t,n);if(g&&y.push([t,n]),k)m=t,b=n,x=e,k=!1,e&&(u.lineStart(),u.point(t,n));else if(e&&M)u.point(t,n);else{var r={a:{x:w,y:_},b:{x:t,y:n}};N(r)?(M||(u.lineStart(),u.point(r.a.x,r.a.y)),u.point(r.b.x,r.b.y),e||u.lineEnd(),S=!1):e&&(u.lineStart(),u.point(t,n),S=!1)}w=t,_=n,M=e}var v,g,y,m,b,x,w,_,M,k,S,E=u,A=zn(),N=Hn(t,n,e,r),C={point:s,lineStart:h,lineEnd:p,polygonStart:function(){u=A,v=[],g=[],S=!0},polygonEnd:function(){u=E,v=la.merge(v);var n=l([t,r]),e=S&&n,i=v.length;(e||i)&&(u.polygonStart(),e&&(u.lineStart(),c(null,null,1,u),u.lineEnd()),i&&jn(v,o,n,c,u),u.polygonEnd()),v=g=y=null}};return C}}function Yn(t){var n=0,e=La/3,r=ue(t),i=r(n,e);return i.parallels=function(t){return arguments.length?r(n=t[0]*La/180,e=t[1]*La/180):[n/La*180,e/La*180]},i}function Bn(t,n){function e(t,n){var e=Math.sqrt(o-2*i*Math.sin(n))/i;return[e*Math.sin(t*=i),a-e*Math.cos(t)]}var r=Math.sin(t),i=(r+Math.sin(n))/2,o=1+r*(2*i-r),a=Math.sqrt(o)/i;return e.invert=function(t,n){var e=a-n
;return[Math.atan2(t,e)/i,nt((o-(t*t+e*e)*i*i)/(2*i))]},e}function Zn(){function t(t,n){Uu+=i*t-r*n,r=t,i=n}var n,e,r,i;Yu.point=function(o,a){Yu.point=t,n=r=o,e=i=a},Yu.lineEnd=function(){t(n,e)}}function Wn(t,n){t<$u&&($u=t),t>Hu&&(Hu=t),n<Pu&&(Pu=n),n>Vu&&(Vu=n)}function Xn(){function t(t,n){a.push("M",t,",",n,o)}function n(t,n){a.push("M",t,",",n),u.point=e}function e(t,n){a.push("L",t,",",n)}function r(){u.point=t}function i(){a.push("Z")}var o=Jn(4.5),a=[],u={point:t,lineStart:function(){u.point=n},lineEnd:r,polygonStart:function(){u.lineEnd=i},polygonEnd:function(){u.lineEnd=r,u.point=t},pointRadius:function(t){return o=Jn(t),u},result:function(){if(a.length){var t=a.join("");return a=[],t}}};return u}function Jn(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function Kn(t,n){Au+=t,Nu+=n,++Cu}function Gn(){function t(t,r){var i=t-n,o=r-e,a=Math.sqrt(i*i+o*o);Tu+=a*(n+t)/2,ju+=a*(e+r)/2,Du+=a,Kn(n=t,e=r)}var n,e;Zu.point=function(r,i){Zu.point=t,Kn(n=r,e=i)}}function Qn(){Zu.point=Kn}function te(){function t(t,n){var e=t-r,o=n-i,a=Math.sqrt(e*e+o*o);Tu+=a*(r+t)/2,ju+=a*(i+n)/2,Du+=a,a=i*t-r*n,Iu+=a*(r+t),Ru+=a*(i+n),Ou+=3*a,Kn(r=t,i=n)}var n,e,r,i;Zu.point=function(o,a){Zu.point=t,Kn(n=r=o,e=i=a)},Zu.lineEnd=function(){t(n,e)}}function ne(t){function n(n,e){t.moveTo(n+a,e),t.arc(n,e,a,0,qa)}function e(n,e){t.moveTo(n,e),u.point=r}function r(n,e){t.lineTo(n,e)}function i(){u.point=n}function o(){t.closePath()}var a=4.5,u={point:n,lineStart:function(){u.point=e},lineEnd:i,polygonStart:function(){u.lineEnd=o},polygonEnd:function(){u.lineEnd=i,u.point=n},pointRadius:function(t){return a=t,u},result:w};return u}function ee(t){function n(t){return(u?r:e)(t)}function e(n){return oe(n,function(e,r){e=t(e,r),n.point(e[0],e[1])})}function r(n){function e(e,r){e=t(e,r),n.point(e[0],e[1])}function r(){b=NaN,k.point=o,n.lineStart()}function o(e,r){var o=gn([e,r]),a=t(e,r);i(b,x,m,w,_,M,b=a[0],x=a[1],m=e,w=o[0],_=o[1],M=o[2],u,n),n.point(b,x)}function a(){k.point=e,n.lineEnd()}function l(){r(),k.point=c,k.lineEnd=f}function c(t,n){o(s=t,h=n),p=b,d=x,v=w,g=_,y=M,k.point=o}function f(){i(b,x,m,w,_,M,p,d,s,v,g,y,u,n),k.lineEnd=a,a()}var s,h,p,d,v,g,y,m,b,x,w,_,M,k={point:e,lineStart:r,lineEnd:a,polygonStart:function(){n.polygonStart(),k.lineStart=l},polygonEnd:function(){n.polygonEnd(),k.lineStart=r}};return k}function i(n,e,r,u,l,c,f,s,h,p,d,v,g,y){var m=f-n,b=s-e,x=m*m+b*b;if(x>4*o&&g--){var w=u+p,_=l+d,M=c+v,k=Math.sqrt(w*w+_*_+M*M),S=Math.asin(M/=k),E=ma(ma(M)-1)<Oa||ma(r-h)<Oa?(r+h)/2:Math.atan2(_,w),A=t(E,S),N=A[0],C=A[1],T=N-n,j=C-e,D=b*T-m*j;(D*D/x>o||ma((m*T+b*j)/x-.5)>.3||u*p+l*d+c*v<a)&&(i(n,e,r,u,l,c,N,C,E,w/=k,_/=k,M,g,y),y.point(N,C),i(N,C,E,w,_,M,f,s,h,p,d,v,g,y))}}var o=.5,a=Math.cos(30*$a),u=16;return n.precision=function(t){return arguments.length?(u=(o=t*t)>0&&16,n):Math.sqrt(o)},n}function re(t){var n=ee(function(n,e){return t([n*Pa,e*Pa])});return function(t){return le(n(t))}}function ie(t){this.stream=t}function oe(t,n){return{point:n,sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}function ae(t){return ue(function(){return t})()}function ue(t){function n(t){return t=u(t[0]*$a,t[1]*$a),[t[0]*h+l,c-t[1]*h]}function e(t){return(t=u.invert((t[0]-l)/h,(c-t[1])/h))&&[t[0]*Pa,t[1]*Pa]}function r(){u=Cn(a=se(y,b,x),o);var t=o(v,g);return l=p-t[0]*h,c=d+t[1]*h,i()}function i(){return f&&(f.valid=!1,f=null),n}var o,a,u,l,c,f,s=ee(function(t,n){return t=o(t,n),[t[0]*h+l,c-t[1]*h]}),h=150,p=480,d=250,v=0,g=0,y=0,b=0,x=0,w=Lu,_=m,M=null,k=null;return n.stream=function(t){return f&&(f.valid=!1),f=le(w(a,s(_(t)))),f.valid=!0,f},n.clipAngle=function(t){return arguments.length?(w=null==t?(M=t,Lu):Pn((M=+t)*$a),i()):M},n.clipExtent=function(t){return arguments.length?(k=t,_=t?Vn(t[0][0],t[0][1],t[1][0],t[1][1]):m,i()):k},n.scale=function(t){return arguments.length?(h=+t,r()):h},n.translate=function(t){return arguments.length?(p=+t[0],d=+t[1],r()):[p,d]},n.center=function(t){return arguments.length?(v=t[0]%360*$a,g=t[1]%360*$a,r()):[v*Pa,g*Pa]},n.rotate=function(t){return arguments.length?(y=t[0]%360*$a,b=t[1]%360*$a,x=t.length>2?t[2]%360*$a:0,r()):[y*Pa,b*Pa,x*Pa]},la.rebind(n,s,"precision"),function(){return o=t.apply(this,arguments),n.invert=o.invert&&e,r()}}function le(t){return oe(t,function(n,e){t.point(n*$a,e*$a)})}function ce(t,n){return[t,n]}function fe(t,n){return[t>La?t-qa:t<-La?t+qa:t,n]}function se(t,n,e){return t?n||e?Cn(pe(t),de(n,e)):pe(t):n||e?de(n,e):fe}function he(t){return function(n,e){return n+=t,[n>La?n-qa:n<-La?n+qa:n,e]}}function pe(t){var n=he(t);return n.invert=he(-t),n}function de(t,n){function e(t,n){var e=Math.cos(n),u=Math.cos(t)*e,l=Math.sin(t)*e,c=Math.sin(n),f=c*r+u*i;return[Math.atan2(l*o-f*a,u*r-c*i),nt(f*o+l*a)]}var r=Math.cos(t),i=Math.sin(t),o=Math.cos(n),a=Math.sin(n);return e.invert=function(t,n){var e=Math.cos(n),u=Math.cos(t)*e,l=Math.sin(t)*e,c=Math.sin(n),f=c*o-l*a;return[Math.atan2(l*o+c*a,u*r+f*i),nt(f*r-u*i)]},e}function ve(t,n){var e=Math.cos(t),r=Math.sin(t);return function(i,o,a,u){var l=a*n;null!=i?(i=ge(e,i),o=ge(e,o),(a>0?i<o:i>o)&&(i+=a*qa)):(i=t+a*qa,o=t-.5*l);for(var c,f=i;a>0?f>o:f<o;f-=l)u.point((c=_n([e,-r*Math.cos(f),-r*Math.sin(f)]))[0],c[1])}}function ge(t,n){var e=gn(n);e[0]-=t,wn(e);var r=tt(-e[1]);return((-e[2]<0?-r:r)+2*Math.PI-Oa)%(2*Math.PI)}function ye(t,n,e){var r=la.range(t,n-Oa,e).concat(n);return function(t){return r.map(function(n){return[t,n]})}}function me(t,n,e){var r=la.range(t,n-Oa,e).concat(n);return function(t){return r.map(function(n){return[n,t]})}}function be(t){return t.source}function xe(t){return t.target}function we(t,n,e,r){var i=Math.cos(n),o=Math.sin(n),a=Math.cos(r),u=Math.sin(r),l=i*Math.cos(t),c=i*Math.sin(t),f=a*Math.cos(e),s=a*Math.sin(e),h=2*Math.asin(Math.sqrt(ot(r-n)+i*a*ot(e-t))),p=1/Math.sin(h),d=h?function(t){var n=Math.sin(t*=h)*p,e=Math.sin(h-t)*p,r=e*l+n*f,i=e*c+n*s,a=e*o+n*u;return[Math.atan2(i,r)*Pa,Math.atan2(a,Math.sqrt(r*r+i*i))*Pa]}:function(){return[t*Pa,n*Pa]};return d.distance=h,d}function _e(){function t(t,i){var o=Math.sin(i*=$a),a=Math.cos(i),u=ma((t*=$a)-n),l=Math.cos(u);Wu+=Math.atan2(Math.sqrt((u=a*Math.sin(u))*u+(u=r*o-e*a*l)*u),e*o+r*a*l),n=t,e=o,r=a}var n,e,r;Xu.point=function(i,o){n=i*$a,e=Math.sin(o*=$a),r=Math.cos(o),Xu.point=t},Xu.lineEnd=function(){Xu.point=Xu.lineEnd=w}}function Me(t,n){function e(n,e){var r=Math.cos(n),i=Math.cos(e),o=t(r*i);return[o*i*Math.sin(n),o*Math.sin(e)]}return e.invert=function(t,e){var r=Math.sqrt(t*t+e*e),i=n(r),o=Math.sin(i),a=Math.cos(i);return[Math.atan2(t*o,r*a),Math.asin(r&&e*o/r)]},e}function ke(t,n){function e(t,n){a>0?n<-Ua+Oa&&(n=-Ua+Oa):n>Ua-Oa&&(n=Ua-Oa);var e=a/Math.pow(i(n),o);return[e*Math.sin(o*t),a-e*Math.cos(o*t)]}var r=Math.cos(t),i=function(t){return Math.tan(La/4+t/2)},o=t===n?Math.sin(t):Math.log(r/Math.cos(n))/Math.log(i(n)/i(t)),a=r*Math.pow(i(t),o)/o;return o?(e.invert=function(t,n){var e=a-n,r=G(o)*Math.sqrt(t*t+e*e);return[Math.atan2(t,e)/o,2*Math.atan(Math.pow(a/r,1/o))-Ua]},e):Ee}function Se(t,n){function e(t,n){var e=o-n;return[e*Math.sin(i*t),o-e*Math.cos(i*t)]}var r=Math.cos(t),i=t===n?Math.sin(t):(r-Math.cos(n))/(n-t),o=r/i+t;return ma(i)<Oa?ce:(e.invert=function(t,n){var e=o-n;return[Math.atan2(t,e)/i,o-G(i)*Math.sqrt(t*t+e*e)]},e)}function Ee(t,n){return[t,Math.log(Math.tan(La/4+n/2))]}function Ae(t){var n,e=ae(t),r=e.scale,i=e.translate,o=e.clipExtent;return e.scale=function(){var t=r.apply(e,arguments);return t===e?n?e.clipExtent(null):e:t},e.translate=function(){var t=i.apply(e,arguments);return t===e?n?e.clipExtent(null):e:t},e.clipExtent=function(t){var a=o.apply(e,arguments);if(a===e){if(n=null==t){var u=La*r(),l=i();o([[l[0]-u,l[1]-u],[l[0]+u,l[1]+u]])}}else n&&(a=null);return a},e.clipExtent(null)}function Ne(t,n){return[Math.log(Math.tan(La/4+n/2)),-t]}function Ce(t){return t[0]}function Te(t){return t[1]}function je(t){for(var n=t.length,e=[0,1],r=2,i=2;i<n;i++){for(;r>1&&Q(t[e[r-2]],t[e[r-1]],t[i])<=0;)--r;e[r++]=i}return e.slice(0,r)}function De(t,n){return t[0]-n[0]||t[1]-n[1]}function Ie(t,n,e){return(e[0]-n[0])*(t[1]-n[1])<(e[1]-n[1])*(t[0]-n[0])}function Re(t,n,e,r){var i=t[0],o=e[0],a=n[0]-i,u=r[0]-o,l=t[1],c=e[1],f=n[1]-l,s=r[1]-c,h=(u*(l-c)-s*(i-o))/(s*a-u*f);return[i+h*a,l+h*f]}function Oe(t){var n=t[0],e=t[t.length-1];return!(n[0]-e[0]||n[1]-e[1])}function ze(){rr(this),this.edge=this.site=this.circle=null}function Le(t){var n=ul.pop()||new ze;return n.site=t,n}function qe(t){We(t),il.remove(t),ul.push(t),rr(t)}function Fe(t){var n=t.circle,e=n.x,r=n.cy,i={x:e,y:r},o=t.P,a=t.N,u=[t];qe(t);for(var l=o;l.circle&&ma(e-l.circle.x)<Oa&&ma(r-l.circle.cy)<Oa;)o=l.P,u.unshift(l),qe(l),l=o;u.unshift(l),We(l);for(var c=a;c.circle&&ma(e-c.circle.x)<Oa&&ma(r-c.circle.cy)<Oa;)a=c.N,u.push(c),qe(c),c=a;u.push(c),We(c);var f,s=u.length;for(f=1;f<s;++f)c=u[f],l=u[f-1],tr(c.edge,l.site,c.site,i);l=u[0],c=u[s-1],c.edge=Ge(l.site,c.site,null,i),Ze(l),Ze(c)}function Ue(t){for(var n,e,r,i,o=t.x,a=t.y,u=il._;u;)if((r=$e(u,a)-o)>Oa)u=u.L;else{if(!((i=o-Pe(u,a))>Oa)){r>-Oa?(n=u.P,e=u):i>-Oa?(n=u,e=u.N):n=e=u;break}if(!u.R){n=u;break}u=u.R}var l=Le(t);if(il.insert(n,l),n||e){if(n===e)return We(n),e=Le(n.site),il.insert(l,e),l.edge=e.edge=Ge(n.site,l.site),Ze(n),void Ze(e);if(!e)return void(l.edge=Ge(n.site,l.site));We(n),We(e);var c=n.site,f=c.x,s=c.y,h=t.x-f,p=t.y-s,d=e.site,v=d.x-f,g=d.y-s,y=2*(h*g-p*v),m=h*h+p*p,b=v*v+g*g,x={x:(g*m-p*b)/y+f,y:(h*b-v*m)/y+s};tr(e.edge,c,d,x),l.edge=Ge(c,t,null,x),e.edge=Ge(t,d,null,x),Ze(n),Ze(e)}}function $e(t,n){var e=t.site,r=e.x,i=e.y,o=i-n;if(!o)return r;var a=t.P;if(!a)return-Infinity;e=a.site;var u=e.x,l=e.y,c=l-n;if(!c)return u;var f=u-r,s=1/o-1/c,h=f/c;return s?(-h+Math.sqrt(h*h-2*s*(f*f/(-2*c)-l+c/2+i-o/2)))/s+r:(r+u)/2}function Pe(t,n){var e=t.N;if(e)return $e(e,n);var r=t.site;return r.y===n?r.x:Infinity}function He(t){this.site=t,this.edges=[]}function Ve(t){for(var n,e,r,i,o,a,u,l,c,f,s=t[0][0],h=t[1][0],p=t[0][1],d=t[1][1],v=rl,g=v.length;g--;)if((o=v[g])&&o.prepare())for(u=o.edges,l=u.length,a=0;a<l;)f=u[a].end(),r=f.x,i=f.y,c=u[++a%l].start(),n=c.x,e=c.y,(ma(r-n)>Oa||ma(i-e)>Oa)&&(u.splice(a,0,new nr(Qe(o.site,f,ma(r-s)<Oa&&d-i>Oa?{x:s,y:ma(n-s)<Oa?e:d}:ma(i-d)<Oa&&h-r>Oa?{x:ma(e-d)<Oa?n:h,y:d}:ma(r-h)<Oa&&i-p>Oa?{x:h,y:ma(n-h)<Oa?e:p}:ma(i-p)<Oa&&r-s>Oa?{x:ma(e-p)<Oa?n:s,y:p}:null),o.site,null)),++l)}function Ye(t,n){return n.angle-t.angle}function Be(){rr(this),this.x=this.y=this.arc=this.site=this.cy=null}function Ze(t){var n=t.P,e=t.N;if(n&&e){var r=n.site,i=t.site,o=e.site;if(r!==o){var a=i.x,u=i.y,l=r.x-a,c=r.y-u,f=o.x-a,s=o.y-u,h=2*(l*s-c*f);if(!(h>=-za)){var p=l*l+c*c,d=f*f+s*s,v=(s*p-c*d)/h,g=(l*d-f*p)/h,s=g+u,y=ll.pop()||new Be;y.arc=t,y.site=i,y.x=v+a,y.y=s+Math.sqrt(v*v+g*g),y.cy=s,t.circle=y;for(var m=null,b=al._;b;)if(y.y<b.y||y.y===b.y&&y.x<=b.x){if(!b.L){m=b.P;break}b=b.L}else{if(!b.R){m=b;break}b=b.R}al.insert(m,y),m||(ol=y)}}}}function We(t){var n=t.circle;n&&(n.P||(ol=n.N),al.remove(n),ll.push(n),rr(n),t.circle=null)}function Xe(t){for(var n,e=el,r=Hn(t[0][0],t[0][1],t[1][0],t[1][1]),i=e.length;i--;)n=e[i],(!Je(n,t)||!r(n)||ma(n.a.x-n.b.x)<Oa&&ma(n.a.y-n.b.y)<Oa)&&(n.a=n.b=null,e.splice(i,1))}function Je(t,n){var e=t.b;if(e)return!0;var r,i,o=t.a,a=n[0][0],u=n[1][0],l=n[0][1],c=n[1][1],f=t.l,s=t.r,h=f.x,p=f.y,d=s.x,v=s.y,g=(h+d)/2,y=(p+v)/2;if(v===p){if(g<a||g>=u)return;if(h>d){if(o){if(o.y>=c)return}else o={x:g,y:l};e={x:g,y:c}}else{if(o){if(o.y<l)return}else o={x:g,y:c};e={x:g,y:l}}}else if(r=(h-d)/(v-p),i=y-r*g,r<-1||r>1)if(h>d){if(o){if(o.y>=c)return}else o={x:(l-i)/r,y:l};e={x:(c-i)/r,y:c}}else{if(o){if(o.y<l)return}else o={x:(c-i)/r,y:c};e={x:(l-i)/r,y:l}}else if(p<v){if(o){if(o.x>=u)return}else o={x:a,y:r*a+i};e={x:u,y:r*u+i}}else{if(o){if(o.x<a)return}else o={x:u,y:r*u+i};e={x:a,y:r*a+i}}return t.a=o,t.b=e,!0}function Ke(t,n){this.l=t,this.r=n,this.a=this.b=null}function Ge(t,n,e,r){var i=new Ke(t,n);return el.push(i),e&&tr(i,t,n,e),r&&tr(i,n,t,r),rl[t.i].edges.push(new nr(i,t,n)),rl[n.i].edges.push(new nr(i,n,t)),i}function Qe(t,n,e){var r=new Ke(t,null);return r.a=n,r.b=e,el.push(r),r}function tr(t,n,e,r){t.a||t.b?t.l===e?t.b=r:t.a=r:(t.a=r,t.l=n,t.r=e)}function nr(t,n,e){var r=t.a,i=t.b;this.edge=t,this.site=n,this.angle=e?Math.atan2(e.y-n.y,e.x-n.x):t.l===n?Math.atan2(i.x-r.x,r.y-i.y):Math.atan2(r.x-i.x,i.y-r.y)}function er(){this._=null}function rr(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function ir(t,n){var e=n,r=n.R,i=e.U;i?i.L===e?i.L=r:i.R=r:t._=r,r.U=i,e.U=r,e.R=r.L,e.R&&(e.R.U=e),r.L=e}function or(t,n){var e=n,r=n.L,i=e.U;i?i.L===e?i.L=r:i.R=r:t._=r,r.U=i,e.U=r,e.L=r.R,e.L&&(e.L.U=e),r.R=e}function ar(t){for(;t.L;)t=t.L;return t}function ur(t,n){var e,r,i,o=t.sort(lr).pop();for(el=[],rl=new Array(t.length),il=new er,al=new er;;)if(i=ol,o&&(!i||o.y<i.y||o.y===i.y&&o.x<i.x))o.x===e&&o.y===r||(rl[o.i]=new He(o),Ue(o),e=o.x,r=o.y),o=t.pop();else{if(!i)break;Fe(i.arc)}n&&(Xe(n),Ve(n));var a={cells:rl,edges:el};return il=al=el=rl=null,a}function lr(t,n){return n.y-t.y||n.x-t.x}function cr(t,n,e){return(t.x-e.x)*(n.y-t.y)-(t.x-n.x)*(e.y-t.y)}function fr(t){return t.x}function sr(t){return t.y}function hr(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function pr(t,n,e,r,i,o){if(!t(n,e,r,i,o)){var a=.5*(e+i),u=.5*(r+o),l=n.nodes;l[0]&&pr(t,l[0],e,r,a,u),l[1]&&pr(t,l[1],a,r,i,u),l[2]&&pr(t,l[2],e,u,a,o),l[3]&&pr(t,l[3],a,u,i,o)}}function dr(t,n,e,r,i,o,a){var u,l=Infinity;return function t(c,f,s,h,p){if(!(f>o||s>a||h<r||p<i)){if(d=c.point){var d,v=n-c.x,g=e-c.y,y=v*v+g*g;if(y<l){var m=Math.sqrt(l=y);r=n-m,i=e-m,o=n+m,a=e+m,u=d}}for(var b=c.nodes,x=.5*(f+h),w=.5*(s+p),_=n>=x,M=e>=w,k=M<<1|_,S=k+4;k<S;++k)if(c=b[3&k])switch(3&k){case 0:t(c,f,s,x,w);break;case 1:t(c,x,s,h,w);break;case 2:t(c,f,w,x,p);break;case 3:t(c,x,w,h,p)}}}(t,r,i,o,a),u}function vr(t,n){t=la.rgb(t),n=la.rgb(n);var e=t.r,r=t.g,i=t.b,o=n.r-e,a=n.g-r,u=n.b-i;return function(t){return"#"+xt(Math.round(e+o*t))+xt(Math.round(r+a*t))+xt(Math.round(i+u*t))}}function gr(t,n){var e,r={},i={};for(e in t)e in n?r[e]=br(t[e],n[e]):i[e]=t[e];for(e in n)e in t||(i[e]=n[e]);return function(t){for(e in r)i[e]=r[e](t);return i}}function yr(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}}function mr(t,n){var e,r,i,o=fl.lastIndex=sl.lastIndex=0,a=-1,u=[],l=[];for(t+="",n+="";(e=fl.exec(t))&&(r=sl.exec(n));)(i=r.index)>o&&(i=n.slice(o,i),u[a]?u[a]+=i:u[++a]=i),(e=e[0])===(r=r[0])?u[a]?u[a]+=r:u[++a]=r:(u[++a]=null,l.push({i:a,x:yr(e,r)})),o=sl.lastIndex;return o<n.length&&(i=n.slice(o),u[a]?u[a]+=i:u[++a]=i),u.length<2?l[0]?(n=l[0].x,function(t){return n(t)+""}):function(){return n}:(n=l.length,function(t){for(var e,r=0;r<n;++r)u[(e=l[r]).i]=e.x(t);return u.join("")})}function br(t,n){for(var e,r=la.interpolators.length;--r>=0&&!(e=la.interpolators[r](t,n)););return e}function xr(t,n){var e,r=[],i=[],o=t.length,a=n.length,u=Math.min(t.length,n.length);for(e=0;e<u;++e)r.push(br(t[e],n[e]));for(;e<o;++e)i[e]=t[e];for(;e<a;++e)i[e]=n[e];return function(t){for(e=0;e<u;++e)i[e]=r[e](t);return i}}function wr(t){return function(n){return n<=0?0:n>=1?1:t(n)}}function _r(t){return function(n){return 1-t(1-n)}}function Mr(t){return function(n){return.5*(n<.5?t(2*n):2-t(2-2*n))}}function kr(t){return t*t}function Sr(t){return t*t*t}function Er(t){if(t<=0)return 0;if(t>=1)return 1;var n=t*t,e=n*t;return 4*(t<.5?e:3*(t-n)+e-.75)}function Ar(t){return function(n){return Math.pow(n,t)}}function Nr(t){return 1-Math.cos(t*Ua)}function Cr(t){return Math.pow(2,10*(t-1))}function Tr(t){return 1-Math.sqrt(1-t*t)}function jr(t,n){var e;return arguments.length<2&&(n=.45),arguments.length?e=n/qa*Math.asin(1/t):(t=1,e=n/4),function(r){return 1+t*Math.pow(2,-10*r)*Math.sin((r-e)*qa/n)}}function Dr(t){return t||(t=1.70158),function(n){return n*n*((t+1)*n-t)}}function Ir(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function Rr(t,n){t=la.hcl(t),n=la.hcl(n);var e=t.h,r=t.c,i=t.l,o=n.h-e,a=n.c-r,u=n.l-i;return isNaN(a)&&(a=0,r=isNaN(r)?n.c:r),isNaN(o)?(o=0,e=isNaN(e)?n.h:e):o>180?o-=360:o<-180&&(o+=360),function(t){return ft(e+o*t,r+a*t,i+u*t)+""}}function Or(t,n){t=la.hsl(t),n=la.hsl(n);var e=t.h,r=t.s,i=t.l,o=n.h-e,a=n.s-r,u=n.l-i;return isNaN(a)&&(a=0,r=isNaN(r)?n.s:r),isNaN(o)?(o=0,e=isNaN(e)?n.h:e):o>180?o-=360:o<-180&&(o+=360),function(t){return lt(e+o*t,r+a*t,i+u*t)+""}}function zr(t,n){t=la.lab(t),n=la.lab(n);var e=t.l,r=t.a,i=t.b,o=n.l-e,a=n.a-r,u=n.b-i;return function(t){return ht(e+o*t,r+a*t,i+u*t)+""}}function Lr(t,n){return n-=t,function(e){return Math.round(t+n*e)}}function qr(t){var n=[t.a,t.b],e=[t.c,t.d],r=Ur(n),i=Fr(n,e),o=Ur($r(e,n,-i))||0;n[0]*e[1]<e[0]*n[1]&&(n[0]*=-1,n[1]*=-1,r*=-1,i*=-1),this.rotate=(r?Math.atan2(n[1],n[0]):Math.atan2(-e[0],e[1]))*Pa,this.translate=[t.e,t.f],this.scale=[r,o],this.skew=o?Math.atan2(i,o)*Pa:0}function Fr(t,n){return t[0]*n[0]+t[1]*n[1]}function Ur(t){var n=Math.sqrt(Fr(t,t));return n&&(t[0]/=n,t[1]/=n),n}function $r(t,n,e){return t[0]+=e*n[0],t[1]+=e*n[1],t}function Pr(t){return t.length?t.pop()+",":""}function Hr(t,n,e,r){if(t[0]!==n[0]||t[1]!==n[1]){var i=e.push("translate(",null,",",null,")");r.push({i:i-4,x:yr(t[0],n[0])},{i:i-2,x:yr(t[1],n[1])})}else(n[0]||n[1])&&e.push("translate("+n+")")}function Vr(t,n,e,r){t!==n?(t-n>180?n+=360:n-t>180&&(t+=360),r.push({i:e.push(Pr(e)+"rotate(",null,")")-2,x:yr(t,n)})):n&&e.push(Pr(e)+"rotate("+n+")")}function Yr(t,n,e,r){t!==n?r.push({i:e.push(Pr(e)+"skewX(",null,")")-2,x:yr(t,n)}):n&&e.push(Pr(e)+"skewX("+n+")")}function Br(t,n,e,r){if(t[0]!==n[0]||t[1]!==n[1]){var i=e.push(Pr(e)+"scale(",null,",",null,")");r.push({i:i-4,x:yr(t[0],n[0])},{i:i-2,x:yr(t[1],n[1])})}else 1===n[0]&&1===n[1]||e.push(Pr(e)+"scale("+n+")")}function Zr(t,n){var e=[],r=[];return t=la.transform(t),n=la.transform(n),Hr(t.translate,n.translate,e,r),Vr(t.rotate,n.rotate,e,r),Yr(t.skew,n.skew,e,r),Br(t.scale,n.scale,e,r),t=n=null,function(t){for(var n,i=-1,o=r.length;++i<o;)e[(n=r[i]).i]=n.x(t);return e.join("")}}function Wr(t,n){return n=(n-=t=+t)||1/n,function(e){return(e-t)/n}}function Xr(t,n){return n=(n-=t=+t)||1/n,function(e){return Math.max(0,Math.min(1,(e-t)/n))}}function Jr(t){for(var n=t.source,e=t.target,r=Gr(n,e),i=[n];n!==r;)n=n.parent,i.push(n);for(var o=i.length;e!==r;)i.splice(o,0,e),e=e.parent;return i}function Kr(t){for(var n=[],e=t.parent;null!=e;)n.push(t),t=e,e=e.parent;return n.push(t),n}function Gr(t,n){if(t===n)return t;for(var e=Kr(t),r=Kr(n),i=e.pop(),o=r.pop(),a=null;i===o;)a=i,i=e.pop(),o=r.pop();return a}function Qr(t){t.fixed|=2}function ti(t){t.fixed&=-7}function ni(t){t.fixed|=4,t.px=t.x,t.py=t.y}function ei(t){t.fixed&=-5}function ri(t,n,e){var r=0,i=0;if(t.charge=0,!t.leaf)for(var o,a=t.nodes,u=a.length,l=-1;++l<u;)null!=(o=a[l])&&(ri(o,n,e),t.charge+=o.charge,r+=o.charge*o.cx,i+=o.charge*o.cy);if(t.point){t.leaf||(t.point.x+=Math.random()-.5,t.point.y+=Math.random()-.5);var c=n*e[t.point.index];t.charge+=t.pointCharge=c,r+=c*t.point.x,i+=c*t.point.y}t.cx=r/t.charge,t.cy=i/t.charge}function ii(t,n){return la.rebind(t,n,"sort","children","value"),t.nodes=t,t.links=fi,t}function oi(t,n){for(var e=[t];null!=(t=e.pop());)if(n(t),(i=t.children)&&(r=i.length))for(var r,i;--r>=0;)e.push(i[r])}function ai(t,n){for(var e=[t],r=[];null!=(t=e.pop());)if(r.push(t),(o=t.children)&&(i=o.length))for(var i,o,a=-1;++a<i;)e.push(o[a]);for(;null!=(t=r.pop());)n(t)}function ui(t){return t.children}function li(t){return t.value}function ci(t,n){return n.value-t.value}function fi(t){return la.merge(t.map(function(t){return(t.children||[]).map(function(n){return{source:t,target:n}})}))}function si(t){return t.x}function hi(t){return t.y}function pi(t,n,e){t.y0=n,t.y=e}function di(t){return la.range(t.length)}function vi(t){for(var n=-1,e=t[0].length,r=[];++n<e;)r[n]=0;return r}function gi(t){for(var n,e=1,r=0,i=t[0][1],o=t.length;e<o;++e)(n=t[e][1])>i&&(r=e,i=n);return r}function yi(t){return t.reduce(mi,0)}function mi(t,n){return t+n[1]}function bi(t,n){return xi(t,Math.ceil(Math.log(n.length)/Math.LN2+1))}function xi(t,n){for(var e=-1,r=+t[0],i=(t[1]-r)/n,o=[];++e<=n;)o[e]=i*e+r;return o}function wi(t){return[la.min(t),la.max(t)]}function _i(t,n){return t.value-n.value}function Mi(t,n){var e=t._pack_next;t._pack_next=n,n._pack_prev=t,n._pack_next=e,e._pack_prev=n}function ki(t,n){t._pack_next=n,n._pack_prev=t}function Si(t,n){var e=n.x-t.x,r=n.y-t.y,i=t.r+n.r;return.999*i*i>e*e+r*r}function Ei(t){function n(t){f=Math.min(t.x-t.r,f),s=Math.max(t.x+t.r,s),h=Math.min(t.y-t.r,h),p=Math.max(t.y+t.r,p)}if((e=t.children)&&(c=e.length)){var e,r,i,o,a,u,l,c,f=Infinity,s=-Infinity,h=Infinity,p=-Infinity;if(e.forEach(Ai),r=e[0],r.x=-r.r,r.y=0,n(r),c>1&&(i=e[1],i.x=i.r,i.y=0,n(i),c>2))for(o=e[2],Ti(r,i,o),n(o),Mi(r,o),r._pack_prev=o,Mi(o,i),i=r._pack_next,a=3;a<c;a++){Ti(r,i,o=e[a]);var d=0,v=1,g=1;for(u=i._pack_next;u!==i;u=u._pack_next,v++)if(Si(u,o)){d=1;break}if(1==d)for(l=r._pack_prev;l!==u._pack_prev&&!Si(l,o);l=l._pack_prev,g++);d?(v<g||v==g&&i.r<r.r?ki(r,i=u):ki(r=l,i),a--):(Mi(r,o),i=o,n(o))}var y=(f+s)/2,m=(h+p)/2,b=0;for(a=0;a<c;a++)o=e[a],o.x-=y,o.y-=m,b=Math.max(b,o.r+Math.sqrt(o.x*o.x+o.y*o.y));t.r=b,e.forEach(Ni)}}function Ai(t){t._pack_next=t._pack_prev=t}function Ni(t){delete t._pack_next,delete t._pack_prev}function Ci(t,n,e,r){var i=t.children;if(t.x=n+=r*t.x,t.y=e+=r*t.y,t.r*=r,i)for(var o=-1,a=i.length;++o<a;)Ci(i[o],n,e,r)}function Ti(t,n,e){var r=t.r+e.r,i=n.x-t.x,o=n.y-t.y;if(r&&(i||o)){var a=n.r+e.r,u=i*i+o*o;a*=a,r*=r;var l=.5+(r-a)/(2*u),c=Math.sqrt(Math.max(0,2*a*(r+u)-(r-=u)*r-a*a))/(2*u);e.x=t.x+l*i+c*o,e.y=t.y+l*o-c*i}else e.x=t.x+r,e.y=t.y}function ji(t,n){return t.parent==n.parent?1:2}function Di(t){var n=t.children;return n.length?n[0]:t.t}function Ii(t){var n,e=t.children;return(n=e.length)?e[n-1]:t.t}function Ri(t,n,e){var r=e/(n.i-t.i);n.c-=r,n.s+=e,t.c+=r,n.z+=e,n.m+=e}function Oi(t){for(var n,e=0,r=0,i=t.children,o=i.length;--o>=0;)n=i[o],n.z+=e,n.m+=e,e+=n.s+(r+=n.c)}function zi(t,n,e){return t.a.parent===n.parent?t.a:e}function Li(t){return 1+la.max(t,function(t){return t.y})}function qi(t){return t.reduce(function(t,n){return t+n.x},0)/t.length}function Fi(t){var n=t.children;return n&&n.length?Fi(n[0]):t}function Ui(t){var n,e=t.children;return e&&(n=e.length)?Ui(e[n-1]):t}function $i(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function Pi(t,n){var e=t.x+n[3],r=t.y+n[0],i=t.dx-n[1]-n[3],o=t.dy-n[0]-n[2];return i<0&&(e+=i/2,i=0),o<0&&(r+=o/2,o=0),{x:e,y:r,dx:i,dy:o}}function Hi(t){var n=t[0],e=t[t.length-1];return n<e?[n,e]:[e,n]}function Vi(t){return t.rangeExtent?t.rangeExtent():Hi(t.range())}function Yi(t,n,e,r){var i=e(t[0],t[1]),o=r(n[0],n[1]);return function(t){return o(i(t))}}function Bi(t,n){var e,r=0,i=t.length-1,o=t[r],a=t[i];return a<o&&(e=r,r=i,i=e,e=o,o=a,a=e),t[r]=n.floor(o),t[i]=n.ceil(a),t}function Zi(t){return t?{floor:function(n){return Math.floor(n/t)*t},ceil:function(n){return Math.ceil(n/t)*t}}:_l}function Wi(t,n,e,r){var i=[],o=[],a=0,u=Math.min(t.length,n.length)-1;for(t[u]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++a<=u;)i.push(e(t[a-1],t[a])),o.push(r(n[a-1],n[a]));return function(n){var e=la.bisect(t,n,1,u)-1;return o[e](i[e](n))}}function Xi(t,n,e,r){function i(){var i=Math.min(t.length,n.length)>2?Wi:Yi,l=r?Xr:Wr;return a=i(t,n,l,e),u=i(n,t,l,br),o}function o(t){return a(t)}var a,u;return o.invert=function(t){return u(t)},o.domain=function(n){return arguments.length?(t=n.map(Number),i()):t},o.range=function(t){return arguments.length?(n=t,i()):n},o.rangeRound=function(t){return o.range(t).interpolate(Lr)},o.clamp=function(t){return arguments.length?(r=t,i()):r},o.interpolate=function(t){return arguments.length?(e=t,i()):e},o.ticks=function(n){return Qi(t,n)},o.tickFormat=function(n,e){return to(t,n,e)},o.nice=function(n){return Ki(t,n),i()},o.copy=function(){return Xi(t,n,e,r)},i()}function Ji(t,n){return la.rebind(t,n,"range","rangeRound","interpolate","clamp")}function Ki(t,n){return Bi(t,Zi(Gi(t,n)[2])),Bi(t,Zi(Gi(t,n)[2])),t}function Gi(t,n){null==n&&(n=10);var e=Hi(t),r=e[1]-e[0],i=Math.pow(10,Math.floor(Math.log(r/n)/Math.LN10)),o=n/r*i;return o<=.15?i*=10:o<=.35?i*=5:o<=.75&&(i*=2),e[0]=Math.ceil(e[0]/i)*i,e[1]=Math.floor(e[1]/i)*i+.5*i,e[2]=i,e}function Qi(t,n){return la.range.apply(la,Gi(t,n))}function to(t,n,e){var r=Gi(t,n);if(e){var i=fu.exec(e);if(i.shift(),"s"===i[8]){var o=la.formatPrefix(Math.max(ma(r[0]),ma(r[1])));return i[7]||(i[7]="."+no(o.scale(r[2]))),i[8]="f",e=la.format(i.join("")),function(t){return e(o.scale(t))+o.symbol}}i[7]||(i[7]="."+eo(i[8],r)),e=i.join("")}else e=",."+no(r[2])+"f";return la.format(e)}function no(t){return-Math.floor(Math.log(t)/Math.LN10+.01)}function eo(t,n){var e=no(n[2]);return t in Ml?Math.abs(e-no(Math.max(ma(n[0]),ma(n[1]))))+ +("e"!==t):e-2*("%"===t)}function ro(t,n,e,r){function i(t){return(e?Math.log(t<0?0:t):-Math.log(t>0?0:-t))/Math.log(n)}function o(t){return e?Math.pow(n,t):-Math.pow(n,-t)}function a(n){return t(i(n))}return a.invert=function(n){return o(t.invert(n))},a.domain=function(n){return arguments.length?(e=n[0]>=0,t.domain((r=n.map(Number)).map(i)),a):r},a.base=function(e){return arguments.length?(n=+e,t.domain(r.map(i)),a):n},a.nice=function(){var n=Bi(r.map(i),e?Math:Sl);return t.domain(n),r=n.map(o),a},a.ticks=function(){var t=Hi(r),a=[],u=t[0],l=t[1],c=Math.floor(i(u)),f=Math.ceil(i(l)),s=n%1?2:n;if(isFinite(f-c)){if(e){for(;c<f;c++)for(var h=1;h<s;h++)a.push(o(c)*h);a.push(o(c))}else for(a.push(o(c));c++<f;)for(var h=s-1;h>0;h--)a.push(o(c)*h);for(c=0;a[c]<u;c++);for(f=a.length;a[f-1]>l;f--);a=a.slice(c,f)}return a},a.tickFormat=function(t,e){if(!arguments.length)return kl;arguments.length<2?e=kl:"function"!=typeof e&&(e=la.format(e));var r=Math.max(1,n*t/a.ticks().length);return function(t){var a=t/o(Math.round(i(t)));return a*n<n-.5&&(a*=n),a<=r?e(t):""}},a.copy=function(){return ro(t.copy(),n,e,r)},Ji(a,t)}function io(t,n,e){function r(n){return t(i(n))}var i=oo(n),o=oo(1/n);return r.invert=function(n){return o(t.invert(n))},r.domain=function(n){return arguments.length?(t.domain((e=n.map(Number)).map(i)),r):e},r.ticks=function(t){return Qi(e,t)},r.tickFormat=function(t,n){return to(e,t,n)},r.nice=function(t){return r.domain(Ki(e,t))},r.exponent=function(a){return arguments.length?(i=oo(n=a),o=oo(1/n),t.domain(e.map(i)),r):n},r.copy=function(){return io(t.copy(),n,e)},Ji(r,t)}function oo(t){return function(n){return n<0?-Math.pow(-n,t):Math.pow(n,t)}}function ao(t,n){function e(e){return o[((i.get(e)||("range"===n.t?i.set(e,t.push(e)):NaN))-1)%o.length]}function r(n,e){return la.range(t.length).map(function(t){return n+e*t})}var i,o,a;return e.domain=function(r){if(!arguments.length)return t;t=[],i=new c;for(var o,a=-1,u=r.length;++a<u;)i.has(o=r[a])||i.set(o,t.push(o));return e[n.t].apply(e,n.a)},e.range=function(t){return arguments.length?(o=t,a=0,n={t:"range",a:arguments},e):o},e.rangePoints=function(i,u){arguments.length<2&&(u=0);var l=i[0],c=i[1],f=t.length<2?(l=(l+c)/2,0):(c-l)/(t.length-1+u);return o=r(l+f*u/2,f),a=0,n={t:"rangePoints",a:arguments},e},e.rangeRoundPoints=function(i,u){arguments.length<2&&(u=0);var l=i[0],c=i[1],f=t.length<2?(l=c=Math.round((l+c)/2),0):(c-l)/(t.length-1+u)|0;return o=r(l+Math.round(f*u/2+(c-l-(t.length-1+u)*f)/2),f),a=0,n={t:"rangeRoundPoints",a:arguments},e},e.rangeBands=function(i,u,l){arguments.length<2&&(u=0),arguments.length<3&&(l=u);var c=i[1]<i[0],f=i[c-0],s=i[1-c],h=(s-f)/(t.length-u+2*l);return o=r(f+h*l,h),c&&o.reverse(),a=h*(1-u),n={t:"rangeBands",a:arguments},e},e.rangeRoundBands=function(i,u,l){arguments.length<2&&(u=0),arguments.length<3&&(l=u);var c=i[1]<i[0],f=i[c-0],s=i[1-c],h=Math.floor((s-f)/(t.length-u+2*l));return o=r(f+Math.round((s-f-(t.length-u)*h)/2),h),c&&o.reverse(),a=Math.round(h*(1-u)),n={t:"rangeRoundBands",a:arguments},e},e.rangeBand=function(){return a},e.rangeExtent=function(){return Hi(n.a[0])},e.copy=function(){return ao(t,n)},e.domain(t)}function uo(t,n){function o(){var e=0,r=n.length;for(u=[];++e<r;)u[e-1]=la.quantile(t,e/r);return a}function a(t){if(!isNaN(t=+t))return n[la.bisect(u,t)]}var u;return a.domain=function(n){return arguments.length?(t=n.map(r).filter(i).sort(e),o()):t},a.range=function(t){return arguments.length?(n=t,o()):n},a.quantiles=function(){return u},a.invertExtent=function(e){return e=n.indexOf(e),e<0?[NaN,NaN]:[e>0?u[e-1]:t[0],e<u.length?u[e]:t[t.length-1]]},a.copy=function(){return uo(t,n)},o()}function lo(t,n,e){function r(n){return e[Math.max(0,Math.min(a,Math.floor(o*(n-t))))]}function i(){return o=e.length/(n-t),a=e.length-1,r}var o,a;return r.domain=function(e){return arguments.length?(t=+e[0],n=+e[e.length-1],i()):[t,n]},r.range=function(t){return arguments.length?(e=t,i()):e},r.invertExtent=function(n){return n=e.indexOf(n),n=n<0?NaN:n/o+t,[n,n+1/o]},r.copy=function(){return lo(t,n,e)},i()}function co(t,n){function e(e){if(e<=e)return n[la.bisect(t,e)]}return e.domain=function(n){return arguments.length?(t=n,e):t},e.range=function(t){return arguments.length?(n=t,e):n},e.invertExtent=function(e){return e=n.indexOf(e),[t[e-1],t[e]]},e.copy=function(){return co(t,n)},e}function fo(t){function n(t){return+t}return n.invert=n,n.domain=n.range=function(e){return arguments.length?(t=e.map(n),n):t},n.ticks=function(n){return Qi(t,n)},n.tickFormat=function(n,e){return to(t,n,e)},n.copy=function(){return fo(t)},n}function so(){return 0}function ho(t){return t.innerRadius}function po(t){return t.outerRadius}function vo(t){return t.startAngle}function go(t){return t.endAngle}function yo(t){return t&&t.padAngle}function mo(t,n,e,r){return(t-e)*n-(n-r)*t>0?0:1}function bo(t,n,e,r,i){var o=t[0]-n[0],a=t[1]-n[1],u=(i?r:-r)/Math.sqrt(o*o+a*a),l=u*a,c=-u*o,f=t[0]+l,s=t[1]+c,h=n[0]+l,p=n[1]+c,d=(f+h)/2,v=(s+p)/2,g=h-f,y=p-s,m=g*g+y*y,b=e-r,x=f*p-h*s,w=(y<0?-1:1)*Math.sqrt(Math.max(0,b*b*m-x*x)),_=(x*y-g*w)/m,M=(-x*g-y*w)/m,k=(x*y+g*w)/m,S=(-x*g+y*w)/m,E=_-d,A=M-v,N=k-d,C=S-v;return E*E+A*A>N*N+C*C&&(_=k,M=S),[[_-l,M-c],[_*e/b,M*e/b]]}function xo(t){function n(n){function a(){c.push("M",o(t(f),u))}for(var l,c=[],f=[],s=-1,h=n.length,p=Et(e),d=Et(r);++s<h;)i.call(this,l=n[s],s)?f.push([+p.call(this,l,s),+d.call(this,l,s)]):f.length&&(a(),f=[]);return f.length&&a(),c.length?c.join(""):null}var e=Ce,r=Te,i=Tn,o=wo,a=o.key,u=.7;return n.x=function(t){return arguments.length?(e=t,n):e},n.y=function(t){return arguments.length?(r=t,n):r},n.defined=function(t){return arguments.length?(i=t,n):i},n.interpolate=function(t){return arguments.length?(a="function"==typeof t?o=t:(o=jl.get(t)||wo).key,n):a},n.tension=function(t){return arguments.length?(u=t,n):u},n}function wo(t){return t.length>1?t.join("L"):t+"Z"}function _o(t){return t.join("L")+"Z"}function Mo(t){for(var n=0,e=t.length,r=t[0],i=[r[0],",",r[1]];++n<e;)i.push("H",(r[0]+(r=t[n])[0])/2,"V",r[1]);return e>1&&i.push("H",r[0]),i.join("")}function ko(t){for(var n=0,e=t.length,r=t[0],i=[r[0],",",r[1]];++n<e;)i.push("V",(r=t[n])[1],"H",r[0]);return i.join("")}function So(t){for(var n=0,e=t.length,r=t[0],i=[r[0],",",r[1]];++n<e;)i.push("H",(r=t[n])[0],"V",r[1]);return i.join("")}function Eo(t,n){return t.length<4?wo(t):t[1]+Co(t.slice(1,-1),To(t,n))}function Ao(t,n){return t.length<3?_o(t):t[0]+Co((t.push(t[0]),t),To([t[t.length-2]].concat(t,[t[1]]),n))}function No(t,n){return t.length<3?wo(t):t[0]+Co(t,To(t,n))}function Co(t,n){if(n.length<1||t.length!=n.length&&t.length!=n.length+2)return wo(t);var e=t.length!=n.length,r="",i=t[0],o=t[1],a=n[0],u=a,l=1;if(e&&(r+="Q"+(o[0]-2*a[0]/3)+","+(o[1]-2*a[1]/3)+","+o[0]+","+o[1],i=t[1],l=2),n.length>1){u=n[1],o=t[l],l++,r+="C"+(i[0]+a[0])+","+(i[1]+a[1])+","+(o[0]-u[0])+","+(o[1]-u[1])+","+o[0]+","+o[1];for(var c=2;c<n.length;c++,l++)o=t[l],u=n[c],r+="S"+(o[0]-u[0])+","+(o[1]-u[1])+","+o[0]+","+o[1]}if(e){var f=t[l];r+="Q"+(o[0]+2*u[0]/3)+","+(o[1]+2*u[1]/3)+","+f[0]+","+f[1]}return r}function To(t,n){for(var e,r=[],i=(1-n)/2,o=t[0],a=t[1],u=1,l=t.length;++u<l;)e=o,o=a,a=t[u],r.push([i*(a[0]-e[0]),i*(a[1]-e[1])]);return r}function jo(t){if(t.length<3)return wo(t);var n=1,e=t.length,r=t[0],i=r[0],o=r[1],a=[i,i,i,(r=t[1])[0]],u=[o,o,o,r[1]],l=[i,",",o,"L",Oo(Rl,a),",",Oo(Rl,u)];for(t.push(t[e-1]);++n<=e;)r=t[n],a.shift(),a.push(r[0]),u.shift(),u.push(r[1]),zo(l,a,u);return t.pop(),l.push("L",r),l.join("")}function Do(t){if(t.length<4)return wo(t);for(var n,e=[],r=-1,i=t.length,o=[0],a=[0];++r<3;)n=t[r],o.push(n[0]),a.push(n[1]);for(e.push(Oo(Rl,o)+","+Oo(Rl,a)),--r;++r<i;)n=t[r],o.shift(),o.push(n[0]),a.shift(),a.push(n[1]),zo(e,o,a);return e.join("")}function Io(t){
for(var n,e,r=-1,i=t.length,o=i+4,a=[],u=[];++r<4;)e=t[r%i],a.push(e[0]),u.push(e[1]);for(n=[Oo(Rl,a),",",Oo(Rl,u)],--r;++r<o;)e=t[r%i],a.shift(),a.push(e[0]),u.shift(),u.push(e[1]),zo(n,a,u);return n.join("")}function Ro(t,n){var e=t.length-1;if(e)for(var r,i,o=t[0][0],a=t[0][1],u=t[e][0]-o,l=t[e][1]-a,c=-1;++c<=e;)r=t[c],i=c/e,r[0]=n*r[0]+(1-n)*(o+i*u),r[1]=n*r[1]+(1-n)*(a+i*l);return jo(t)}function Oo(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]+t[3]*n[3]}function zo(t,n,e){t.push("C",Oo(Dl,n),",",Oo(Dl,e),",",Oo(Il,n),",",Oo(Il,e),",",Oo(Rl,n),",",Oo(Rl,e))}function Lo(t,n){return(n[1]-t[1])/(n[0]-t[0])}function qo(t){for(var n=0,e=t.length-1,r=[],i=t[0],o=t[1],a=r[0]=Lo(i,o);++n<e;)r[n]=(a+(a=Lo(i=o,o=t[n+1])))/2;return r[n]=a,r}function Fo(t){for(var n,e,r,i,o=[],a=qo(t),u=-1,l=t.length-1;++u<l;)n=Lo(t[u],t[u+1]),ma(n)<Oa?a[u]=a[u+1]=0:(e=a[u]/n,r=a[u+1]/n,(i=e*e+r*r)>9&&(i=3*n/Math.sqrt(i),a[u]=i*e,a[u+1]=i*r));for(u=-1;++u<=l;)i=(t[Math.min(l,u+1)][0]-t[Math.max(0,u-1)][0])/(6*(1+a[u]*a[u])),o.push([i||0,a[u]*i||0]);return o}function Uo(t){return t.length<3?wo(t):t[0]+Co(t,Fo(t))}function $o(t){for(var n,e,r,i=-1,o=t.length;++i<o;)n=t[i],e=n[0],r=n[1]-Ua,n[0]=e*Math.cos(r),n[1]=e*Math.sin(r);return t}function Po(t){function n(n){function l(){v.push("M",u(t(y),s),f,c(t(g.reverse()),s),"Z")}for(var h,p,d,v=[],g=[],y=[],m=-1,b=n.length,x=Et(e),w=Et(i),_=e===r?function(){return p}:Et(r),M=i===o?function(){return d}:Et(o);++m<b;)a.call(this,h=n[m],m)?(g.push([p=+x.call(this,h,m),d=+w.call(this,h,m)]),y.push([+_.call(this,h,m),+M.call(this,h,m)])):g.length&&(l(),g=[],y=[]);return g.length&&l(),v.length?v.join(""):null}var e=Ce,r=Ce,i=0,o=Te,a=Tn,u=wo,l=u.key,c=u,f="L",s=.7;return n.x=function(t){return arguments.length?(e=r=t,n):r},n.x0=function(t){return arguments.length?(e=t,n):e},n.x1=function(t){return arguments.length?(r=t,n):r},n.y=function(t){return arguments.length?(i=o=t,n):o},n.y0=function(t){return arguments.length?(i=t,n):i},n.y1=function(t){return arguments.length?(o=t,n):o},n.defined=function(t){return arguments.length?(a=t,n):a},n.interpolate=function(t){return arguments.length?(l="function"==typeof t?u=t:(u=jl.get(t)||wo).key,c=u.reverse||u,f=u.closed?"M":"L",n):l},n.tension=function(t){return arguments.length?(s=t,n):s},n}function Ho(t){return t.radius}function Vo(t){return[t.x,t.y]}function Yo(t){return function(){var n=t.apply(this,arguments),e=n[0],r=n[1]-Ua;return[e*Math.cos(r),e*Math.sin(r)]}}function Bo(){return 64}function Zo(){return"circle"}function Wo(t){var n=Math.sqrt(t/La);return"M0,"+n+"A"+n+","+n+" 0 1,1 0,"+-n+"A"+n+","+n+" 0 1,1 0,"+n+"Z"}function Xo(t){return function(){var n,e,r;(n=this[t])&&(r=n[e=n.active])&&(r.timer.c=null,r.timer.t=NaN,--n.count?delete n[e]:delete this[t],n.active+=.5,r.event&&r.event.interrupt.call(this,this.__data__,r.index))}}function Jo(t,n,e){return Ma(t,$l),t.namespace=n,t.id=e,t}function Ko(t,n,e,r){var i=t.id,o=t.namespace;return H(t,"function"==typeof e?function(t,a,u){t[o][i].tween.set(n,r(e.call(t,t.__data__,a,u)))}:(e=r(e),function(t){t[o][i].tween.set(n,e)}))}function Go(t){return null==t&&(t=""),function(){this.textContent=t}}function Qo(t){return null==t?"__transition__":"__transition_"+t+"__"}function ta(t,n,e,r,i){function o(t){var n=v.delay;if(f.t=n+l,n<=t)return a(t-n);f.c=a}function a(e){var i=d.active,o=d[i];o&&(o.timer.c=null,o.timer.t=NaN,--d.count,delete d[i],o.event&&o.event.interrupt.call(t,t.__data__,o.index));for(var a in d)if(+a<r){var c=d[a];c.timer.c=null,c.timer.t=NaN,--d.count,delete d[a]}f.c=u,jt(function(){return f.c&&u(e||1)&&(f.c=null,f.t=NaN),1},0,l),d.active=r,v.event&&v.event.start.call(t,t.__data__,n),p=[],v.tween.forEach(function(e,r){(r=r.call(t,t.__data__,n))&&p.push(r)}),h=v.ease,s=v.duration}function u(i){for(var o=i/s,a=h(o),u=p.length;u>0;)p[--u].call(t,a);if(o>=1)return v.event&&v.event.end.call(t,t.__data__,n),--d.count?delete d[r]:delete t[e],1}var l,f,s,h,p,d=t[e]||(t[e]={active:0,count:0}),v=d[r];v||(l=i.time,f=jt(o,0,l),v=d[r]={tween:new c,time:l,timer:f,delay:i.delay,duration:i.duration,ease:i.ease,index:n},i=null,++d.count)}function na(t,n,e){t.attr("transform",function(t){var r=n(t);return"translate("+(isFinite(r)?r:e(t))+",0)"})}function ea(t,n,e){t.attr("transform",function(t){var r=n(t);return"translate(0,"+(isFinite(r)?r:e(t))+")"})}function ra(t){return t.toISOString()}function ia(t,n,e){function r(n){return t(n)}function i(t,e){var r=t[1]-t[0],i=r/e,o=la.bisect(Jl,i);return o==Jl.length?[n.year,Gi(t.map(function(t){return t/31536e6}),e)[2]]:o?n[i/Jl[o-1]<Jl[o]/i?o-1:o]:[Ql,Gi(t,e)[2]]}return r.invert=function(n){return oa(t.invert(n))},r.domain=function(n){return arguments.length?(t.domain(n),r):t.domain().map(oa)},r.nice=function(t,n){function e(e){return!isNaN(e)&&!t.range(e,oa(+e+1),n).length}var o=r.domain(),a=Hi(o),u=null==t?i(a,10):"number"==typeof t&&i(a,t);return u&&(t=u[0],n=u[1]),r.domain(Bi(o,n>1?{floor:function(n){for(;e(n=t.floor(n));)n=oa(n-1);return n},ceil:function(n){for(;e(n=t.ceil(n));)n=oa(+n+1);return n}}:t))},r.ticks=function(t,n){var e=Hi(r.domain()),o=null==t?i(e,10):"number"==typeof t?i(e,t):!t.range&&[{range:t},n];return o&&(t=o[0],n=o[1]),t.range(e[0],oa(+e[1]+1),n<1?1:n)},r.tickFormat=function(){return e},r.copy=function(){return ia(t.copy(),n,e)},Ji(r,t)}function oa(t){return new Date(t)}function aa(t){return JSON.parse(t.responseText)}function ua(t){var n=sa.createRange();return n.selectNode(sa.body),n.createContextualFragment(t.responseText)}var la={version:"3.5.17"},ca=[].slice,fa=function(t){return ca.call(t)},sa=this.document;if(sa)try{fa(sa.documentElement.childNodes)[0].nodeType}catch(t){fa=function(t){for(var n=t.length,e=new Array(n);n--;)e[n]=t[n];return e}}if(Date.now||(Date.now=function(){return+new Date}),sa)try{sa.createElement("DIV").style.setProperty("opacity",0,"")}catch(t){var ha=this.Element.prototype,pa=ha.setAttribute,da=ha.setAttributeNS,va=this.CSSStyleDeclaration.prototype,ga=va.setProperty;ha.setAttribute=function(t,n){pa.call(this,t,n+"")},ha.setAttributeNS=function(t,n,e){da.call(this,t,n,e+"")},va.setProperty=function(t,n,e){ga.call(this,t,n+"",e)}}la.ascending=e,la.descending=function(t,n){return n<t?-1:n>t?1:n>=t?0:NaN},la.min=function(t,n){var e,r,i=-1,o=t.length;if(1===arguments.length){for(;++i<o;)if(null!=(r=t[i])&&r>=r){e=r;break}for(;++i<o;)null!=(r=t[i])&&e>r&&(e=r)}else{for(;++i<o;)if(null!=(r=n.call(t,t[i],i))&&r>=r){e=r;break}for(;++i<o;)null!=(r=n.call(t,t[i],i))&&e>r&&(e=r)}return e},la.max=function(t,n){var e,r,i=-1,o=t.length;if(1===arguments.length){for(;++i<o;)if(null!=(r=t[i])&&r>=r){e=r;break}for(;++i<o;)null!=(r=t[i])&&r>e&&(e=r)}else{for(;++i<o;)if(null!=(r=n.call(t,t[i],i))&&r>=r){e=r;break}for(;++i<o;)null!=(r=n.call(t,t[i],i))&&r>e&&(e=r)}return e},la.extent=function(t,n){var e,r,i,o=-1,a=t.length;if(1===arguments.length){for(;++o<a;)if(null!=(r=t[o])&&r>=r){e=i=r;break}for(;++o<a;)null!=(r=t[o])&&(e>r&&(e=r),i<r&&(i=r))}else{for(;++o<a;)if(null!=(r=n.call(t,t[o],o))&&r>=r){e=i=r;break}for(;++o<a;)null!=(r=n.call(t,t[o],o))&&(e>r&&(e=r),i<r&&(i=r))}return[e,i]},la.sum=function(t,n){var e,r=0,o=t.length,a=-1;if(1===arguments.length)for(;++a<o;)i(e=+t[a])&&(r+=e);else for(;++a<o;)i(e=+n.call(t,t[a],a))&&(r+=e);return r},la.mean=function(t,n){var e,o=0,a=t.length,u=-1,l=a;if(1===arguments.length)for(;++u<a;)i(e=r(t[u]))?o+=e:--l;else for(;++u<a;)i(e=r(n.call(t,t[u],u)))?o+=e:--l;if(l)return o/l},la.quantile=function(t,n){var e=(t.length-1)*n+1,r=Math.floor(e),i=+t[r-1],o=e-r;return o?i+o*(t[r]-i):i},la.median=function(t,n){var o,a=[],u=t.length,l=-1;if(1===arguments.length)for(;++l<u;)i(o=r(t[l]))&&a.push(o);else for(;++l<u;)i(o=r(n.call(t,t[l],l)))&&a.push(o);if(a.length)return la.quantile(a.sort(e),.5)},la.variance=function(t,n){var e,o,a=t.length,u=0,l=0,c=-1,f=0;if(1===arguments.length)for(;++c<a;)i(e=r(t[c]))&&(o=e-u,u+=o/++f,l+=o*(e-u));else for(;++c<a;)i(e=r(n.call(t,t[c],c)))&&(o=e-u,u+=o/++f,l+=o*(e-u));if(f>1)return l/(f-1)},la.deviation=function(){var t=la.variance.apply(this,arguments);return t?Math.sqrt(t):t};var ya=o(e);la.bisectLeft=ya.left,la.bisect=la.bisectRight=ya.right,la.bisector=function(t){return o(1===t.length?function(n,r){return e(t(n),r)}:t)},la.shuffle=function(t,n,e){(o=arguments.length)<3&&(e=t.length,o<2&&(n=0));for(var r,i,o=e-n;o;)i=Math.random()*o--|0,r=t[o+n],t[o+n]=t[i+n],t[i+n]=r;return t},la.permute=function(t,n){for(var e=n.length,r=new Array(e);e--;)r[e]=t[n[e]];return r},la.pairs=function(t){for(var n=0,e=t.length-1,r=t[0],i=new Array(e<0?0:e);n<e;)i[n]=[r,r=t[++n]];return i},la.transpose=function(t){if(!(i=t.length))return[];for(var n=-1,e=la.min(t,a),r=new Array(e);++n<e;)for(var i,o=-1,u=r[n]=new Array(i);++o<i;)u[o]=t[o][n];return r},la.zip=function(){return la.transpose(arguments)},la.keys=function(t){var n=[];for(var e in t)n.push(e);return n},la.values=function(t){var n=[];for(var e in t)n.push(t[e]);return n},la.entries=function(t){var n=[];for(var e in t)n.push({key:e,value:t[e]});return n},la.merge=function(t){for(var n,e,r,i=t.length,o=-1,a=0;++o<i;)a+=t[o].length;for(e=new Array(a);--i>=0;)for(r=t[i],n=r.length;--n>=0;)e[--a]=r[n];return e};var ma=Math.abs;la.range=function(t,n,e){if(arguments.length<3&&(e=1,arguments.length<2&&(n=t,t=0)),(n-t)/e===Infinity)throw new Error("infinite range");var r,i=[],o=u(ma(e)),a=-1;if(t*=o,n*=o,e*=o,e<0)for(;(r=t+e*++a)>n;)i.push(r/o);else for(;(r=t+e*++a)<n;)i.push(r/o);return i},la.map=function(t,n){var e=new c;if(t instanceof c)t.forEach(function(t,n){e.set(t,n)});else if(Array.isArray(t)){var r,i=-1,o=t.length;if(1===arguments.length)for(;++i<o;)e.set(i,t[i]);else for(;++i<o;)e.set(n.call(t,r=t[i],i),r)}else for(var a in t)e.set(a,t[a]);return e};var ba="__proto__",xa="\0";l(c,{has:h,get:function(t){return this._[f(t)]},set:function(t,n){return this._[f(t)]=n},remove:p,keys:d,values:function(){var t=[];for(var n in this._)t.push(this._[n]);return t},entries:function(){var t=[];for(var n in this._)t.push({key:s(n),value:this._[n]});return t},size:v,empty:g,forEach:function(t){for(var n in this._)t.call(this,s(n),this._[n])}}),la.nest=function(){function t(n,a,u){if(u>=o.length)return r?r.call(i,a):e?a.sort(e):a;for(var l,f,s,h,p=-1,d=a.length,v=o[u++],g=new c;++p<d;)(h=g.get(l=v(f=a[p])))?h.push(f):g.set(l,[f]);return n?(f=n(),s=function(e,r){f.set(e,t(n,r,u))}):(f={},s=function(e,r){f[e]=t(n,r,u)}),g.forEach(s),f}function n(t,e){if(e>=o.length)return t;var r=[],i=a[e++];return t.forEach(function(t,i){r.push({key:t,values:n(i,e)})}),i?r.sort(function(t,n){return i(t.key,n.key)}):r}var e,r,i={},o=[],a=[];return i.map=function(n,e){return t(e,n,0)},i.entries=function(e){return n(t(la.map,e,0),0)},i.key=function(t){return o.push(t),i},i.sortKeys=function(t){return a[o.length-1]=t,i},i.sortValues=function(t){return e=t,i},i.rollup=function(t){return r=t,i},i},la.set=function(t){var n=new y;if(t)for(var e=0,r=t.length;e<r;++e)n.add(t[e]);return n},l(y,{has:h,add:function(t){return this._[f(t+="")]=!0,t},remove:p,values:d,size:v,empty:g,forEach:function(t){for(var n in this._)t.call(this,s(n))}}),la.behavior={},la.rebind=function(t,n){for(var e,r=1,i=arguments.length;++r<i;)t[e=arguments[r]]=b(t,n,n[e]);return t};var wa=["webkit","ms","moz","Moz","o","O"];la.dispatch=function(){for(var t=new _,n=-1,e=arguments.length;++n<e;)t[arguments[n]]=M(t);return t},_.prototype.on=function(t,n){var e=t.indexOf("."),r="";if(e>=0&&(r=t.slice(e+1),t=t.slice(0,e)),t)return arguments.length<2?this[t].on(r):this[t].on(r,n);if(2===arguments.length){if(null==n)for(t in this)this.hasOwnProperty(t)&&this[t].on(r,null);return this}},la.event=null,la.requote=function(t){return t.replace(_a,"\\$&")};var _a=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,Ma={}.__proto__?function(t,n){t.__proto__=n}:function(t,n){for(var e in n)t[e]=n[e]},ka=function(t,n){return n.querySelector(t)},Sa=function(t,n){return n.querySelectorAll(t)},Ea=function(t,n){var e=t.matches||t[x(t,"matchesSelector")];return(Ea=function(t,n){return e.call(t,n)})(t,n)};"function"==typeof Sizzle&&(ka=function(t,n){return Sizzle(t,n)[0]||null},Sa=Sizzle,Ea=Sizzle.matchesSelector),la.selection=function(){return la.select(sa.documentElement)};var Aa=la.selection.prototype=[];Aa.select=function(t){var n,e,r,i,o=[];t=N(t);for(var a=-1,u=this.length;++a<u;){o.push(n=[]),n.parentNode=(r=this[a]).parentNode;for(var l=-1,c=r.length;++l<c;)(i=r[l])?(n.push(e=t.call(i,i.__data__,l,a)),e&&"__data__"in i&&(e.__data__=i.__data__)):n.push(null)}return A(o)},Aa.selectAll=function(t){var n,e,r=[];t=C(t);for(var i=-1,o=this.length;++i<o;)for(var a=this[i],u=-1,l=a.length;++u<l;)(e=a[u])&&(r.push(n=fa(t.call(e,e.__data__,u,i))),n.parentNode=e);return A(r)};var Na="http://www.w3.org/1999/xhtml",Ca={svg:"http://www.w3.org/2000/svg",xhtml:Na,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};la.ns={prefix:Ca,qualify:function(t){var n=t.indexOf(":"),e=t;return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),Ca.hasOwnProperty(e)?{space:Ca[e],local:t}:t}},Aa.attr=function(t,n){if(arguments.length<2){if("string"==typeof t){var e=this.node();return t=la.ns.qualify(t),t.local?e.getAttributeNS(t.space,t.local):e.getAttribute(t)}for(n in t)this.each(T(n,t[n]));return this}return this.each(T(t,n))},Aa.classed=function(t,n){if(arguments.length<2){if("string"==typeof t){var e=this.node(),r=(t=I(t)).length,i=-1;if(n=e.classList){for(;++i<r;)if(!n.contains(t[i]))return!1}else for(n=e.getAttribute("class");++i<r;)if(!D(t[i]).test(n))return!1;return!0}for(n in t)this.each(R(n,t[n]));return this}return this.each(R(t,n))},Aa.style=function(t,e,r){var i=arguments.length;if(i<3){if("string"!=typeof t){i<2&&(e="");for(r in t)this.each(z(r,t[r],e));return this}if(i<2){var o=this.node();return n(o).getComputedStyle(o,null).getPropertyValue(t)}r=""}return this.each(z(t,e,r))},Aa.property=function(t,n){if(arguments.length<2){if("string"==typeof t)return this.node()[t];for(n in t)this.each(L(n,t[n]));return this}return this.each(L(t,n))},Aa.text=function(t){return arguments.length?this.each("function"==typeof t?function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}:null==t?function(){this.textContent=""}:function(){this.textContent=t}):this.node().textContent},Aa.html=function(t){return arguments.length?this.each("function"==typeof t?function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}:null==t?function(){this.innerHTML=""}:function(){this.innerHTML=t}):this.node().innerHTML},Aa.append=function(t){return t=q(t),this.select(function(){return this.appendChild(t.apply(this,arguments))})},Aa.insert=function(t,n){return t=q(t),n=N(n),this.select(function(){return this.insertBefore(t.apply(this,arguments),n.apply(this,arguments)||null)})},Aa.remove=function(){return this.each(F)},Aa.data=function(t,n){function e(t,e){var r,i,o,a=t.length,s=e.length,h=Math.min(a,s),p=new Array(s),d=new Array(s),v=new Array(a);if(n){var g,y=new c,m=new Array(a);for(r=-1;++r<a;)(i=t[r])&&(y.has(g=n.call(i,i.__data__,r))?v[r]=i:y.set(g,i),m[r]=g);for(r=-1;++r<s;)(i=y.get(g=n.call(e,o=e[r],r)))?!0!==i&&(p[r]=i,i.__data__=o):d[r]=U(o),y.set(g,!0);for(r=-1;++r<a;)r in m&&!0!==y.get(m[r])&&(v[r]=t[r])}else{for(r=-1;++r<h;)i=t[r],o=e[r],i?(i.__data__=o,p[r]=i):d[r]=U(o);for(;r<s;++r)d[r]=U(e[r]);for(;r<a;++r)v[r]=t[r]}d.update=p,d.parentNode=p.parentNode=v.parentNode=t.parentNode,u.push(d),l.push(p),f.push(v)}var r,i,o=-1,a=this.length;if(!arguments.length){for(t=new Array(a=(r=this[0]).length);++o<a;)(i=r[o])&&(t[o]=i.__data__);return t}var u=V([]),l=A([]),f=A([]);if("function"==typeof t)for(;++o<a;)e(r=this[o],t.call(r,r.parentNode.__data__,o));else for(;++o<a;)e(r=this[o],t);return l.enter=function(){return u},l.exit=function(){return f},l},Aa.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")},Aa.filter=function(t){var n,e,r,i=[];"function"!=typeof t&&(t=$(t));for(var o=0,a=this.length;o<a;o++){i.push(n=[]),n.parentNode=(e=this[o]).parentNode;for(var u=0,l=e.length;u<l;u++)(r=e[u])&&t.call(r,r.__data__,u,o)&&n.push(r)}return A(i)},Aa.order=function(){for(var t=-1,n=this.length;++t<n;)for(var e,r=this[t],i=r.length-1,o=r[i];--i>=0;)(e=r[i])&&(o&&o!==e.nextSibling&&o.parentNode.insertBefore(e,o),o=e);return this},Aa.sort=function(t){t=P.apply(this,arguments);for(var n=-1,e=this.length;++n<e;)this[n].sort(t);return this.order()},Aa.each=function(t){return H(this,function(n,e,r){t.call(n,n.__data__,e,r)})},Aa.call=function(t){var n=fa(arguments);return t.apply(n[0]=this,n),this},Aa.empty=function(){return!this.node()},Aa.node=function(){for(var t=0,n=this.length;t<n;t++)for(var e=this[t],r=0,i=e.length;r<i;r++){var o=e[r];if(o)return o}return null},Aa.size=function(){var t=0;return H(this,function(){++t}),t};var Ta=[];la.selection.enter=V,la.selection.enter.prototype=Ta,Ta.append=Aa.append,Ta.empty=Aa.empty,Ta.node=Aa.node,Ta.call=Aa.call,Ta.size=Aa.size,Ta.select=function(t){for(var n,e,r,i,o,a=[],u=-1,l=this.length;++u<l;){r=(i=this[u]).update,a.push(n=[]),n.parentNode=i.parentNode;for(var c=-1,f=i.length;++c<f;)(o=i[c])?(n.push(r[c]=e=t.call(i.parentNode,o.__data__,c,u)),e.__data__=o.__data__):n.push(null)}return A(a)},Ta.insert=function(t,n){return arguments.length<2&&(n=Y(this)),Aa.insert.call(this,t,n)},la.select=function(n){var e;return"string"==typeof n?(e=[ka(n,sa)],e.parentNode=sa.documentElement):(e=[n],e.parentNode=t(n)),A([e])},la.selectAll=function(t){var n;return"string"==typeof t?(n=fa(Sa(t,sa)),n.parentNode=sa.documentElement):(n=fa(t),n.parentNode=null),A([n])},Aa.on=function(t,n,e){var r=arguments.length;if(r<3){if("string"!=typeof t){r<2&&(n=!1);for(e in t)this.each(B(e,t[e],n));return this}if(r<2)return(r=this.node()["__on"+t])&&r._;e=!1}return this.each(B(t,n,e))};var ja=la.map({mouseenter:"mouseover",mouseleave:"mouseout"});sa&&ja.forEach(function(t){"on"+t in sa&&ja.remove(t)});var Da,Ia=0;la.mouse=function(t){return J(t,S())};var Ra=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;la.touch=function(t,n,e){if(arguments.length<3&&(e=n,n=S().changedTouches),n)for(var r,i=0,o=n.length;i<o;++i)if((r=n[i]).identifier===e)return J(t,r)},la.behavior.drag=function(){function t(){this.on("mousedown.drag",o).on("touchstart.drag",a)}function e(t,n,e,o,a){return function(){function u(){var t,e,r=n(h,v);r&&(t=r[0]-b[0],e=r[1]-b[1],d|=t|e,b=r,p({type:"drag",x:r[0]+c[0],y:r[1]+c[1],dx:t,dy:e}))}function l(){n(h,v)&&(y.on(o+g,null).on(a+g,null),m(d),p({type:"dragend"}))}var c,f=this,s=la.event.target.correspondingElement||la.event.target,h=f.parentNode,p=r.of(f,arguments),d=0,v=t(),g=".drag"+(null==v?"":"-"+v),y=la.select(e(s)).on(o+g,u).on(a+g,l),m=X(s),b=n(h,v);i?(c=i.apply(f,arguments),c=[c.x-b[0],c.y-b[1]]):c=[0,0],p({type:"dragstart"})}}var r=E(t,"drag","dragstart","dragend"),i=null,o=e(w,la.mouse,n,"mousemove","mouseup"),a=e(K,la.touch,m,"touchmove","touchend");return t.origin=function(n){return arguments.length?(i=n,t):i},la.rebind(t,r,"on")},la.touches=function(t,n){return arguments.length<2&&(n=S().touches),n?fa(n).map(function(n){var e=J(t,n);return e.identifier=n.identifier,e}):[]};var Oa=1e-6,za=Oa*Oa,La=Math.PI,qa=2*La,Fa=qa-Oa,Ua=La/2,$a=La/180,Pa=180/La,Ha=Math.SQRT2,Va=2,Ya=4;la.interpolateZoom=function(t,n){var e,r,i=t[0],o=t[1],a=t[2],u=n[0],l=n[1],c=n[2],f=u-i,s=l-o,h=f*f+s*s;if(h<za)r=Math.log(c/a)/Ha,e=function(t){return[i+t*f,o+t*s,a*Math.exp(Ha*t*r)]};else{var p=Math.sqrt(h),d=(c*c-a*a+Ya*h)/(2*a*Va*p),v=(c*c-a*a-Ya*h)/(2*c*Va*p),g=Math.log(Math.sqrt(d*d+1)-d),y=Math.log(Math.sqrt(v*v+1)-v);r=(y-g)/Ha,e=function(t){var n=t*r,e=rt(g),u=a/(Va*p)*(e*it(Ha*n+g)-et(g));return[i+u*f,o+u*s,a*e/rt(Ha*n+g)]}}return e.duration=1e3*r,e},la.behavior.zoom=function(){function t(t){t.on(j,s).on(Za+".zoom",p).on("dblclick.zoom",d).on(R,h)}function e(t){return[(t[0]-S.x)/S.k,(t[1]-S.y)/S.k]}function r(t){return[t[0]*S.k+S.x,t[1]*S.k+S.y]}function i(t){S.k=Math.max(N[0],Math.min(N[1],t))}function o(t,n){n=r(n),S.x+=t[0]-n[0],S.y+=t[1]-n[1]}function a(n,e,r,a){n.__chart__={x:S.x,y:S.y,k:S.k},i(Math.pow(2,a)),o(g=e,r),n=la.select(n),C>0&&(n=n.transition().duration(C)),n.call(t.event)}function u(){w&&w.domain(x.range().map(function(t){return(t-S.x)/S.k}).map(x.invert)),M&&M.domain(_.range().map(function(t){return(t-S.y)/S.k}).map(_.invert))}function l(t){T++||t({type:"zoomstart"})}function c(t){u(),t({type:"zoom",scale:S.k,translate:[S.x,S.y]})}function f(t){--T||(t({type:"zoomend"}),g=null)}function s(){function t(){u=1,o(la.mouse(i),h),c(a)}function r(){s.on(D,null).on(I,null),p(u),f(a)}var i=this,a=O.of(i,arguments),u=0,s=la.select(n(i)).on(D,t).on(I,r),h=e(la.mouse(i)),p=X(i);Ul.call(i),l(a)}function h(){function t(){var t=la.touches(d);return p=S.k,t.forEach(function(t){t.identifier in g&&(g[t.identifier]=e(t))}),t}function n(){var n=la.event.target;la.select(n).on(x,r).on(w,u),_.push(n);for(var e=la.event.changedTouches,i=0,o=e.length;i<o;++i)g[e[i].identifier]=null;var l=t(),c=Date.now();if(1===l.length){if(c-b<500){var f=l[0];a(d,f,g[f.identifier],Math.floor(Math.log(S.k)/Math.LN2)+1),k()}b=c}else if(l.length>1){var f=l[0],s=l[1],h=f[0]-s[0],p=f[1]-s[1];y=h*h+p*p}}function r(){var t,n,e,r,a=la.touches(d);Ul.call(d);for(var u=0,l=a.length;u<l;++u,r=null)if(e=a[u],r=g[e.identifier]){if(n)break;t=e,n=r}if(r){var f=(f=e[0]-t[0])*f+(f=e[1]-t[1])*f,s=y&&Math.sqrt(f/y);t=[(t[0]+e[0])/2,(t[1]+e[1])/2],n=[(n[0]+r[0])/2,(n[1]+r[1])/2],i(s*p)}b=null,o(t,n),c(v)}function u(){if(la.event.touches.length){for(var n=la.event.changedTouches,e=0,r=n.length;e<r;++e)delete g[n[e].identifier];for(var i in g)return void t()}la.selectAll(_).on(m,null),M.on(j,s).on(R,h),E(),f(v)}var p,d=this,v=O.of(d,arguments),g={},y=0,m=".zoom-"+la.event.changedTouches[0].identifier,x="touchmove"+m,w="touchend"+m,_=[],M=la.select(d),E=X(d);n(),l(v),M.on(j,null).on(R,n)}function p(){var t=O.of(this,arguments);m?clearTimeout(m):(Ul.call(this),v=e(g=y||la.mouse(this)),l(t)),m=setTimeout(function(){m=null,f(t)},50),k(),i(Math.pow(2,.002*Ba())*S.k),o(g,v),c(t)}function d(){var t=la.mouse(this),n=Math.log(S.k)/Math.LN2;a(this,t,e(t),la.event.shiftKey?Math.ceil(n)-1:Math.floor(n)+1)}var v,g,y,m,b,x,w,_,M,S={x:0,y:0,k:1},A=[960,500],N=Wa,C=250,T=0,j="mousedown.zoom",D="mousemove.zoom",I="mouseup.zoom",R="touchstart.zoom",O=E(t,"zoomstart","zoom","zoomend");return Za||(Za="onwheel"in sa?(Ba=function(){return-la.event.deltaY*(la.event.deltaMode?120:1)},"wheel"):"onmousewheel"in sa?(Ba=function(){return la.event.wheelDelta},"mousewheel"):(Ba=function(){return-la.event.detail},"MozMousePixelScroll")),t.event=function(t){t.each(function(){var t=O.of(this,arguments),n=S;ql?la.select(this).transition().each("start.zoom",function(){S=this.__chart__||{x:0,y:0,k:1},l(t)}).tween("zoom:zoom",function(){var e=A[0],r=A[1],i=g?g[0]:e/2,o=g?g[1]:r/2,a=la.interpolateZoom([(i-S.x)/S.k,(o-S.y)/S.k,e/S.k],[(i-n.x)/n.k,(o-n.y)/n.k,e/n.k]);return function(n){var r=a(n),u=e/r[2];this.__chart__=S={x:i-r[0]*u,y:o-r[1]*u,k:u},c(t)}}).each("interrupt.zoom",function(){f(t)}).each("end.zoom",function(){f(t)}):(this.__chart__=S,l(t),c(t),f(t))})},t.translate=function(n){return arguments.length?(S={x:+n[0],y:+n[1],k:S.k},u(),t):[S.x,S.y]},t.scale=function(n){return arguments.length?(S={x:S.x,y:S.y,k:null},i(+n),u(),t):S.k},t.scaleExtent=function(n){return arguments.length?(N=null==n?Wa:[+n[0],+n[1]],t):N},t.center=function(n){return arguments.length?(y=n&&[+n[0],+n[1]],t):y},t.size=function(n){return arguments.length?(A=n&&[+n[0],+n[1]],t):A},t.duration=function(n){return arguments.length?(C=+n,t):C},t.x=function(n){return arguments.length?(w=n,x=n.copy(),S={x:0,y:0,k:1},t):w},t.y=function(n){return arguments.length?(M=n,_=n.copy(),S={x:0,y:0,k:1},t):M},la.rebind(t,O,"on")};var Ba,Za,Wa=[0,Infinity];la.color=at,at.prototype.toString=function(){return this.rgb()+""},la.hsl=ut;var Xa=ut.prototype=new at;Xa.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),new ut(this.h,this.s,this.l/t)},Xa.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new ut(this.h,this.s,t*this.l)},Xa.rgb=function(){return lt(this.h,this.s,this.l)},la.hcl=ct;var Ja=ct.prototype=new at;Ja.brighter=function(t){return new ct(this.h,this.c,Math.min(100,this.l+Ka*(arguments.length?t:1)))},Ja.darker=function(t){return new ct(this.h,this.c,Math.max(0,this.l-Ka*(arguments.length?t:1)))},Ja.rgb=function(){return ft(this.h,this.c,this.l).rgb()},la.lab=st;var Ka=18,Ga=.95047,Qa=1,tu=1.08883,nu=st.prototype=new at;nu.brighter=function(t){return new st(Math.min(100,this.l+Ka*(arguments.length?t:1)),this.a,this.b)},nu.darker=function(t){return new st(Math.max(0,this.l-Ka*(arguments.length?t:1)),this.a,this.b)},nu.rgb=function(){return ht(this.l,this.a,this.b)},la.rgb=yt;var eu=yt.prototype=new at;eu.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var n=this.r,e=this.g,r=this.b,i=30;return n||e||r?(n&&n<i&&(n=i),e&&e<i&&(e=i),r&&r<i&&(r=i),new yt(Math.min(255,n/t),Math.min(255,e/t),Math.min(255,r/t))):new yt(i,i,i)},eu.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new yt(t*this.r,t*this.g,t*this.b)},eu.hsl=function(){return _t(this.r,this.g,this.b)},eu.toString=function(){return"#"+xt(this.r)+xt(this.g)+xt(this.b)};var ru=la.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});ru.forEach(function(t,n){ru.set(t,mt(n))}),la.functor=Et,la.xhr=At(m),la.dsv=function(t,n){function e(t,e,o){arguments.length<3&&(o=e,e=null);var a=Nt(t,n,null==e?r:i(e),o);return a.row=function(t){return arguments.length?a.response(null==(e=t)?r:i(t)):e},a}function r(t){return e.parse(t.responseText)}function i(t){return function(n){return e.parse(n.responseText,t)}}function o(n){return n.map(a).join(t)}function a(t){return u.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}var u=new RegExp('["'+t+"\n]"),l=t.charCodeAt(0);return e.parse=function(t,n){var r;return e.parseRows(t,function(t,e){if(r)return r(t,e-1);var i=new Function("d","return {"+t.map(function(t,n){return JSON.stringify(t)+": d["+n+"]"}).join(",")+"}");r=n?function(t,e){return n(i(t),e)}:i})},e.parseRows=function(t,n){function e(){if(f>=c)return a;if(i)return i=!1,o;var n=f;if(34===t.charCodeAt(n)){for(var e=n;e++<c;)if(34===t.charCodeAt(e)){if(34!==t.charCodeAt(e+1))break;++e}f=e+2;var r=t.charCodeAt(e+1);return 13===r?(i=!0,10===t.charCodeAt(e+2)&&++f):10===r&&(i=!0),t.slice(n+1,e).replace(/""/g,'"')}for(;f<c;){var r=t.charCodeAt(f++),u=1;if(10===r)i=!0;else if(13===r)i=!0,10===t.charCodeAt(f)&&(++f,++u);else if(r!==l)continue;return t.slice(n,f-u)}return t.slice(n)}for(var r,i,o={},a={},u=[],c=t.length,f=0,s=0;(r=e())!==a;){for(var h=[];r!==o&&r!==a;)h.push(r),r=e();n&&null==(h=n(h,s++))||u.push(h)}return u},e.format=function(n){if(Array.isArray(n[0]))return e.formatRows(n);var r=new y,i=[];return n.forEach(function(t){for(var n in t)r.has(n)||i.push(r.add(n))}),[i.map(a).join(t)].concat(n.map(function(n){return i.map(function(t){return a(n[t])}).join(t)})).join("\n")},e.formatRows=function(t){return t.map(o).join("\n")},e},la.csv=la.dsv(",","text/csv"),la.tsv=la.dsv("\t","text/tab-separated-values");var iu,ou,au,uu,lu=this[x(this,"requestAnimationFrame")]||function(t){setTimeout(t,17)};la.timer=function(){jt.apply(this,arguments)},la.timer.flush=function(){It(),Rt()},la.round=function(t,n){return n?Math.round(t*(n=Math.pow(10,n)))/n:Math.round(t)};var cu=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"].map(zt);la.formatPrefix=function(t,n){var e=0;return(t=+t)&&(t<0&&(t*=-1),n&&(t=la.round(t,Ot(t,n))),e=1+Math.floor(1e-12+Math.log(t)/Math.LN10),e=Math.max(-24,Math.min(24,3*Math.floor((e-1)/3)))),cu[8+e/3]};var fu=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,su=la.map({b:function(t){return t.toString(2)},c:function(t){return String.fromCharCode(t)},o:function(t){return t.toString(8)},x:function(t){return t.toString(16)},X:function(t){return t.toString(16).toUpperCase()},g:function(t,n){return t.toPrecision(n)},e:function(t,n){return t.toExponential(n)},f:function(t,n){return t.toFixed(n)},r:function(t,n){return(t=la.round(t,Ot(t,n))).toFixed(Math.max(0,Math.min(20,Ot(t*(1+1e-15),n))))}}),hu=la.time={},pu=Date;Ft.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){du.setUTCDate.apply(this._,arguments)},setDay:function(){du.setUTCDay.apply(this._,arguments)},setFullYear:function(){du.setUTCFullYear.apply(this._,arguments)},setHours:function(){du.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){du.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){du.setUTCMinutes.apply(this._,arguments)},setMonth:function(){du.setUTCMonth.apply(this._,arguments)},setSeconds:function(){du.setUTCSeconds.apply(this._,arguments)},setTime:function(){du.setTime.apply(this._,arguments)}};var du=Date.prototype;hu.year=Ut(function(t){return t=hu.day(t),t.setMonth(0,1),t},function(t,n){t.setFullYear(t.getFullYear()+n)},function(t){return t.getFullYear()}),hu.years=hu.year.range,hu.years.utc=hu.year.utc.range,hu.day=Ut(function(t){var n=new pu(2e3,0);return n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),n},function(t,n){t.setDate(t.getDate()+n)},function(t){return t.getDate()-1}),hu.days=hu.day.range,hu.days.utc=hu.day.utc.range,hu.dayOfYear=function(t){var n=hu.year(t);return Math.floor((t-n-6e4*(t.getTimezoneOffset()-n.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(t,n){n=7-n;var e=hu[t]=Ut(function(t){return(t=hu.day(t)).setDate(t.getDate()-(t.getDay()+n)%7),t},function(t,n){t.setDate(t.getDate()+7*Math.floor(n))},function(t){
var e=hu.year(t).getDay();return Math.floor((hu.dayOfYear(t)+(e+n)%7)/7)-(e!==n)});hu[t+"s"]=e.range,hu[t+"s"].utc=e.utc.range,hu[t+"OfYear"]=function(t){var e=hu.year(t).getDay();return Math.floor((hu.dayOfYear(t)+(e+n)%7)/7)}}),hu.week=hu.sunday,hu.weeks=hu.sunday.range,hu.weeks.utc=hu.sunday.utc.range,hu.weekOfYear=hu.sundayOfYear;var vu={"-":"",_:" ",0:"0"},gu=/^\s*\d+/,yu=/^%/;la.locale=function(t){return{numberFormat:Lt(t),timeFormat:Pt(t)}};var mu=la.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});la.format=mu.numberFormat,la.geo={},fn.prototype={s:0,t:0,add:function(t){sn(t,this.t,bu),sn(bu.s,this.s,this),this.s?this.t+=bu.t:this.s=bu.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var bu=new fn;la.geo.stream=function(t,n){t&&xu.hasOwnProperty(t.type)?xu[t.type](t,n):hn(t,n)};var xu={Feature:function(t,n){hn(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,r=-1,i=e.length;++r<i;)hn(e[r].geometry,n)}},wu={Sphere:function(t,n){n.sphere()},Point:function(t,n){t=t.coordinates,n.point(t[0],t[1],t[2])},MultiPoint:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)t=e[r],n.point(t[0],t[1],t[2])},LineString:function(t,n){pn(t.coordinates,n,0)},MultiLineString:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)pn(e[r],n,0)},Polygon:function(t,n){dn(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)dn(e[r],n)},GeometryCollection:function(t,n){for(var e=t.geometries,r=-1,i=e.length;++r<i;)hn(e[r],n)}};la.geo.area=function(t){return _u=0,la.geo.stream(t,ku),_u};var _u,Mu=new fn,ku={sphere:function(){_u+=4*La},point:w,lineStart:w,lineEnd:w,polygonStart:function(){Mu.reset(),ku.lineStart=vn},polygonEnd:function(){var t=2*Mu;_u+=t<0?4*La+t:t,ku.lineStart=ku.lineEnd=ku.point=w}};la.geo.bounds=function(){function t(t,n){b.push(x=[f=t,h=t]),n<s&&(s=n),n>p&&(p=n)}function n(n,e){var r=gn([n*$a,e*$a]);if(y){var i=mn(y,r),o=[i[1],-i[0],0],a=mn(o,i);wn(a),a=_n(a);var l=n-d,c=l>0?1:-1,v=a[0]*Pa*c,g=ma(l)>180;if(g^(c*d<v&&v<c*n)){var m=a[1]*Pa;m>p&&(p=m)}else if(v=(v+360)%360-180,g^(c*d<v&&v<c*n)){var m=-a[1]*Pa;m<s&&(s=m)}else e<s&&(s=e),e>p&&(p=e);g?n<d?u(f,n)>u(f,h)&&(h=n):u(n,h)>u(f,h)&&(f=n):h>=f?(n<f&&(f=n),n>h&&(h=n)):n>d?u(f,n)>u(f,h)&&(h=n):u(n,h)>u(f,h)&&(f=n)}else t(n,e);y=r,d=n}function e(){w.point=n}function r(){x[0]=f,x[1]=h,w.point=t,y=null}function i(t,e){if(y){var r=t-d;m+=ma(r)>180?r+(r>0?360:-360):r}else v=t,g=e;ku.point(t,e),n(t,e)}function o(){ku.lineStart()}function a(){i(v,g),ku.lineEnd(),ma(m)>Oa&&(f=-(h=180)),x[0]=f,x[1]=h,y=null}function u(t,n){return(n-=t)<0?n+360:n}function l(t,n){return t[0]-n[0]}function c(t,n){return n[0]<=n[1]?n[0]<=t&&t<=n[1]:t<n[0]||n[1]<t}var f,s,h,p,d,v,g,y,m,b,x,w={point:t,lineStart:e,lineEnd:r,polygonStart:function(){w.point=i,w.lineStart=o,w.lineEnd=a,m=0,ku.polygonStart()},polygonEnd:function(){ku.polygonEnd(),w.point=t,w.lineStart=e,w.lineEnd=r,Mu<0?(f=-(h=180),s=-(p=90)):m>Oa?p=90:m<-Oa&&(s=-90),x[0]=f,x[1]=h}};return function(t){p=h=-(f=s=Infinity),b=[],la.geo.stream(t,w);var n=b.length;if(n){b.sort(l);for(var e,r=1,i=b[0],o=[i];r<n;++r)e=b[r],c(e[0],i)||c(e[1],i)?(u(i[0],e[1])>u(i[0],i[1])&&(i[1]=e[1]),u(e[0],i[1])>u(i[0],i[1])&&(i[0]=e[0])):o.push(i=e);for(var a,e,d=-Infinity,n=o.length-1,r=0,i=o[n];r<=n;i=e,++r)e=o[r],(a=u(i[1],e[0]))>d&&(d=a,f=e[0],h=i[1])}return b=x=null,f===Infinity||s===Infinity?[[NaN,NaN],[NaN,NaN]]:[[f,s],[h,p]]}}(),la.geo.centroid=function(t){Su=Eu=Au=Nu=Cu=Tu=ju=Du=Iu=Ru=Ou=0,la.geo.stream(t,zu);var n=Iu,e=Ru,r=Ou,i=n*n+e*e+r*r;return i<za&&(n=Tu,e=ju,r=Du,Eu<Oa&&(n=Au,e=Nu,r=Cu),(i=n*n+e*e+r*r)<za)?[NaN,NaN]:[Math.atan2(e,n)*Pa,nt(r/Math.sqrt(i))*Pa]};var Su,Eu,Au,Nu,Cu,Tu,ju,Du,Iu,Ru,Ou,zu={sphere:w,point:kn,lineStart:En,lineEnd:An,polygonStart:function(){zu.lineStart=Nn},polygonEnd:function(){zu.lineStart=En}},Lu=Rn(Tn,qn,Un,[-La,-La/2]),qu=1e9;la.geo.clipExtent=function(){var t,n,e,r,i,o,a={stream:function(t){return i&&(i.valid=!1),i=o(t),i.valid=!0,i},extent:function(u){return arguments.length?(o=Vn(t=+u[0][0],n=+u[0][1],e=+u[1][0],r=+u[1][1]),i&&(i.valid=!1,i=null),a):[[t,n],[e,r]]}};return a.extent([[0,0],[960,500]])},(la.geo.conicEqualArea=function(){return Yn(Bn)}).raw=Bn,la.geo.albers=function(){return la.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},la.geo.albersUsa=function(){function t(t){var o=t[0],a=t[1];return n=null,e(o,a),n||(r(o,a),n)||i(o,a),n}var n,e,r,i,o=la.geo.albers(),a=la.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),u=la.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l={point:function(t,e){n=[t,e]}};return t.invert=function(t){var n=o.scale(),e=o.translate(),r=(t[0]-e[0])/n,i=(t[1]-e[1])/n;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?a:i>=.166&&i<.234&&r>=-.214&&r<-.115?u:o).invert(t)},t.stream=function(t){var n=o.stream(t),e=a.stream(t),r=u.stream(t);return{point:function(t,i){n.point(t,i),e.point(t,i),r.point(t,i)},sphere:function(){n.sphere(),e.sphere(),r.sphere()},lineStart:function(){n.lineStart(),e.lineStart(),r.lineStart()},lineEnd:function(){n.lineEnd(),e.lineEnd(),r.lineEnd()},polygonStart:function(){n.polygonStart(),e.polygonStart(),r.polygonStart()},polygonEnd:function(){n.polygonEnd(),e.polygonEnd(),r.polygonEnd()}}},t.precision=function(n){return arguments.length?(o.precision(n),a.precision(n),u.precision(n),t):o.precision()},t.scale=function(n){return arguments.length?(o.scale(n),a.scale(.35*n),u.scale(n),t.translate(o.translate())):o.scale()},t.translate=function(n){if(!arguments.length)return o.translate();var c=o.scale(),f=+n[0],s=+n[1];return e=o.translate(n).clipExtent([[f-.455*c,s-.238*c],[f+.455*c,s+.238*c]]).stream(l).point,r=a.translate([f-.307*c,s+.201*c]).clipExtent([[f-.425*c+Oa,s+.12*c+Oa],[f-.214*c-Oa,s+.234*c-Oa]]).stream(l).point,i=u.translate([f-.205*c,s+.212*c]).clipExtent([[f-.214*c+Oa,s+.166*c+Oa],[f-.115*c-Oa,s+.234*c-Oa]]).stream(l).point,t},t.scale(1070)};var Fu,Uu,$u,Pu,Hu,Vu,Yu={point:w,lineStart:w,lineEnd:w,polygonStart:function(){Uu=0,Yu.lineStart=Zn},polygonEnd:function(){Yu.lineStart=Yu.lineEnd=Yu.point=w,Fu+=ma(Uu/2)}},Bu={point:Wn,lineStart:w,lineEnd:w,polygonStart:w,polygonEnd:w},Zu={point:Kn,lineStart:Gn,lineEnd:Qn,polygonStart:function(){Zu.lineStart=te},polygonEnd:function(){Zu.point=Kn,Zu.lineStart=Gn,Zu.lineEnd=Qn}};la.geo.path=function(){function t(t){return t&&("function"==typeof u&&o.pointRadius(+u.apply(this,arguments)),a&&a.valid||(a=i(o)),la.geo.stream(t,a)),o.result()}function n(){return a=null,t}var e,r,i,o,a,u=4.5;return t.area=function(t){return Fu=0,la.geo.stream(t,i(Yu)),Fu},t.centroid=function(t){return Au=Nu=Cu=Tu=ju=Du=Iu=Ru=Ou=0,la.geo.stream(t,i(Zu)),Ou?[Iu/Ou,Ru/Ou]:Du?[Tu/Du,ju/Du]:Cu?[Au/Cu,Nu/Cu]:[NaN,NaN]},t.bounds=function(t){return Hu=Vu=-($u=Pu=Infinity),la.geo.stream(t,i(Bu)),[[$u,Pu],[Hu,Vu]]},t.projection=function(t){return arguments.length?(i=(e=t)?t.stream||re(t):m,n()):e},t.context=function(t){return arguments.length?(o=null==(r=t)?new Xn:new ne(t),"function"!=typeof u&&o.pointRadius(u),n()):r},t.pointRadius=function(n){return arguments.length?(u="function"==typeof n?n:(o.pointRadius(+n),+n),t):u},t.projection(la.geo.albersUsa()).context(null)},la.geo.transform=function(t){return{stream:function(n){var e=new ie(n);for(var r in t)e[r]=t[r];return e}}},ie.prototype={point:function(t,n){this.stream.point(t,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},la.geo.projection=ae,la.geo.projectionMutator=ue,(la.geo.equirectangular=function(){return ae(ce)}).raw=ce.invert=ce,la.geo.rotation=function(t){function n(n){return n=t(n[0]*$a,n[1]*$a),n[0]*=Pa,n[1]*=Pa,n}return t=se(t[0]%360*$a,t[1]*$a,t.length>2?t[2]*$a:0),n.invert=function(n){return n=t.invert(n[0]*$a,n[1]*$a),n[0]*=Pa,n[1]*=Pa,n},n},fe.invert=ce,la.geo.circle=function(){function t(){var t="function"==typeof r?r.apply(this,arguments):r,n=se(-t[0]*$a,-t[1]*$a,0).invert,i=[];return e(null,null,1,{point:function(t,e){i.push(t=n(t,e)),t[0]*=Pa,t[1]*=Pa}}),{type:"Polygon",coordinates:[i]}}var n,e,r=[0,0],i=6;return t.origin=function(n){return arguments.length?(r=n,t):r},t.angle=function(r){return arguments.length?(e=ve((n=+r)*$a,i*$a),t):n},t.precision=function(r){return arguments.length?(e=ve(n*$a,(i=+r)*$a),t):i},t.angle(90)},la.geo.distance=function(t,n){var e,r=(n[0]-t[0])*$a,i=t[1]*$a,o=n[1]*$a,a=Math.sin(r),u=Math.cos(r),l=Math.sin(i),c=Math.cos(i),f=Math.sin(o),s=Math.cos(o);return Math.atan2(Math.sqrt((e=s*a)*e+(e=c*f-l*s*u)*e),l*f+c*s*u)},la.geo.graticule=function(){function t(){return{type:"MultiLineString",coordinates:n()}}function n(){return la.range(Math.ceil(o/g)*g,i,g).map(h).concat(la.range(Math.ceil(c/y)*y,l,y).map(p)).concat(la.range(Math.ceil(r/d)*d,e,d).filter(function(t){return ma(t%g)>Oa}).map(f)).concat(la.range(Math.ceil(u/v)*v,a,v).filter(function(t){return ma(t%y)>Oa}).map(s))}var e,r,i,o,a,u,l,c,f,s,h,p,d=10,v=d,g=90,y=360,m=2.5;return t.lines=function(){return n().map(function(t){return{type:"LineString",coordinates:t}})},t.outline=function(){return{type:"Polygon",coordinates:[h(o).concat(p(l).slice(1),h(i).reverse().slice(1),p(c).reverse().slice(1))]}},t.extent=function(n){return arguments.length?t.majorExtent(n).minorExtent(n):t.minorExtent()},t.majorExtent=function(n){return arguments.length?(o=+n[0][0],i=+n[1][0],c=+n[0][1],l=+n[1][1],o>i&&(n=o,o=i,i=n),c>l&&(n=c,c=l,l=n),t.precision(m)):[[o,c],[i,l]]},t.minorExtent=function(n){return arguments.length?(r=+n[0][0],e=+n[1][0],u=+n[0][1],a=+n[1][1],r>e&&(n=r,r=e,e=n),u>a&&(n=u,u=a,a=n),t.precision(m)):[[r,u],[e,a]]},t.step=function(n){return arguments.length?t.majorStep(n).minorStep(n):t.minorStep()},t.majorStep=function(n){return arguments.length?(g=+n[0],y=+n[1],t):[g,y]},t.minorStep=function(n){return arguments.length?(d=+n[0],v=+n[1],t):[d,v]},t.precision=function(n){return arguments.length?(m=+n,f=ye(u,a,90),s=me(r,e,m),h=ye(c,l,90),p=me(o,i,m),t):m},t.majorExtent([[-180,-90+Oa],[180,90-Oa]]).minorExtent([[-180,-80-Oa],[180,80+Oa]])},la.geo.greatArc=function(){function t(){return{type:"LineString",coordinates:[n||r.apply(this,arguments),e||i.apply(this,arguments)]}}var n,e,r=be,i=xe;return t.distance=function(){return la.geo.distance(n||r.apply(this,arguments),e||i.apply(this,arguments))},t.source=function(e){return arguments.length?(r=e,n="function"==typeof e?null:e,t):r},t.target=function(n){return arguments.length?(i=n,e="function"==typeof n?null:n,t):i},t.precision=function(){return arguments.length?t:0},t},la.geo.interpolate=function(t,n){return we(t[0]*$a,t[1]*$a,n[0]*$a,n[1]*$a)},la.geo.length=function(t){return Wu=0,la.geo.stream(t,Xu),Wu};var Wu,Xu={sphere:w,point:w,lineStart:_e,lineEnd:w,polygonStart:w,polygonEnd:w},Ju=Me(function(t){return Math.sqrt(2/(1+t))},function(t){return 2*Math.asin(t/2)});(la.geo.azimuthalEqualArea=function(){return ae(Ju)}).raw=Ju;var Ku=Me(function(t){var n=Math.acos(t);return n&&n/Math.sin(n)},m);(la.geo.azimuthalEquidistant=function(){return ae(Ku)}).raw=Ku,(la.geo.conicConformal=function(){return Yn(ke)}).raw=ke,(la.geo.conicEquidistant=function(){return Yn(Se)}).raw=Se;var Gu=Me(function(t){return 1/t},Math.atan);(la.geo.gnomonic=function(){return ae(Gu)}).raw=Gu,Ee.invert=function(t,n){return[t,2*Math.atan(Math.exp(n))-Ua]},(la.geo.mercator=function(){return Ae(Ee)}).raw=Ee;var Qu=Me(function(){return 1},Math.asin);(la.geo.orthographic=function(){return ae(Qu)}).raw=Qu;var tl=Me(function(t){return 1/(1+t)},function(t){return 2*Math.atan(t)});(la.geo.stereographic=function(){return ae(tl)}).raw=tl,Ne.invert=function(t,n){return[-n,2*Math.atan(Math.exp(t))-Ua]},(la.geo.transverseMercator=function(){var t=Ae(Ne),n=t.center,e=t.rotate;return t.center=function(t){return t?n([-t[1],t[0]]):(t=n(),[t[1],-t[0]])},t.rotate=function(t){return t?e([t[0],t[1],t.length>2?t[2]+90:90]):(t=e(),[t[0],t[1],t[2]-90])},e([0,0,90])}).raw=Ne,la.geom={},la.geom.hull=function(t){function n(t){if(t.length<3)return[];var n,i=Et(e),o=Et(r),a=t.length,u=[],l=[];for(n=0;n<a;n++)u.push([+i.call(this,t[n],n),+o.call(this,t[n],n),n]);for(u.sort(De),n=0;n<a;n++)l.push([u[n][0],-u[n][1]]);var c=je(u),f=je(l),s=f[0]===c[0],h=f[f.length-1]===c[c.length-1],p=[];for(n=c.length-1;n>=0;--n)p.push(t[u[c[n]][2]]);for(n=+s;n<f.length-h;++n)p.push(t[u[f[n]][2]]);return p}var e=Ce,r=Te;return arguments.length?n(t):(n.x=function(t){return arguments.length?(e=t,n):e},n.y=function(t){return arguments.length?(r=t,n):r},n)},la.geom.polygon=function(t){return Ma(t,nl),t};var nl=la.geom.polygon.prototype=[];nl.area=function(){for(var t,n=-1,e=this.length,r=this[e-1],i=0;++n<e;)t=r,r=this[n],i+=t[1]*r[0]-t[0]*r[1];return.5*i},nl.centroid=function(t){var n,e,r=-1,i=this.length,o=0,a=0,u=this[i-1];for(arguments.length||(t=-1/(6*this.area()));++r<i;)n=u,u=this[r],e=n[0]*u[1]-u[0]*n[1],o+=(n[0]+u[0])*e,a+=(n[1]+u[1])*e;return[o*t,a*t]},nl.clip=function(t){for(var n,e,r,i,o,a,u=Oe(t),l=-1,c=this.length-Oe(this),f=this[c-1];++l<c;){for(n=t.slice(),t.length=0,i=this[l],o=n[(r=n.length-u)-1],e=-1;++e<r;)a=n[e],Ie(a,f,i)?(Ie(o,f,i)||t.push(Re(o,a,f,i)),t.push(a)):Ie(o,f,i)&&t.push(Re(o,a,f,i)),o=a;u&&t.push(t[0]),f=i}return t};var el,rl,il,ol,al,ul=[],ll=[];He.prototype.prepare=function(){for(var t,n=this.edges,e=n.length;e--;)t=n[e].edge,t.b&&t.a||n.splice(e,1);return n.sort(Ye),n.length},nr.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},er.prototype={insert:function(t,n){var e,r,i;if(t){if(n.P=t,n.N=t.N,t.N&&(t.N.P=n),t.N=n,t.R){for(t=t.R;t.L;)t=t.L;t.L=n}else t.R=n;e=t}else this._?(t=ar(this._),n.P=null,n.N=t,t.P=t.L=n,e=t):(n.P=n.N=null,this._=n,e=null);for(n.L=n.R=null,n.U=e,n.C=!0,t=n;e&&e.C;)r=e.U,e===r.L?(i=r.R,i&&i.C?(e.C=i.C=!1,r.C=!0,t=r):(t===e.R&&(ir(this,e),t=e,e=t.U),e.C=!1,r.C=!0,or(this,r))):(i=r.L,i&&i.C?(e.C=i.C=!1,r.C=!0,t=r):(t===e.L&&(or(this,e),t=e,e=t.U),e.C=!1,r.C=!0,ir(this,r))),e=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var n,e,r,i=t.U,o=t.L,a=t.R;if(e=o?a?ar(a):o:a,i?i.L===t?i.L=e:i.R=e:this._=e,o&&a?(r=e.C,e.C=t.C,e.L=o,o.U=e,e!==a?(i=e.U,e.U=t.U,t=e.R,i.L=t,e.R=a,a.U=e):(e.U=i,i=e,t=e.R)):(r=t.C,t=e),t&&(t.U=i),!r){if(t&&t.C)return void(t.C=!1);do{if(t===this._)break;if(t===i.L){if(n=i.R,n.C&&(n.C=!1,i.C=!0,ir(this,i),n=i.R),n.L&&n.L.C||n.R&&n.R.C){n.R&&n.R.C||(n.L.C=!1,n.C=!0,or(this,n),n=i.R),n.C=i.C,i.C=n.R.C=!1,ir(this,i),t=this._;break}}else if(n=i.L,n.C&&(n.C=!1,i.C=!0,or(this,i),n=i.L),n.L&&n.L.C||n.R&&n.R.C){n.L&&n.L.C||(n.R.C=!1,n.C=!0,ir(this,n),n=i.L),n.C=i.C,i.C=n.L.C=!1,or(this,i),t=this._;break}n.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}},la.geom.voronoi=function(t){function n(t){var n=new Array(t.length),r=u[0][0],i=u[0][1],o=u[1][0],a=u[1][1];return ur(e(t),u).cells.forEach(function(e,u){var l=e.edges,c=e.site;(n[u]=l.length?l.map(function(t){var n=t.start();return[n.x,n.y]}):c.x>=r&&c.x<=o&&c.y>=i&&c.y<=a?[[r,a],[o,a],[o,i],[r,i]]:[]).point=t[u]}),n}function e(t){return t.map(function(t,n){return{x:Math.round(o(t,n)/Oa)*Oa,y:Math.round(a(t,n)/Oa)*Oa,i:n}})}var r=Ce,i=Te,o=r,a=i,u=cl;return t?n(t):(n.links=function(t){return ur(e(t)).edges.filter(function(t){return t.l&&t.r}).map(function(n){return{source:t[n.l.i],target:t[n.r.i]}})},n.triangles=function(t){var n=[];return ur(e(t)).cells.forEach(function(e,r){for(var i,o=e.site,a=e.edges.sort(Ye),u=-1,l=a.length,c=a[l-1].edge,f=c.l===o?c.r:c.l;++u<l;)c,i=f,c=a[u].edge,f=c.l===o?c.r:c.l,r<i.i&&r<f.i&&cr(o,i,f)<0&&n.push([t[r],t[i.i],t[f.i]])}),n},n.x=function(t){return arguments.length?(o=Et(r=t),n):r},n.y=function(t){return arguments.length?(a=Et(i=t),n):i},n.clipExtent=function(t){return arguments.length?(u=null==t?cl:t,n):u===cl?null:u},n.size=function(t){return arguments.length?n.clipExtent(t&&[[0,0],t]):u===cl?null:u&&u[1]},n)};var cl=[[-1e6,-1e6],[1e6,1e6]];la.geom.delaunay=function(t){return la.geom.voronoi().triangles(t)},la.geom.quadtree=function(t,n,e,r,i){function o(t){function o(t,n,e,r,i,o,a,u){if(!isNaN(e)&&!isNaN(r))if(t.leaf){var l=t.x,f=t.y;if(null!=l)if(ma(l-e)+ma(f-r)<.01)c(t,n,e,r,i,o,a,u);else{var s=t.point;t.x=t.y=t.point=null,c(t,s,l,f,i,o,a,u),c(t,n,e,r,i,o,a,u)}else t.x=e,t.y=r,t.point=n}else c(t,n,e,r,i,o,a,u)}function c(t,n,e,r,i,a,u,l){var c=.5*(i+u),f=.5*(a+l),s=e>=c,h=r>=f,p=h<<1|s;t.leaf=!1,t=t.nodes[p]||(t.nodes[p]=hr()),s?i=c:u=c,h?a=f:l=f,o(t,n,e,r,i,a,u,l)}var f,s,h,p,d,v,g,y,m,b=Et(u),x=Et(l);if(null!=n)v=n,g=e,y=r,m=i;else if(y=m=-(v=g=Infinity),s=[],h=[],d=t.length,a)for(p=0;p<d;++p)f=t[p],f.x<v&&(v=f.x),f.y<g&&(g=f.y),f.x>y&&(y=f.x),f.y>m&&(m=f.y),s.push(f.x),h.push(f.y);else for(p=0;p<d;++p){var w=+b(f=t[p],p),_=+x(f,p);w<v&&(v=w),_<g&&(g=_),w>y&&(y=w),_>m&&(m=_),s.push(w),h.push(_)}var M=y-v,k=m-g;M>k?m=g+M:y=v+k;var S=hr();if(S.add=function(t){o(S,t,+b(t,++p),+x(t,p),v,g,y,m)},S.visit=function(t){pr(t,S,v,g,y,m)},S.find=function(t){return dr(S,t[0],t[1],v,g,y,m)},p=-1,null==n){for(;++p<d;)o(S,t[p],s[p],h[p],v,g,y,m);--p}else t.forEach(S.add);return s=h=t=f=null,S}var a,u=Ce,l=Te;return(a=arguments.length)?(u=fr,l=sr,3===a&&(i=e,r=n,e=n=0),o(t)):(o.x=function(t){return arguments.length?(u=t,o):u},o.y=function(t){return arguments.length?(l=t,o):l},o.extent=function(t){return arguments.length?(null==t?n=e=r=i=null:(n=+t[0][0],e=+t[0][1],r=+t[1][0],i=+t[1][1]),o):null==n?null:[[n,e],[r,i]]},o.size=function(t){return arguments.length?(null==t?n=e=r=i=null:(n=e=0,r=+t[0],i=+t[1]),o):null==n?null:[r-n,i-e]},o)},la.interpolateRgb=vr,la.interpolateObject=gr,la.interpolateNumber=yr,la.interpolateString=mr;var fl=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,sl=new RegExp(fl.source,"g");la.interpolate=br,la.interpolators=[function(t,n){var e=typeof n;return("string"===e?ru.has(n.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(n)?vr:mr:n instanceof at?vr:Array.isArray(n)?xr:"object"===e&&isNaN(n)?gr:yr)(t,n)}],la.interpolateArray=xr;var hl=function(){return m},pl=la.map({linear:hl,poly:Ar,quad:function(){return kr},cubic:function(){return Sr},sin:function(){return Nr},exp:function(){return Cr},circle:function(){return Tr},elastic:jr,back:Dr,bounce:function(){return Ir}}),dl=la.map({"in":m,out:_r,"in-out":Mr,"out-in":function(t){return Mr(_r(t))}});la.ease=function(t){var n=t.indexOf("-"),e=n>=0?t.slice(0,n):t,r=n>=0?t.slice(n+1):"in";return e=pl.get(e)||hl,r=dl.get(r)||m,wr(r(e.apply(null,ca.call(arguments,1))))},la.interpolateHcl=Rr,la.interpolateHsl=Or,la.interpolateLab=zr,la.interpolateRound=Lr,la.transform=function(t){var n=sa.createElementNS(la.ns.prefix.svg,"g");return(la.transform=function(t){if(null!=t){n.setAttribute("transform",t);var e=n.transform.baseVal.consolidate()}return new qr(e?e.matrix:vl)})(t)},qr.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var vl={a:1,b:0,c:0,d:1,e:0,f:0};la.interpolateTransform=Zr,la.layout={},la.layout.bundle=function(){return function(t){for(var n=[],e=-1,r=t.length;++e<r;)n.push(Jr(t[e]));return n}},la.layout.chord=function(){function t(){var t,c,s,h,p,d={},v=[],g=la.range(o),y=[];for(e=[],r=[],t=0,h=-1;++h<o;){for(c=0,p=-1;++p<o;)c+=i[h][p];v.push(c),y.push(la.range(o)),t+=c}for(a&&g.sort(function(t,n){return a(v[t],v[n])}),u&&y.forEach(function(t,n){t.sort(function(t,e){return u(i[n][t],i[n][e])})}),t=(qa-f*o)/t,c=0,h=-1;++h<o;){for(s=c,p=-1;++p<o;){var m=g[h],b=y[m][p],x=i[m][b],w=c,_=c+=x*t;d[m+"-"+b]={index:m,subindex:b,startAngle:w,endAngle:_,value:x}}r[m]={index:m,startAngle:s,endAngle:c,value:v[m]},c+=f}for(h=-1;++h<o;)for(p=h-1;++p<o;){var M=d[h+"-"+p],k=d[p+"-"+h];(M.value||k.value)&&e.push(M.value<k.value?{source:k,target:M}:{source:M,target:k})}l&&n()}function n(){e.sort(function(t,n){return l((t.source.value+t.target.value)/2,(n.source.value+n.target.value)/2)})}var e,r,i,o,a,u,l,c={},f=0;return c.matrix=function(t){return arguments.length?(o=(i=t)&&i.length,e=r=null,c):i},c.padding=function(t){return arguments.length?(f=t,e=r=null,c):f},c.sortGroups=function(t){return arguments.length?(a=t,e=r=null,c):a},c.sortSubgroups=function(t){return arguments.length?(u=t,e=null,c):u},c.sortChords=function(t){return arguments.length?(l=t,e&&n(),c):l},c.chords=function(){return e||t(),e},c.groups=function(){return r||t(),r},c},la.layout.force=function(){function t(t){return function(n,e,r,i){if(n.point!==t){var o=n.cx-t.x,a=n.cy-t.y,u=i-e,l=o*o+a*a;if(u*u/y<l){if(l<v){var c=n.charge/l;t.px-=o*c,t.py-=a*c}return!0}if(n.point&&l&&l<v){var c=n.pointCharge/l;t.px-=o*c,t.py-=a*c}}return!n.charge}}function n(t){t.px=la.event.x,t.py=la.event.y,l.resume()}var e,r,i,o,a,u,l={},c=la.dispatch("start","tick","end"),f=[1,1],s=.9,h=gl,p=yl,d=-30,v=ml,g=.1,y=.64,b=[],x=[];return l.tick=function(){if((i*=.99)<.005)return e=null,c.end({type:"end",alpha:i=0}),!0;var n,r,l,h,p,v,y,m,w,_=b.length,M=x.length;for(r=0;r<M;++r)l=x[r],h=l.source,p=l.target,m=p.x-h.x,w=p.y-h.y,(v=m*m+w*w)&&(v=i*a[r]*((v=Math.sqrt(v))-o[r])/v,m*=v,w*=v,p.x-=m*(y=h.weight+p.weight?h.weight/(h.weight+p.weight):.5),p.y-=w*y,h.x+=m*(y=1-y),h.y+=w*y);if((y=i*g)&&(m=f[0]/2,w=f[1]/2,r=-1,y))for(;++r<_;)l=b[r],l.x+=(m-l.x)*y,l.y+=(w-l.y)*y;if(d)for(ri(n=la.geom.quadtree(b),i,u),r=-1;++r<_;)(l=b[r]).fixed||n.visit(t(l));for(r=-1;++r<_;)l=b[r],l.fixed?(l.x=l.px,l.y=l.py):(l.x-=(l.px-(l.px=l.x))*s,l.y-=(l.py-(l.py=l.y))*s);c.tick({type:"tick",alpha:i})},l.nodes=function(t){return arguments.length?(b=t,l):b},l.links=function(t){return arguments.length?(x=t,l):x},l.size=function(t){return arguments.length?(f=t,l):f},l.linkDistance=function(t){return arguments.length?(h="function"==typeof t?t:+t,l):h},l.distance=l.linkDistance,l.linkStrength=function(t){return arguments.length?(p="function"==typeof t?t:+t,l):p},l.friction=function(t){return arguments.length?(s=+t,l):s},l.charge=function(t){return arguments.length?(d="function"==typeof t?t:+t,l):d},l.chargeDistance=function(t){return arguments.length?(v=t*t,l):Math.sqrt(v)},l.gravity=function(t){return arguments.length?(g=+t,l):g},l.theta=function(t){return arguments.length?(y=t*t,l):Math.sqrt(y)},l.alpha=function(t){return arguments.length?(t=+t,i?t>0?i=t:(e.c=null,e.t=NaN,e=null,c.end({type:"end",alpha:i=0})):t>0&&(c.start({type:"start",alpha:i=t}),e=jt(l.tick)),l):i},l.start=function(){function t(t,r){if(!e){for(e=new Array(i),l=0;l<i;++l)e[l]=[];for(l=0;l<c;++l){var o=x[l];e[o.source.index].push(o.target),e[o.target.index].push(o.source)}}for(var a,u=e[n],l=-1,f=u.length;++l<f;)if(!isNaN(a=u[l][t]))return a;return Math.random()*r}var n,e,r,i=b.length,c=x.length,s=f[0],v=f[1];for(n=0;n<i;++n)(r=b[n]).index=n,r.weight=0;for(n=0;n<c;++n)r=x[n],"number"==typeof r.source&&(r.source=b[r.source]),"number"==typeof r.target&&(r.target=b[r.target]),++r.source.weight,++r.target.weight;for(n=0;n<i;++n)r=b[n],isNaN(r.x)&&(r.x=t("x",s)),isNaN(r.y)&&(r.y=t("y",v)),isNaN(r.px)&&(r.px=r.x),isNaN(r.py)&&(r.py=r.y);if(o=[],"function"==typeof h)for(n=0;n<c;++n)o[n]=+h.call(this,x[n],n);else for(n=0;n<c;++n)o[n]=h;if(a=[],"function"==typeof p)for(n=0;n<c;++n)a[n]=+p.call(this,x[n],n);else for(n=0;n<c;++n)a[n]=p;if(u=[],"function"==typeof d)for(n=0;n<i;++n)u[n]=+d.call(this,b[n],n);else for(n=0;n<i;++n)u[n]=d;return l.resume()},l.resume=function(){return l.alpha(.1)},l.stop=function(){return l.alpha(0)},l.drag=function(){if(r||(r=la.behavior.drag().origin(m).on("dragstart.force",Qr).on("drag.force",n).on("dragend.force",ti)),!arguments.length)return r;this.on("mouseover.force",ni).on("mouseout.force",ei).call(r)},la.rebind(l,c,"on")};var gl=20,yl=1,ml=Infinity;la.layout.hierarchy=function(){function t(i){var o,a=[i],u=[];for(i.depth=0;null!=(o=a.pop());)if(u.push(o),(c=e.call(t,o,o.depth))&&(l=c.length)){for(var l,c,f;--l>=0;)a.push(f=c[l]),f.parent=o,f.depth=o.depth+1;r&&(o.value=0),o.children=c}else r&&(o.value=+r.call(t,o,o.depth)||0),delete o.children;return ai(i,function(t){var e,i;n&&(e=t.children)&&e.sort(n),r&&(i=t.parent)&&(i.value+=t.value)}),u}var n=ci,e=ui,r=li;return t.sort=function(e){return arguments.length?(n=e,t):n},t.children=function(n){return arguments.length?(e=n,t):e},t.value=function(n){return arguments.length?(r=n,t):r},t.revalue=function(n){return r&&(oi(n,function(t){t.children&&(t.value=0)}),ai(n,function(n){var e;n.children||(n.value=+r.call(t,n,n.depth)||0),(e=n.parent)&&(e.value+=n.value)})),n},t},la.layout.partition=function(){function t(n,e,r,i){var o=n.children;if(n.x=e,n.y=n.depth*i,n.dx=r,n.dy=i,o&&(a=o.length)){var a,u,l,c=-1;for(r=n.value?r/n.value:0;++c<a;)t(u=o[c],e,l=u.value*r,i),e+=l}}function n(t){var e=t.children,r=0;if(e&&(i=e.length))for(var i,o=-1;++o<i;)r=Math.max(r,n(e[o]));return 1+r}function e(e,o){var a=r.call(this,e,o);return t(a[0],0,i[0],i[1]/n(a[0])),a}var r=la.layout.hierarchy(),i=[1,1];return e.size=function(t){return arguments.length?(i=t,e):i},ii(e,r)},la.layout.pie=function(){function t(a){var u,l=a.length,c=a.map(function(e,r){return+n.call(t,e,r)}),f=+("function"==typeof r?r.apply(this,arguments):r),s=("function"==typeof i?i.apply(this,arguments):i)-f,h=Math.min(Math.abs(s)/l,+("function"==typeof o?o.apply(this,arguments):o)),p=h*(s<0?-1:1),d=la.sum(c),v=d?(s-l*p)/d:0,g=la.range(l),y=[];return null!=e&&g.sort(e===bl?function(t,n){return c[n]-c[t]}:function(t,n){return e(a[t],a[n])}),g.forEach(function(t){y[t]={data:a[t],value:u=c[t],startAngle:f,endAngle:f+=u*v+p,padAngle:h}}),y}var n=Number,e=bl,r=0,i=qa,o=0;return t.value=function(e){return arguments.length?(n=e,t):n},t.sort=function(n){return arguments.length?(e=n,t):e},t.startAngle=function(n){return arguments.length?(r=n,t):r},t.endAngle=function(n){return arguments.length?(i=n,t):i},t.padAngle=function(n){return arguments.length?(o=n,t):o},t};var bl={};la.layout.stack=function(){function t(u,l){if(!(h=u.length))return u;var c=u.map(function(e,r){return n.call(t,e,r)}),f=c.map(function(n){return n.map(function(n,e){return[o.call(t,n,e),a.call(t,n,e)]})}),s=e.call(t,f,l);c=la.permute(c,s),f=la.permute(f,s);var h,p,d,v,g=r.call(t,f,l),y=c[0].length;for(d=0;d<y;++d)for(i.call(t,c[0][d],v=g[d],f[0][d][1]),p=1;p<h;++p)i.call(t,c[p][d],v+=f[p-1][d][1],f[p][d][1]);return u}var n=m,e=di,r=vi,i=pi,o=si,a=hi;return t.values=function(e){return arguments.length?(n=e,t):n},t.order=function(n){return arguments.length?(e="function"==typeof n?n:xl.get(n)||di,t):e},t.offset=function(n){return arguments.length?(r="function"==typeof n?n:wl.get(n)||vi,t):r},t.x=function(n){return arguments.length?(o=n,t):o},t.y=function(n){return arguments.length?(a=n,t):a},t.out=function(n){return arguments.length?(i=n,t):i},t};var xl=la.map({"inside-out":function(t){var n,e,r=t.length,i=t.map(gi),o=t.map(yi),a=la.range(r).sort(function(t,n){return i[t]-i[n]}),u=0,l=0,c=[],f=[];for(n=0;n<r;++n)e=a[n],u<l?(u+=o[e],c.push(e)):(l+=o[e],f.push(e));return f.reverse().concat(c)},reverse:function(t){return la.range(t.length).reverse()},"default":di}),wl=la.map({silhouette:function(t){var n,e,r,i=t.length,o=t[0].length,a=[],u=0,l=[];for(e=0;e<o;++e){for(n=0,r=0;n<i;n++)r+=t[n][e][1];r>u&&(u=r),a.push(r)}for(e=0;e<o;++e)l[e]=(u-a[e])/2;return l},wiggle:function(t){var n,e,r,i,o,a,u,l,c,f=t.length,s=t[0],h=s.length,p=[];for(p[0]=l=c=0,e=1;e<h;++e){for(n=0,i=0;n<f;++n)i+=t[n][e][1];for(n=0,o=0,u=s[e][0]-s[e-1][0];n<f;++n){for(r=0,a=(t[n][e][1]-t[n][e-1][1])/(2*u);r<n;++r)a+=(t[r][e][1]-t[r][e-1][1])/u;o+=a*t[n][e][1]}p[e]=l-=i?o/i*u:0,l<c&&(c=l)}for(e=0;e<h;++e)p[e]-=c;return p},expand:function(t){var n,e,r,i=t.length,o=t[0].length,a=1/i,u=[];for(e=0;e<o;++e){for(n=0,r=0;n<i;n++)r+=t[n][e][1];if(r)for(n=0;n<i;n++)t[n][e][1]/=r;else for(n=0;n<i;n++)t[n][e][1]=a}for(e=0;e<o;++e)u[e]=0;return u},zero:vi});la.layout.histogram=function(){function t(t,o){for(var a,u,l=[],c=t.map(e,this),f=r.call(this,c,o),s=i.call(this,f,c,o),o=-1,h=c.length,p=s.length-1,d=n?1:1/h;++o<p;)a=l[o]=[],a.dx=s[o+1]-(a.x=s[o]),a.y=0;if(p>0)for(o=-1;++o<h;)(u=c[o])>=f[0]&&u<=f[1]&&(a=l[la.bisect(s,u,1,p)-1],a.y+=d,a.push(t[o]));return l}var n=!0,e=Number,r=wi,i=bi;return t.value=function(n){return arguments.length?(e=n,t):e},t.range=function(n){return arguments.length?(r=Et(n),t):r},t.bins=function(n){return arguments.length?(i="number"==typeof n?function(t){return xi(t,n)}:Et(n),t):i},t.frequency=function(e){return arguments.length?(n=!!e,t):n},t},la.layout.pack=function(){function t(t,o){var a=e.call(this,t,o),u=a[0],l=i[0],c=i[1],f=null==n?Math.sqrt:"function"==typeof n?n:function(){return n};if(u.x=u.y=0,ai(u,function(t){t.r=+f(t.value)}),ai(u,Ei),r){var s=r*(n?1:Math.max(2*u.r/l,2*u.r/c))/2;ai(u,function(t){t.r+=s}),ai(u,Ei),ai(u,function(t){t.r-=s})}return Ci(u,l/2,c/2,n?1:1/Math.max(2*u.r/l,2*u.r/c)),a}var n,e=la.layout.hierarchy().sort(_i),r=0,i=[1,1];return t.size=function(n){return arguments.length?(i=n,t):i},t.radius=function(e){return arguments.length?(n=null==e||"function"==typeof e?e:+e,t):n},t.padding=function(n){return arguments.length?(r=+n,t):r},ii(t,e)},la.layout.tree=function(){function t(t,i){var f=a.call(this,t,i),s=f[0],h=n(s);if(ai(h,e),h.parent.m=-h.z,oi(h,r),c)oi(s,o);else{var p=s,d=s,v=s;oi(s,function(t){t.x<p.x&&(p=t),t.x>d.x&&(d=t),t.depth>v.depth&&(v=t)});var g=u(p,d)/2-p.x,y=l[0]/(d.x+u(d,p)/2+g),m=l[1]/(v.depth||1);oi(s,function(t){t.x=(t.x+g)*y,t.y=t.depth*m})}return f}function n(t){for(var n,e={A:null,children:[t]},r=[e];null!=(n=r.pop());)for(var i,o=n.children,a=0,u=o.length;a<u;++a)r.push((o[a]=i={_:o[a],parent:n,children:(i=o[a].children)&&i.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:a}).a=i);return e.children[0]}function e(t){var n=t.children,e=t.parent.children,r=t.i?e[t.i-1]:null;if(n.length){Oi(t);var o=(n[0].z+n[n.length-1].z)/2;r?(t.z=r.z+u(t._,r._),t.m=t.z-o):t.z=o}else r&&(t.z=r.z+u(t._,r._));t.parent.A=i(t,r,t.parent.A||e[0])}function r(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function i(t,n,e){if(n){for(var r,i=t,o=t,a=n,l=i.parent.children[0],c=i.m,f=o.m,s=a.m,h=l.m;a=Ii(a),i=Di(i),a&&i;)l=Di(l),o=Ii(o),o.a=t,r=a.z+s-i.z-c+u(a._,i._),r>0&&(Ri(zi(a,t,e),t,r),c+=r,f+=r),s+=a.m,c+=i.m,h+=l.m,f+=o.m;a&&!Ii(o)&&(o.t=a,o.m+=s-f),i&&!Di(l)&&(l.t=i,l.m+=c-h,e=t)}return e}function o(t){t.x*=l[0],t.y=t.depth*l[1]}var a=la.layout.hierarchy().sort(null).value(null),u=ji,l=[1,1],c=null;return t.separation=function(n){return arguments.length?(u=n,t):u},t.size=function(n){return arguments.length?(c=null==(l=n)?o:null,t):c?null:l},t.nodeSize=function(n){return arguments.length?(c=null==(l=n)?null:o,t):c?l:null},ii(t,a)},la.layout.cluster=function(){function t(t,o){var a,u=n.call(this,t,o),l=u[0],c=0;ai(l,function(t){var n=t.children;n&&n.length?(t.x=qi(n),t.y=Li(n)):(t.x=a?c+=e(t,a):0,t.y=0,a=t)});var f=Fi(l),s=Ui(l),h=f.x-e(f,s)/2,p=s.x+e(s,f)/2;return ai(l,i?function(t){t.x=(t.x-l.x)*r[0],t.y=(l.y-t.y)*r[1]}:function(t){t.x=(t.x-h)/(p-h)*r[0],t.y=(1-(l.y?t.y/l.y:1))*r[1]}),u}var n=la.layout.hierarchy().sort(null).value(null),e=ji,r=[1,1],i=!1;return t.separation=function(n){return arguments.length?(e=n,t):e},t.size=function(n){return arguments.length?(i=null==(r=n),t):i?null:r},t.nodeSize=function(n){return arguments.length?(i=null!=(r=n),t):i?r:null},ii(t,n)},la.layout.treemap=function(){function t(t,n){for(var e,r,i=-1,o=t.length;++i<o;)r=(e=t[i]).value*(n<0?0:n),e.area=isNaN(r)||r<=0?0:r}function n(e){var o=e.children;if(o&&o.length){var a,u,l,c=s(e),f=[],h=o.slice(),d=Infinity,v="slice"===p?c.dx:"dice"===p?c.dy:"slice-dice"===p?1&e.depth?c.dy:c.dx:Math.min(c.dx,c.dy);for(t(h,c.dx*c.dy/e.value),f.area=0;(l=h.length)>0;)f.push(a=h[l-1]),f.area+=a.area,"squarify"!==p||(u=r(f,v))<=d?(h.pop(),d=u):(f.area-=f.pop().area,i(f,v,c,!1),v=Math.min(c.dx,c.dy),f.length=f.area=0,d=Infinity);f.length&&(i(f,v,c,!0),f.length=f.area=0),o.forEach(n)}}function e(n){var r=n.children;if(r&&r.length){var o,a=s(n),u=r.slice(),l=[];for(t(u,a.dx*a.dy/n.value),l.area=0;o=u.pop();)l.push(o),l.area+=o.area,null!=o.z&&(i(l,o.z?a.dx:a.dy,a,!u.length),l.length=l.area=0);r.forEach(e)}}function r(t,n){for(var e,r=t.area,i=0,o=Infinity,a=-1,u=t.length;++a<u;)(e=t[a].area)&&(e<o&&(o=e),e>i&&(i=e));return r*=r,n*=n,r?Math.max(n*i*d/r,r/(n*o*d)):Infinity}function i(t,n,e,r){var i,o=-1,a=t.length,u=e.x,c=e.y,f=n?l(t.area/n):0
;if(n==e.dx){for((r||f>e.dy)&&(f=e.dy);++o<a;)i=t[o],i.x=u,i.y=c,i.dy=f,u+=i.dx=Math.min(e.x+e.dx-u,f?l(i.area/f):0);i.z=!0,i.dx+=e.x+e.dx-u,e.y+=f,e.dy-=f}else{for((r||f>e.dx)&&(f=e.dx);++o<a;)i=t[o],i.x=u,i.y=c,i.dx=f,c+=i.dy=Math.min(e.y+e.dy-c,f?l(i.area/f):0);i.z=!1,i.dy+=e.y+e.dy-c,e.x+=f,e.dx-=f}}function o(r){var i=a||u(r),o=i[0];return o.x=o.y=0,o.value?(o.dx=c[0],o.dy=c[1]):o.dx=o.dy=0,a&&u.revalue(o),t([o],o.dx*o.dy/o.value),(a?e:n)(o),h&&(a=i),i}var a,u=la.layout.hierarchy(),l=Math.round,c=[1,1],f=null,s=$i,h=!1,p="squarify",d=.5*(1+Math.sqrt(5));return o.size=function(t){return arguments.length?(c=t,o):c},o.padding=function(t){function n(n){var e=t.call(o,n,n.depth);return null==e?$i(n):Pi(n,"number"==typeof e?[e,e,e,e]:e)}function e(n){return Pi(n,t)}if(!arguments.length)return f;var r;return s=null==(f=t)?$i:"function"==(r=typeof t)?n:"number"===r?(t=[t,t,t,t],e):e,o},o.round=function(t){return arguments.length?(l=t?Math.round:Number,o):l!=Number},o.sticky=function(t){return arguments.length?(h=t,a=null,o):h},o.ratio=function(t){return arguments.length?(d=t,o):d},o.mode=function(t){return arguments.length?(p=t+"",o):p},ii(o,u)},la.random={normal:function(t,n){var e=arguments.length;return e<2&&(n=1),e<1&&(t=0),function(){var e,r,i;do{e=2*Math.random()-1,r=2*Math.random()-1,i=e*e+r*r}while(!i||i>1);return t+n*e*Math.sqrt(-2*Math.log(i)/i)}},logNormal:function(){var t=la.random.normal.apply(la,arguments);return function(){return Math.exp(t())}},bates:function(t){var n=la.random.irwinHall(t);return function(){return n()/t}},irwinHall:function(t){return function(){for(var n=0,e=0;e<t;e++)n+=Math.random();return n}}},la.scale={};var _l={floor:m,ceil:m};la.scale.linear=function(){return Xi([0,1],[0,1],br,!1)};var Ml={s:1,g:1,p:1,r:1,e:1};la.scale.log=function(){return ro(la.scale.linear().domain([0,1]),10,!0,[1,10])};var kl=la.format(".0e"),Sl={floor:function(t){return-Math.ceil(-t)},ceil:function(t){return-Math.floor(-t)}};la.scale.pow=function(){return io(la.scale.linear(),1,[0,1])},la.scale.sqrt=function(){return la.scale.pow().exponent(.5)},la.scale.ordinal=function(){return ao([],{t:"range",a:[[]]})},la.scale.category10=function(){return la.scale.ordinal().range(El)},la.scale.category20=function(){return la.scale.ordinal().range(Al)},la.scale.category20b=function(){return la.scale.ordinal().range(Nl)},la.scale.category20c=function(){return la.scale.ordinal().range(Cl)};var El=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(bt),Al=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(bt),Nl=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(bt),Cl=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(bt);la.scale.quantile=function(){return uo([],[])},la.scale.quantize=function(){return lo(0,1,[0,1])},la.scale.threshold=function(){return co([.5],[0,1])},la.scale.identity=function(){return fo([0,1])},la.svg={},la.svg.arc=function(){function t(){var t=Math.max(0,+e.apply(this,arguments)),c=Math.max(0,+r.apply(this,arguments)),f=a.apply(this,arguments)-Ua,s=u.apply(this,arguments)-Ua,h=Math.abs(s-f),p=f>s?0:1;if(c<t&&(d=c,c=t,t=d),h>=Fa)return n(c,p)+(t?n(t,1-p):"")+"Z";var d,v,g,y,m,b,x,w,_,M,k,S,E=0,A=0,N=[];if((y=(+l.apply(this,arguments)||0)/2)&&(g=o===Tl?Math.sqrt(t*t+c*c):+o.apply(this,arguments),p||(A*=-1),c&&(A=nt(g/c*Math.sin(y))),t&&(E=nt(g/t*Math.sin(y)))),c){m=c*Math.cos(f+A),b=c*Math.sin(f+A),x=c*Math.cos(s-A),w=c*Math.sin(s-A);var C=Math.abs(s-f-2*A)<=La?0:1;if(A&&mo(m,b,x,w)===p^C){var T=(f+s)/2;m=c*Math.cos(T),b=c*Math.sin(T),x=w=null}}else m=b=0;if(t){_=t*Math.cos(s-E),M=t*Math.sin(s-E),k=t*Math.cos(f+E),S=t*Math.sin(f+E);var j=Math.abs(f-s+2*E)<=La?0:1;if(E&&mo(_,M,k,S)===1-p^j){var D=(f+s)/2;_=t*Math.cos(D),M=t*Math.sin(D),k=S=null}}else _=M=0;if(h>Oa&&(d=Math.min(Math.abs(c-t)/2,+i.apply(this,arguments)))>.001){v=t<c^p?0:1;var I=d,R=d;if(h<La){var O=null==k?[_,M]:null==x?[m,b]:Re([m,b],[k,S],[x,w],[_,M]),z=m-O[0],L=b-O[1],q=x-O[0],F=w-O[1],U=1/Math.sin(Math.acos((z*q+L*F)/(Math.sqrt(z*z+L*L)*Math.sqrt(q*q+F*F)))/2),$=Math.sqrt(O[0]*O[0]+O[1]*O[1]);R=Math.min(d,(t-$)/(U-1)),I=Math.min(d,(c-$)/(U+1))}if(null!=x){var P=bo(null==k?[_,M]:[k,S],[m,b],c,I,p),H=bo([x,w],[_,M],c,I,p);d===I?N.push("M",P[0],"A",I,",",I," 0 0,",v," ",P[1],"A",c,",",c," 0 ",1-p^mo(P[1][0],P[1][1],H[1][0],H[1][1]),",",p," ",H[1],"A",I,",",I," 0 0,",v," ",H[0]):N.push("M",P[0],"A",I,",",I," 0 1,",v," ",H[0])}else N.push("M",m,",",b);if(null!=k){var V=bo([m,b],[k,S],t,-R,p),Y=bo([_,M],null==x?[m,b]:[x,w],t,-R,p);d===R?N.push("L",Y[0],"A",R,",",R," 0 0,",v," ",Y[1],"A",t,",",t," 0 ",p^mo(Y[1][0],Y[1][1],V[1][0],V[1][1]),",",1-p," ",V[1],"A",R,",",R," 0 0,",v," ",V[0]):N.push("L",Y[0],"A",R,",",R," 0 0,",v," ",V[0])}else N.push("L",_,",",M)}else N.push("M",m,",",b),null!=x&&N.push("A",c,",",c," 0 ",C,",",p," ",x,",",w),N.push("L",_,",",M),null!=k&&N.push("A",t,",",t," 0 ",j,",",1-p," ",k,",",S);return N.push("Z"),N.join("")}function n(t,n){return"M0,"+t+"A"+t+","+t+" 0 1,"+n+" 0,"+-t+"A"+t+","+t+" 0 1,"+n+" 0,"+t}var e=ho,r=po,i=so,o=Tl,a=vo,u=go,l=yo;return t.innerRadius=function(n){return arguments.length?(e=Et(n),t):e},t.outerRadius=function(n){return arguments.length?(r=Et(n),t):r},t.cornerRadius=function(n){return arguments.length?(i=Et(n),t):i},t.padRadius=function(n){return arguments.length?(o=n==Tl?Tl:Et(n),t):o},t.startAngle=function(n){return arguments.length?(a=Et(n),t):a},t.endAngle=function(n){return arguments.length?(u=Et(n),t):u},t.padAngle=function(n){return arguments.length?(l=Et(n),t):l},t.centroid=function(){var t=(+e.apply(this,arguments)+ +r.apply(this,arguments))/2,n=(+a.apply(this,arguments)+ +u.apply(this,arguments))/2-Ua;return[Math.cos(n)*t,Math.sin(n)*t]},t};var Tl="auto";la.svg.line=function(){return xo(m)};var jl=la.map({linear:wo,"linear-closed":_o,step:Mo,"step-before":ko,"step-after":So,basis:jo,"basis-open":Do,"basis-closed":Io,bundle:Ro,cardinal:No,"cardinal-open":Eo,"cardinal-closed":Ao,monotone:Uo});jl.forEach(function(t,n){n.key=t,n.closed=/-closed$/.test(t)});var Dl=[0,2/3,1/3,0],Il=[0,1/3,2/3,0],Rl=[0,1/6,2/3,1/6];la.svg.line.radial=function(){var t=xo($o);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t},ko.reverse=So,So.reverse=ko,la.svg.area=function(){return Po(m)},la.svg.area.radial=function(){var t=Po($o);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},la.svg.chord=function(){function t(t,u){var l=n(this,o,t,u),c=n(this,a,t,u);return"M"+l.p0+r(l.r,l.p1,l.a1-l.a0)+(e(l,c)?i(l.r,l.p1,l.r,l.p0):i(l.r,l.p1,c.r,c.p0)+r(c.r,c.p1,c.a1-c.a0)+i(c.r,c.p1,l.r,l.p0))+"Z"}function n(t,n,e,r){var i=n.call(t,e,r),o=u.call(t,i,r),a=l.call(t,i,r)-Ua,f=c.call(t,i,r)-Ua;return{r:o,a0:a,a1:f,p0:[o*Math.cos(a),o*Math.sin(a)],p1:[o*Math.cos(f),o*Math.sin(f)]}}function e(t,n){return t.a0==n.a0&&t.a1==n.a1}function r(t,n,e){return"A"+t+","+t+" 0 "+ +(e>La)+",1 "+n}function i(t,n,e,r){return"Q 0,0 "+r}var o=be,a=xe,u=Ho,l=vo,c=go;return t.radius=function(n){return arguments.length?(u=Et(n),t):u},t.source=function(n){return arguments.length?(o=Et(n),t):o},t.target=function(n){return arguments.length?(a=Et(n),t):a},t.startAngle=function(n){return arguments.length?(l=Et(n),t):l},t.endAngle=function(n){return arguments.length?(c=Et(n),t):c},t},la.svg.diagonal=function(){function t(t,i){var o=n.call(this,t,i),a=e.call(this,t,i),u=(o.y+a.y)/2,l=[o,{x:o.x,y:u},{x:a.x,y:u},a];return l=l.map(r),"M"+l[0]+"C"+l[1]+" "+l[2]+" "+l[3]}var n=be,e=xe,r=Vo;return t.source=function(e){return arguments.length?(n=Et(e),t):n},t.target=function(n){return arguments.length?(e=Et(n),t):e},t.projection=function(n){return arguments.length?(r=n,t):r},t},la.svg.diagonal.radial=function(){var t=la.svg.diagonal(),n=Vo,e=t.projection;return t.projection=function(t){return arguments.length?e(Yo(n=t)):n},t},la.svg.symbol=function(){function t(t,r){return(Ol.get(n.call(this,t,r))||Wo)(e.call(this,t,r))}var n=Zo,e=Bo;return t.type=function(e){return arguments.length?(n=Et(e),t):n},t.size=function(n){return arguments.length?(e=Et(n),t):e},t};var Ol=la.map({circle:Wo,cross:function(t){var n=Math.sqrt(t/5)/2;return"M"+-3*n+","+-n+"H"+-n+"V"+-3*n+"H"+n+"V"+-n+"H"+3*n+"V"+n+"H"+n+"V"+3*n+"H"+-n+"V"+n+"H"+-3*n+"Z"},diamond:function(t){var n=Math.sqrt(t/(2*Ll)),e=n*Ll;return"M0,"+-n+"L"+e+",0 0,"+n+" "+-e+",0Z"},square:function(t){var n=Math.sqrt(t)/2;return"M"+-n+","+-n+"L"+n+","+-n+" "+n+","+n+" "+-n+","+n+"Z"},"triangle-down":function(t){var n=Math.sqrt(t/zl),e=n*zl/2;return"M0,"+e+"L"+n+","+-e+" "+-n+","+-e+"Z"},"triangle-up":function(t){var n=Math.sqrt(t/zl),e=n*zl/2;return"M0,"+-e+"L"+n+","+e+" "+-n+","+e+"Z"}});la.svg.symbolTypes=Ol.keys();var zl=Math.sqrt(3),Ll=Math.tan(30*$a);Aa.transition=function(t){for(var n,e,r=ql||++Pl,i=Qo(t),o=[],a=Fl||{time:Date.now(),ease:Er,delay:0,duration:250},u=-1,l=this.length;++u<l;){o.push(n=[]);for(var c=this[u],f=-1,s=c.length;++f<s;)(e=c[f])&&ta(e,f,i,r,a),n.push(e)}return Jo(o,i,r)},Aa.interrupt=function(t){return this.each(null==t?Ul:Xo(Qo(t)))};var ql,Fl,Ul=Xo(Qo()),$l=[],Pl=0;$l.call=Aa.call,$l.empty=Aa.empty,$l.node=Aa.node,$l.size=Aa.size,la.transition=function(t,n){return t&&t.transition?ql?t.transition(n):t:la.selection().transition(t)},la.transition.prototype=$l,$l.select=function(t){var n,e,r,i=this.id,o=this.namespace,a=[];t=N(t);for(var u=-1,l=this.length;++u<l;){a.push(n=[]);for(var c=this[u],f=-1,s=c.length;++f<s;)(r=c[f])&&(e=t.call(r,r.__data__,f,u))?("__data__"in r&&(e.__data__=r.__data__),ta(e,f,o,i,r[o][i]),n.push(e)):n.push(null)}return Jo(a,o,i)},$l.selectAll=function(t){var n,e,r,i,o,a=this.id,u=this.namespace,l=[];t=C(t);for(var c=-1,f=this.length;++c<f;)for(var s=this[c],h=-1,p=s.length;++h<p;)if(r=s[h]){o=r[u][a],e=t.call(r,r.__data__,h,c),l.push(n=[]);for(var d=-1,v=e.length;++d<v;)(i=e[d])&&ta(i,d,u,a,o),n.push(i)}return Jo(l,u,a)},$l.filter=function(t){var n,e,r,i=[];"function"!=typeof t&&(t=$(t));for(var o=0,a=this.length;o<a;o++){i.push(n=[]);for(var e=this[o],u=0,l=e.length;u<l;u++)(r=e[u])&&t.call(r,r.__data__,u,o)&&n.push(r)}return Jo(i,this.namespace,this.id)},$l.tween=function(t,n){var e=this.id,r=this.namespace;return arguments.length<2?this.node()[r][e].tween.get(t):H(this,null==n?function(n){n[r][e].tween.remove(t)}:function(i){i[r][e].tween.set(t,n)})},$l.attr=function(t,n){function e(){this.removeAttribute(u)}function r(){this.removeAttributeNS(u.space,u.local)}function i(t){return null==t?e:(t+="",function(){var n,e=this.getAttribute(u);return e!==t&&(n=a(e,t),function(t){this.setAttribute(u,n(t))})})}function o(t){return null==t?r:(t+="",function(){var n,e=this.getAttributeNS(u.space,u.local);return e!==t&&(n=a(e,t),function(t){this.setAttributeNS(u.space,u.local,n(t))})})}if(arguments.length<2){for(n in t)this.attr(n,t[n]);return this}var a="transform"==t?Zr:br,u=la.ns.qualify(t);return Ko(this,"attr."+t,n,u.local?o:i)},$l.attrTween=function(t,n){function e(t,e){var r=n.call(this,t,e,this.getAttribute(i));return r&&function(t){this.setAttribute(i,r(t))}}function r(t,e){var r=n.call(this,t,e,this.getAttributeNS(i.space,i.local));return r&&function(t){this.setAttributeNS(i.space,i.local,r(t))}}var i=la.ns.qualify(t);return this.tween("attr."+t,i.local?r:e)},$l.style=function(t,e,r){function i(){this.style.removeProperty(t)}function o(e){return null==e?i:(e+="",function(){var i,o=n(this).getComputedStyle(this,null).getPropertyValue(t);return o!==e&&(i=br(o,e),function(n){this.style.setProperty(t,i(n),r)})})}var a=arguments.length;if(a<3){if("string"!=typeof t){a<2&&(e="");for(r in t)this.style(r,t[r],e);return this}r=""}return Ko(this,"style."+t,e,o)},$l.styleTween=function(t,e,r){function i(i,o){var a=e.call(this,i,o,n(this).getComputedStyle(this,null).getPropertyValue(t));return a&&function(n){this.style.setProperty(t,a(n),r)}}return arguments.length<3&&(r=""),this.tween("style."+t,i)},$l.text=function(t){return Ko(this,"text",t,Go)},$l.remove=function(){var t=this.namespace;return this.each("end.transition",function(){var n;this[t].count<2&&(n=this.parentNode)&&n.removeChild(this)})},$l.ease=function(t){var n=this.id,e=this.namespace;return arguments.length<1?this.node()[e][n].ease:("function"!=typeof t&&(t=la.ease.apply(la,arguments)),H(this,function(r){r[e][n].ease=t}))},$l.delay=function(t){var n=this.id,e=this.namespace;return arguments.length<1?this.node()[e][n].delay:H(this,"function"==typeof t?function(r,i,o){r[e][n].delay=+t.call(r,r.__data__,i,o)}:(t=+t,function(r){r[e][n].delay=t}))},$l.duration=function(t){var n=this.id,e=this.namespace;return arguments.length<1?this.node()[e][n].duration:H(this,"function"==typeof t?function(r,i,o){r[e][n].duration=Math.max(1,t.call(r,r.__data__,i,o))}:(t=Math.max(1,t),function(r){r[e][n].duration=t}))},$l.each=function(t,n){var e=this.id,r=this.namespace;if(arguments.length<2){var i=Fl,o=ql;try{ql=e,H(this,function(n,i,o){Fl=n[r][e],t.call(n,n.__data__,i,o)})}finally{Fl=i,ql=o}}else H(this,function(i){var o=i[r][e];(o.event||(o.event=la.dispatch("start","end","interrupt"))).on(t,n)});return this},$l.transition=function(){for(var t,n,e,r,i=this.id,o=++Pl,a=this.namespace,u=[],l=0,c=this.length;l<c;l++){u.push(t=[]);for(var n=this[l],f=0,s=n.length;f<s;f++)(e=n[f])&&(r=e[a][i],ta(e,f,a,o,{time:r.time,ease:r.ease,delay:r.delay+r.duration,duration:r.duration})),t.push(e)}return Jo(u,a,o)},la.svg.axis=function(){function t(t){t.each(function(){var t,c=la.select(this),f=this.__chart__||e,s=this.__chart__=e.copy(),h=null==l?s.ticks?s.ticks.apply(s,u):s.domain():l,p=null==n?s.tickFormat?s.tickFormat.apply(s,u):m:n,d=c.selectAll(".tick").data(h,s),v=d.enter().insert("g",".domain").attr("class","tick").style("opacity",Oa),g=la.transition(d.exit()).style("opacity",Oa).remove(),y=la.transition(d.order()).style("opacity",1),b=Math.max(i,0)+a,x=Vi(s),w=c.selectAll(".domain").data([0]),_=(w.enter().append("path").attr("class","domain"),la.transition(w));v.append("line"),v.append("text");var M,k,S,E,A=v.select("line"),N=y.select("line"),C=d.select("text").text(p),T=v.select("text"),j=y.select("text"),D="top"===r||"left"===r?-1:1;if("bottom"===r||"top"===r?(t=na,M="x",S="y",k="x2",E="y2",C.attr("dy",D<0?"0em":".71em").style("text-anchor","middle"),_.attr("d","M"+x[0]+","+D*o+"V0H"+x[1]+"V"+D*o)):(t=ea,M="y",S="x",k="y2",E="x2",C.attr("dy",".32em").style("text-anchor",D<0?"end":"start"),_.attr("d","M"+D*o+","+x[0]+"H0V"+x[1]+"H"+D*o)),A.attr(E,D*i),T.attr(S,D*b),N.attr(k,0).attr(E,D*i),j.attr(M,0).attr(S,D*b),s.rangeBand){var I=s,R=I.rangeBand()/2;f=s=function(t){return I(t)+R}}else f.rangeBand?f=s:g.call(t,s,f);v.call(t,f,s),y.call(t,s,s)})}var n,e=la.scale.linear(),r=Hl,i=6,o=6,a=3,u=[10],l=null;return t.scale=function(n){return arguments.length?(e=n,t):e},t.orient=function(n){return arguments.length?(r=n in Vl?n+"":Hl,t):r},t.ticks=function(){return arguments.length?(u=fa(arguments),t):u},t.tickValues=function(n){return arguments.length?(l=n,t):l},t.tickFormat=function(e){return arguments.length?(n=e,t):n},t.tickSize=function(n){var e=arguments.length;return e?(i=+n,o=+arguments[e-1],t):i},t.innerTickSize=function(n){return arguments.length?(i=+n,t):i},t.outerTickSize=function(n){return arguments.length?(o=+n,t):o},t.tickPadding=function(n){return arguments.length?(a=+n,t):a},t.tickSubdivide=function(){return arguments.length&&t},t};var Hl="bottom",Vl={top:1,right:1,bottom:1,left:1};la.svg.brush=function(){function t(n){n.each(function(){var n=la.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",o).on("touchstart.brush",o),a=n.selectAll(".background").data([0]);a.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),n.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var u=n.selectAll(".resize").data(v,m);u.exit().remove(),u.enter().append("g").attr("class",function(t){return"resize "+t}).style("cursor",function(t){return Yl[t]}).append("rect").attr("x",function(t){return/[ew]$/.test(t)?-3:null}).attr("y",function(t){return/^[ns]/.test(t)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),u.style("display",t.empty()?"none":null);var l,s=la.transition(n),h=la.transition(a);c&&(l=Vi(c),h.attr("x",l[0]).attr("width",l[1]-l[0]),r(s)),f&&(l=Vi(f),h.attr("y",l[0]).attr("height",l[1]-l[0]),i(s)),e(s)})}function e(t){t.selectAll(".resize").attr("transform",function(t){return"translate("+s[+/e$/.test(t)]+","+h[+/^s/.test(t)]+")"})}function r(t){t.select(".extent").attr("x",s[0]),t.selectAll(".extent,.n>rect,.s>rect").attr("width",s[1]-s[0])}function i(t){t.select(".extent").attr("y",h[0]),t.selectAll(".extent,.e>rect,.w>rect").attr("height",h[1]-h[0])}function o(){function o(){32==la.event.keyCode&&(C||(b=null,j[0]-=s[1],j[1]-=h[1],C=2),k())}function v(){32==la.event.keyCode&&2==C&&(j[0]+=s[1],j[1]+=h[1],C=0,k())}function g(){var t=la.mouse(w),n=!1;x&&(t[0]+=x[0],t[1]+=x[1]),C||(la.event.altKey?(b||(b=[(s[0]+s[1])/2,(h[0]+h[1])/2]),j[0]=s[+(t[0]<b[0])],j[1]=h[+(t[1]<b[1])]):b=null),A&&y(t,c,0)&&(r(S),n=!0),N&&y(t,f,1)&&(i(S),n=!0),n&&(e(S),M({type:"brush",mode:C?"move":"resize"}))}function y(t,n,e){var r,i,o=Vi(n),l=o[0],c=o[1],f=j[e],v=e?h:s,g=v[1]-v[0];if(C&&(l-=f,c-=g+f),r=(e?d:p)?Math.max(l,Math.min(c,t[e])):t[e],C?i=(r+=f)+g:(b&&(f=Math.max(l,Math.min(c,2*b[e]-r))),f<r?(i=r,r=f):i=f),v[0]!=r||v[1]!=i)return e?u=null:a=null,v[0]=r,v[1]=i,!0}function m(){g(),S.style("pointer-events","all").selectAll(".resize").style("display",t.empty()?"none":null),la.select("body").style("cursor",null),D.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),T(),M({type:"brushend"})}var b,x,w=this,_=la.select(la.event.target),M=l.of(w,arguments),S=la.select(w),E=_.datum(),A=!/^(n|s)$/.test(E)&&c,N=!/^(e|w)$/.test(E)&&f,C=_.classed("extent"),T=X(w),j=la.mouse(w),D=la.select(n(w)).on("keydown.brush",o).on("keyup.brush",v);if(la.event.changedTouches?D.on("touchmove.brush",g).on("touchend.brush",m):D.on("mousemove.brush",g).on("mouseup.brush",m),S.interrupt().selectAll("*").interrupt(),C)j[0]=s[0]-j[0],j[1]=h[0]-j[1];else if(E){var I=+/w$/.test(E),R=+/^n/.test(E);x=[s[1-I]-j[0],h[1-R]-j[1]],j[0]=s[I],j[1]=h[R]}else la.event.altKey&&(b=j.slice());S.style("pointer-events","none").selectAll(".resize").style("display",null),la.select("body").style("cursor",_.style("cursor")),M({type:"brushstart"}),g()}var a,u,l=E(t,"brushstart","brush","brushend"),c=null,f=null,s=[0,0],h=[0,0],p=!0,d=!0,v=Bl[0];return t.event=function(t){t.each(function(){var t=l.of(this,arguments),n={x:s,y:h,i:a,j:u},e=this.__chart__||n;this.__chart__=n,ql?la.select(this).transition().each("start.brush",function(){a=e.i,u=e.j,s=e.x,h=e.y,t({type:"brushstart"})}).tween("brush:brush",function(){var e=xr(s,n.x),r=xr(h,n.y);return a=u=null,function(i){s=n.x=e(i),h=n.y=r(i),t({type:"brush",mode:"resize"})}}).each("end.brush",function(){a=n.i,u=n.j,t({type:"brush",mode:"resize"}),t({type:"brushend"})}):(t({type:"brushstart"}),t({type:"brush",mode:"resize"}),t({type:"brushend"}))})},t.x=function(n){return arguments.length?(c=n,v=Bl[!c<<1|!f],t):c},t.y=function(n){return arguments.length?(f=n,v=Bl[!c<<1|!f],t):f},t.clamp=function(n){return arguments.length?(c&&f?(p=!!n[0],d=!!n[1]):c?p=!!n:f&&(d=!!n),t):c&&f?[p,d]:c?p:f?d:null},t.extent=function(n){var e,r,i,o,l;return arguments.length?(c&&(e=n[0],r=n[1],f&&(e=e[0],r=r[0]),a=[e,r],c.invert&&(e=c(e),r=c(r)),r<e&&(l=e,e=r,r=l),e==s[0]&&r==s[1]||(s=[e,r])),f&&(i=n[0],o=n[1],c&&(i=i[1],o=o[1]),u=[i,o],f.invert&&(i=f(i),o=f(o)),o<i&&(l=i,i=o,o=l),i==h[0]&&o==h[1]||(h=[i,o])),t):(c&&(a?(e=a[0],r=a[1]):(e=s[0],r=s[1],c.invert&&(e=c.invert(e),r=c.invert(r)),r<e&&(l=e,e=r,r=l))),f&&(u?(i=u[0],o=u[1]):(i=h[0],o=h[1],f.invert&&(i=f.invert(i),o=f.invert(o)),o<i&&(l=i,i=o,o=l))),c&&f?[[e,i],[r,o]]:c?[e,r]:f&&[i,o])},t.clear=function(){return t.empty()||(s=[0,0],h=[0,0],a=u=null),t},t.empty=function(){return!!c&&s[0]==s[1]||!!f&&h[0]==h[1]},la.rebind(t,l,"on")};var Yl={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Bl=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Zl=hu.format=mu.timeFormat,Wl=Zl.utc,Xl=Wl("%Y-%m-%dT%H:%M:%S.%LZ");Zl.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?ra:Xl,ra.parse=function(t){var n=new Date(t);return isNaN(n)?null:n},ra.toString=Xl.toString,hu.second=Ut(function(t){return new pu(1e3*Math.floor(t/1e3))},function(t,n){t.setTime(t.getTime()+1e3*Math.floor(n))},function(t){return t.getSeconds()}),hu.seconds=hu.second.range,hu.seconds.utc=hu.second.utc.range,hu.minute=Ut(function(t){return new pu(6e4*Math.floor(t/6e4))},function(t,n){t.setTime(t.getTime()+6e4*Math.floor(n))},function(t){return t.getMinutes()}),hu.minutes=hu.minute.range,hu.minutes.utc=hu.minute.utc.range,hu.hour=Ut(function(t){var n=t.getTimezoneOffset()/60;return new pu(36e5*(Math.floor(t/36e5-n)+n))},function(t,n){t.setTime(t.getTime()+36e5*Math.floor(n))},function(t){return t.getHours()}),hu.hours=hu.hour.range,hu.hours.utc=hu.hour.utc.range,hu.month=Ut(function(t){return t=hu.day(t),t.setDate(1),t},function(t,n){t.setMonth(t.getMonth()+n)},function(t){return t.getMonth()}),hu.months=hu.month.range,hu.months.utc=hu.month.utc.range;var Jl=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Kl=[[hu.second,1],[hu.second,5],[hu.second,15],[hu.second,30],[hu.minute,1],[hu.minute,5],[hu.minute,15],[hu.minute,30],[hu.hour,1],[hu.hour,3],[hu.hour,6],[hu.hour,12],[hu.day,1],[hu.day,2],[hu.week,1],[hu.month,1],[hu.month,3],[hu.year,1]],Gl=Zl.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%a %d",function(t){return t.getDay()&&1!=t.getDate()}],["%b %d",function(t){return 1!=t.getDate()}],["%B",function(t){return t.getMonth()}],["%Y",Tn]]),Ql={range:function(t,n,e){return la.range(Math.ceil(t/e)*e,+n,e).map(oa)},floor:m,ceil:m};Kl.year=hu.year,hu.scale=function(){return ia(la.scale.linear(),Kl,Gl)};var tc=Kl.map(function(t){return[t[0].utc,t[1]]}),nc=Wl.multi([[".%L",function(t){return t.getUTCMilliseconds()}],[":%S",function(t){return t.getUTCSeconds()}],["%I:%M",function(t){return t.getUTCMinutes()}],["%I %p",function(t){return t.getUTCHours()}],["%a %d",function(t){return t.getUTCDay()&&1!=t.getUTCDate()}],["%b %d",function(t){return 1!=t.getUTCDate()}],["%B",function(t){return t.getUTCMonth()}],["%Y",Tn]]);tc.year=hu.year.utc,hu.scale.utc=function(){return ia(la.scale.linear(),tc,nc)},la.text=At(function(t){return t.responseText}),la.json=function(t,n){return Nt(t,"application/json",aa,n)},la.html=function(t,n){return Nt(t,"text/html",ua,n)},la.xml=At(function(t){return t.responseXML}),"function"==typeof define&&define.amd?(this.d3=la,define(la)):"object"==typeof module&&module.exports?module.exports=la:this.d3=la}(),function(t){function n(t){return t}function e(t,n){for(var e=0,r=n.length,i=new Array(r);e<r;++e)i[e]=t[n[e]];return i}function r(t){function n(n,e,r,i){for(;r<i;){var o=r+i>>>1;t(n[o])<e?r=o+1:i=o}return r}function e(n,e,r,i){for(;r<i;){var o=r+i>>>1;e<t(n[o])?i=o:r=o+1}return r}return e.right=e,e.left=n,e}function i(t){function n(t,n,e){for(var i=e-n,o=1+(i>>>1);--o>0;)r(t,o,i,n);return t}function e(t,n,e){for(var i,o=e-n;--o>0;)i=t[n],t[n]=t[n+o],t[n+o]=i,r(t,1,o,n);return t}function r(n,e,r,i){for(var o,a=n[--i+e],u=t(a);(o=e<<1)<=r&&(o<r&&t(n[i+o])>t(n[i+o+1])&&o++,!(u<=t(n[i+o])));)n[i+e]=n[i+o],e=o;n[i+e]=a}return n.sort=e,n}function o(t){function n(n,r,i,o){var a,u,l,c=new Array(o=Math.min(i-r,o));for(u=0;u<o;++u)c[u]=n[r++];if(e(c,0,o),r<i){a=t(c[0]);do{t(l=n[r])>a&&(c[0]=l,a=t(e(c,0,o)[0]))}while(++r<i)}return c}var e=i(t);return n}function a(t){function n(n,e,r){for(var i=e+1;i<r;++i){for(var o=i,a=n[i],u=t(a);o>e&&t(n[o-1])>u;--o)n[o]=n[o-1];n[o]=a}return n}return n}function u(t){function n(t,n,i){return(i-n<S?r:e)(t,n,i)}function e(e,r,i){var o,a=(i-r)/6|0,u=r+a,l=i-1-a,c=r+i-1>>1,f=c-a,s=c+a,h=e[u],p=t(h),d=e[f],v=t(d),g=e[c],y=t(g),m=e[s],b=t(m),x=e[l],w=t(x);p>v&&(o=h,h=d,d=o,o=p,p=v,v=o),b>w&&(o=m,m=x,x=o,o=b,b=w,w=o),p>y&&(o=h,h=g,g=o,o=p,p=y,y=o),v>y&&(o=d,d=g,g=o,o=v,v=y,y=o),p>b&&(o=h,h=m,m=o,o=p,p=b,b=o),y>b&&(o=g,g=m,m=o,o=y,y=b,b=o),v>w&&(o=d,d=x,x=o,o=v,v=w,w=o),v>y&&(o=d,d=g,g=o,o=v,v=y,y=o),b>w&&(o=m,m=x,x=o,o=b,b=w,w=o);var _=d,M=v,k=m,S=b;e[u]=h,e[f]=e[r],e[c]=g,e[s]=e[i-1],e[l]=x;var E=r+1,A=i-2,N=M<=S&&M>=S;if(N)for(var C=E;C<=A;++C){var T=e[C],j=t(T);if(j<M)C!==E&&(e[C]=e[E],e[E]=T),++E;else if(j>M)for(;;){var D=t(e[A]);{if(!(D>M)){if(D<M){e[C]=e[E],e[E++]=e[A],e[A--]=T;break}e[C]=e[A],e[A--]=T;break}A--}}}else for(var C=E;C<=A;C++){var T=e[C],j=t(T);if(j<M)C!==E&&(e[C]=e[E],e[E]=T),++E;else if(j>S)for(;;){var D=t(e[A]);{if(!(D>S)){D<M?(e[C]=e[E],e[E++]=e[A],e[A--]=T):(e[C]=e[A],e[A--]=T);break}if(--A<C)break}}}if(e[r]=e[E-1],e[E-1]=_,e[i-1]=e[A+1],e[A+1]=k,n(e,r,E-1),n(e,A+2,i),N)return e;if(E<u&&A>l){for(var I,D;(I=t(e[E]))<=M&&I>=M;)++E;for(;(D=t(e[A]))<=S&&D>=S;)--A;for(var C=E;C<=A;C++){var T=e[C],j=t(T);if(j<=M&&j>=M)C!==E&&(e[C]=e[E],e[E]=T),E++;else if(j<=S&&j>=S)for(;;){var D=t(e[A]);{if(!(D<=S&&D>=S)){D<M?(e[C]=e[E],e[E++]=e[A],e[A--]=T):(e[C]=e[A],e[A--]=T);break}if(--A<C)break}}}}return n(e,E,A+1)}var r=a(t);return n}function l(t){for(var n=new Array(t),e=-1;++e<t;)n[e]=0;return n}function c(t,n){for(var e=t.length;e<n;)t[e++]=0;return t}function f(t,n){if(n>32)throw new Error("invalid array width!");return t}function s(t,n){return function(e){var r=e.length;return[t.left(e,n,0,r),t.right(e,n,0,r)]}}function h(t,n){var e=n[0],r=n[1];return function(n){var i=n.length;return[t.left(n,e,0,i),t.left(n,r,0,i)]}}function p(t){return[0,t.length]}function d(){return null}function v(){return 0}function g(t){return t+1}function y(t){return t-1}function m(t){return function(n,e){return n+ +t(e)}}function b(t){return function(n,e){return n-t(e)}}function x(){function t(t){var n=S,e=t.length;return e&&(x=x.concat(t),j=C(j,S+=e),I.forEach(function(r){r(t,n,e)})),f}function r(){for(var t=w(S,S),n=[],e=0,r=0;e<S;++e)j[e]?t[e]=r++:n.push(e);D.forEach(function(t){t(0,[],n)}),R.forEach(function(n){n(t)});for(var i,e=0,r=0;e<S;++e)(i=j[e])&&(e!==r&&(j[r]=i,x[r]=x[e]),++r);for(x.length=r;S>r;)j[--S]=0}function a(t){function r(n,r,i){B=n.map(t),Z=G(_(i),0,i),B=e(B,Z);var o,a=Q(B),u=a[0],l=a[1];if(W)for(o=0;o<i;++o)W(B[o],o)||(j[Z[o]+r]|=J);else{for(o=0;o<u;++o)j[Z[o]+r]|=J;for(o=l;o<i;++o)j[Z[o]+r]|=J}if(!r)return V=B,Y=Z,et=u,void(rt=l);var c=V,f=Y,s=0,h=0;for(V=new Array(S),Y=w(S,S),o=0;s<r&&h<i;++o)c[s]<B[h]?(V[o]=c[s],Y[o]=f[s++]):(V[o]=B[h],Y[o]=Z[h++]+r);for(;s<r;++s,++o)V[o]=c[s],Y[o]=f[s];for(;h<i;++h,++o)V[o]=B[h],Y[o]=Z[h]+r;a=Q(V),et=a[0],rt=a[1]}function a(t,n,e){tt.forEach(function(t){t(B,Z,n,e)}),B=Z=null}function l(t){for(var n,e=0,r=0;e<S;++e)j[n=Y[e]]&&(e!==r&&(V[r]=V[e]),Y[r]=t[n],++r);for(V.length=r;r<S;)Y[r++]=0;var i=Q(V);et=i[0],rt=i[1]}function c(t){var n=t[0],e=t[1];if(W)return W=null,q(function(t,r){return n<=r&&r<e}),et=n,rt=e,X;var r,i,o,a=[],u=[];if(n<et)for(r=n,i=Math.min(et,e);r<i;++r)j[o=Y[r]]^=J,a.push(o);else if(n>et)for(r=et,i=Math.min(n,rt);r<i;++r)j[o=Y[r]]^=J,u.push(o);if(e>rt)for(r=Math.max(n,rt),i=e;r<i;++r)j[o=Y[r]]^=J,a.push(o);else if(e<rt)for(r=Math.max(et,e),i=rt;r<i;++r)j[o=Y[r]]^=J,u.push(o);return et=n,rt=e,D.forEach(function(t){t(J,a,u)}),X}function f(t){return null==t?z():Array.isArray(t)?O(t):"function"==typeof t?L(t):E(t)}function E(t){return c((Q=s(k,t))(V))}function O(t){return c((Q=h(k,t))(V))}function z(){return c((Q=p)(V))}function L(t){return Q=p,q(W=t),et=0,rt=S,X}function q(t){var n,e,r,i=[],o=[];for(n=0;n<S;++n)!(j[e=Y[n]]&J)^!!(r=t(V[n],n))&&(r?(j[e]&=K,i.push(e)):(j[e]|=J,o.push(e)));D.forEach(function(t){t(J,i,o)})}function F(t){for(var n,e=[],r=rt;--r>=et&&t>0;)j[n=Y[r]]||(e.push(x[n]),--t);return e}function U(t){for(var n,e=[],r=et;r<rt&&t>0;)j[n=Y[r]]||(e.push(x[n]),--t),r++;return e}function $(t){function e(n,e,r,i){function o(){++B===H&&(m=T(m,P<<=1),z=T(z,P),H=M(P))}var f,s,h,p,v,g,y=O,m=w(B,H),b=F,_=$,k=B,E=0,A=0;for(X&&(b=_=d),O=new Array(B),B=0,z=k>1?C(z,S):w(S,H),k&&(h=(s=y[0]).key);A<i&&!((p=t(n[A]))>=p);)++A;for(;A<i;){for(s&&h<=p?(v=s,g=h,m[E]=B,(s=y[++E])&&(h=s.key)):(v={key:p,value:_()},g=p),O[B]=v;!(p>g||(z[f=e[A]+r]=B,j[f]&K||(v.value=b(v.value,x[f])),++A>=i));)p=t(n[A]);o()}for(;E<k;)O[m[E]=B]=y[E++],o();if(B>E)for(E=0;E<r;++E)z[E]=m[z[E]];f=D.indexOf(Z),B>1?(Z=a,W=l):(!B&&G&&(B=1,O=[{key:null,value:_()}]),1===B?(Z=u,W=c):(Z=d,W=d),z=null),D[f]=Z}function r(){if(B>1){for(var t=B,n=O,e=w(t,t),r=0,i=0;r<S;++r)j[r]&&(e[z[i]=z[r]]=1,++i);for(O=[],B=0,r=0;r<t;++r)e[r]&&(e[r]=B++,O.push(n[r]));if(B>1)for(var r=0;r<i;++r)z[r]=e[z[r]];else z=null;D[D.indexOf(Z)]=B>1?(W=l,Z=a):1===B?(W=c,Z=u):W=Z=d}else if(1===B){if(G)return;for(var r=0;r<S;++r)if(j[r])return;O=[],B=0,D[D.indexOf(Z)]=Z=W=d}}function a(t,n,e){if(t!==J&&!X){var r,i,o,a;for(r=0,o=n.length;r<o;++r)j[i=n[r]]&K||(a=O[z[i]],a.value=F(a.value,x[i]));for(r=0,o=e.length;r<o;++r)(j[i=e[r]]&K)===t&&(a=O[z[i]],a.value=U(a.value,x[i]))}}function u(t,n,e){if(t!==J&&!X){var r,i,o,a=O[0];for(r=0,o=n.length;r<o;++r)j[i=n[r]]&K||(a.value=F(a.value,x[i]));for(r=0,o=e.length;r<o;++r)(j[i=e[r]]&K)===t&&(a.value=U(a.value,x[i]))}}function l(){var t,n;for(t=0;t<B;++t)O[t].value=$();for(t=0;t<S;++t)j[t]&K||(n=O[z[t]],n.value=F(n.value,x[t]))}function c(){var t,n=O[0];for(n.value=$(),t=0;t<S;++t)j[t]&K||(n.value=F(n.value,x[t]))}function f(){return X&&(W(),X=!1),O}function s(t){var n=L(f(),0,O.length,t);return q.sort(n,0,n.length)}function h(t,n,e){return F=t,U=n,$=e,X=!0,I}function p(){return h(g,y,v)}function _(t){return h(m(t),b(t),v)}function k(t){function n(n){return t(n.value)}return L=o(n),q=i(n),I}function E(){return k(n)}function A(){return B}function N(){var t=D.indexOf(Z);return t>=0&&D.splice(t,1),t=tt.indexOf(e),t>=0&&tt.splice(t,1),t=R.indexOf(r),t>=0&&R.splice(t,1),I}var I={top:s,all:f,reduce:h,reduceCount:p,reduceSum:_,order:k,orderNatural:E,size:A,dispose:N,remove:N};nt.push(I);var O,z,L,q,F,U,$,P=8,H=M(P),B=0,Z=d,W=d,X=!0,G=t===d;return arguments.length<1&&(t=n),D.push(Z),tt.push(e),R.push(r),e(V,Y,0,S),p().orderNatural()}function P(){var t=$(d),n=t.all;return delete t.all,delete t.top,delete t.order,delete t.orderNatural,delete t.size,t.value=function(){return n()[0].value},t}function H(){nt.forEach(function(t){t.dispose()});var t=I.indexOf(r);return t>=0&&I.splice(t,1),t=I.indexOf(a),t>=0&&I.splice(t,1),t=R.indexOf(l),t>=0&&R.splice(t,1),A&=K,z()}var V,Y,B,Z,W,X={filter:f,filterExact:E,filterRange:O,filterFunction:L,filterAll:z,top:F,bottom:U,group:$,groupAll:P,dispose:H,remove:H},J=~A&-~A,K=~J,G=u(function(t){return B[t]}),Q=p,tt=[],nt=[],et=0,rt=0;return I.unshift(r),I.push(a),R.push(l),A|=J,(N>=32?!J:A&-(1<<N))&&(j=T(j,N<<=1)),r(x,0,S),a(x,0,S),X}function l(){function t(t,n){var e;if(!p)for(e=n;e<S;++e)j[e]||(l=c(l,x[e]))}function n(t,n,e){var r,i,o;if(!p){for(r=0,o=n.length;r<o;++r)j[i=n[r]]||(l=c(l,x[i]));for(r=0,o=e.length;r<o;++r)j[i=e[r]]===t&&(l=f(l,x[i]))}}function e(){var t;for(l=s(),t=0;t<S;++t)j[t]||(l=c(l,x[t]))}function r(t,n,e){return c=t,f=n,s=e,p=!0,h}function i(){return r(g,y,v)}function o(t){return r(m(t),b(t),v)}function a(){return p&&(e(),p=!1),l}function u(){var e=D.indexOf(n);return e>=0&&D.splice(e),e=I.indexOf(t),e>=0&&I.splice(e),h}var l,c,f,s,h={reduce:r,reduceCount:i,reduceSum:o,value:a,dispose:u,remove:u},p=!0;return D.push(n),I.push(t),t(x,0,S),i()}function c(){return S}var f={add:t,remove:r,dimension:a,groupAll:l,size:c},x=[],S=0,A=0,N=8,j=E(0),D=[],I=[],R=[];return arguments.length?t(arguments[0]):f}function w(t,n){return(n<257?E:n<65537?A:N)(t)}function _(t){for(var n=w(t,t),e=-1;++e<t;)n[e]=e;return n}function M(t){return 8===t?256:16===t?65536:4294967296}x.version="1.3.12",x.permute=e;var k=x.bisect=r(n);k.by=r,(x.heap=i(n)).by=i,(x.heapselect=o(n)).by=o,(x.insertionsort=a(n)).by=a,(x.quicksort=u(n)).by=u;var S=32,E=l,A=l,N=l,C=c,T=f;"undefined"!=typeof Uint8Array&&(E=function(t){return new Uint8Array(t)},A=function(t){return new Uint16Array(t)},
N=function(t){return new Uint32Array(t)},C=function(t,n){if(t.length>=n)return t;var e=new t.constructor(n);return e.set(t),e},T=function(t,n){var e;switch(n){case 16:e=A(t.length);break;case 32:e=N(t.length);break;default:throw new Error("invalid array width!")}return e.set(t),e}),t.crossfilter=x}("undefined"!=typeof exports&&exports||this),function(){function t(t){function r(){for(;u=f<c.length&&s<t;){var n=f++,r=c[n],o=e.call(r,1);o.push(i(n)),++s,r[0].apply(null,o)}}function i(t){return function(n,e){--s,null==p&&(null!=n?(p=n,f=h=NaN,o()):(c[t]=e,--h?u||r():o()))}}function o(){null!=p?d(p):l?d(p,c):d.apply(null,[p].concat(c))}var a,u,l,c=[],f=0,s=0,h=0,p=null,d=n;return t||(t=Infinity),a={defer:function(){return p||(c.push(arguments),++h,r()),a},await:function(t){return d=t,l=!1,h||o(),a},awaitAll:function(t){return d=t,l=!0,h||o(),a}}}function n(){}var e=[].slice;t.version="1.0.7","function"==typeof define&&define.amd?define(function(){return t}):"object"==typeof module&&module.exports?module.exports=t:this.queue=t}(),/*!
* FitVids 1.1
*
* Copyright 2013, Chris Coyier - http://css-tricks.com + Dave Rupert - http://daverupert.com
* Credit to Thierry Koblentz - http://www.alistapart.com/articles/creating-intrinsic-ratios-for-video/
* Released under the WTFPL license - http://sam.zoy.org/wtfpl/
*
*/
function(t){"use strict";t.fn.fitVids=function(n){var e={customSelector:null};if(!document.getElementById("fit-vids-style")){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("div");i.innerHTML='<p>x</p><style id="fit-vids-style">'+".fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}"+"</style>",r.appendChild(i.childNodes[1])}return n&&t.extend(e,n),this.each(function(){var n=["iframe[src*='player.vimeo.com']","iframe[src*='youtube.com']","iframe[src*='youtube-nocookie.com']","iframe[src*='kickstarter.com'][src*='video.html']","object","embed"];e.customSelector&&n.push(e.customSelector);var r=t(this).find(n.join(","));r=r.not("object object"),r.each(function(){var n=t(this);if(!("embed"===this.tagName.toLowerCase()&&n.parent("object").length||n.parent(".fluid-width-video-wrapper").length)){var e="object"===this.tagName.toLowerCase()||n.attr("height")&&!isNaN(parseInt(n.attr("height"),10))?parseInt(n.attr("height"),10):n.height(),r=isNaN(parseInt(n.attr("width"),10))?n.width():parseInt(n.attr("width"),10),i=e/r;if(!n.attr("id")){var o="fitvid"+Math.floor(999999*Math.random());n.attr("id",o)}n.wrap('<div class="fluid-width-video-wrapper"></div>').parent(".fluid-width-video-wrapper").css("padding-top",100*i+"%"),n.removeAttr("height").removeAttr("width")}})})}}(window.jQuery||window.Zepto),function(t){var n=function(e,r,i){i&&(i.stopPropagation(),i.preventDefault()),this.$element=t(e),this.$newElement=null,this.button=null,this.options=t.extend({},t.fn.selectpicker.defaults,this.$element.data(),"object"==typeof r&&r),null==this.options.title&&(this.options.title=this.$element.attr("title")),this.val=n.prototype.val,this.render=n.prototype.render,this.init()};n.prototype={constructor:n,init:function(){var n=this;this.$element.hide(),this.multiple=this.$element.prop("multiple");var e=this.$element.attr("class")!==undefined?this.$element.attr("class").split(/\s+/):"",r=this.$element.attr("id");this.$element.after(this.createView()),this.$newElement=this.$element.next(".select");var i=this.$newElement,o=this.$newElement.find(".dropdown-menu"),a=this.$newElement.find(".dropdown-arrow"),u=(o.find("li > a"),i.addClass("open").find(".dropdown-menu li > a").outerHeight());i.removeClass("open");var l=o.find("li .divider").outerHeight(!0),c=this.$newElement.offset().top,f=0,s=this.$newElement.outerHeight();this.button=this.$newElement.find("> button"),r!==undefined&&(this.button.attr("id",r),t('label[for="'+r+'"]').click(function(){i.find("button#"+r).focus()}));for(var h=0;h<e.length;h++)"selectpicker"!=e[h]&&this.$newElement.addClass(e[h]);this.multiple&&this.$newElement.addClass("select-multiple"),this.button.addClass(this.options.style),o.addClass(this.options.menuStyle),a.addClass(function(){if(n.options.menuStyle)return n.options.menuStyle.replace("dropdown-","dropdown-arrow-")}),this.checkDisabled(),this.checkTabIndex(),this.clickListener();var p=parseInt(o.css("padding-top"))+parseInt(o.css("padding-bottom"))+parseInt(o.css("border-top-width"))+parseInt(o.css("border-bottom-width"));if("auto"==this.options.size){var d=debounce(function(){var n=c-t(window).scrollTop(),e=t(window).innerHeight(),r=p+parseInt(o.css("margin-top"))+parseInt(o.css("margin-bottom"))+2;f=e-n-s-r,i.hasClass("dropup")&&(f=n-r),f>=300&&(f=300),o.css({"max-height":f+"px","overflow-y":"auto","min-height":3*u+"px"})},50);t(window).on("scroll",d),t(window).on("resize",d),window.MutationObserver?new MutationObserver(d).observe(this.$element.get(0),{childList:!0}):this.$element.bind("DOMNodeInserted",d)}else if(this.options.size&&"auto"!=this.options.size&&o.find("li").length>this.options.size){var v=o.find("li > *").filter(":not(.divider)").slice(0,this.options.size).last().parent().index(),g=o.find("li").slice(0,v+1).find(".divider").length;f=u*this.options.size+g*l+p,o.css({"max-height":f+"px","overflow-y":"scroll"})}window.MutationObserver?new MutationObserver(t.proxy(this.reloadLi,this)).observe(this.$element.get(0),{childList:!0}):this.$element.bind("DOMNodeInserted",t.proxy(this.reloadLi,this)),this.render()},createDropdown:function(){return t("<div class='btn-group select'><button class='btn dropdown-toggle clearfix' data-toggle='dropdown'><span class='filter-option'></span>&nbsp;<span class='caret'></span></button><span class='dropdown-arrow'></span><ul class='dropdown-menu' role='menu'></ul></div>")},createView:function(){var t=this.createDropdown(),n=this.createLi();return t.find("ul").append(n),t},reloadLi:function(){this.destroyLi(),$li=this.createLi(),this.$newElement.find("ul").append($li),this.render()},destroyLi:function(){this.$newElement.find("li").remove()},createLi:function(){var n=this,e=[],r=[],i="";if(this.$element.find("option").each(function(){e.push(t(this).text())}),this.$element.find("option").each(function(){var e=t(this).attr("class")!==undefined?t(this).attr("class"):"",i=t(this).text();if(i+=t(this).data("subtext")!==undefined?'<small class="muted">'+t(this).data("subtext")+"</small>":"",t(this).parent().is("optgroup")&&1!=t(this).data("divider"))if(0==t(this).index()){var o=t(this).parent().attr("label"),a=t(this).parent().data("subtext")!==undefined?'<small class="muted">'+t(this).parent().data("subtext")+"</small>":"";o+=a,0!=t(this)[0].index?r.push('<div class="divider"></div><dt>'+o+"</dt>"+n.createA(i,"opt "+e)):r.push("<dt>"+o+"</dt>"+n.createA(i,"opt "+e))}else r.push(n.createA(i,"opt "+e));else 1==t(this).data("divider")?r.push('<div class="divider"></div>'):1==t(this).data("hidden")?r.push(""):r.push(n.createA(i,e))}),e.length>0)for(var o=0;o<e.length;o++){this.$element.find("option").eq(o);i+="<li rel="+o+">"+r[o]+"</li>"}return 0!=this.$element.find("option:selected").length||n.options.title||this.$element.find("option").eq(0).prop("selected",!0).attr("selected","selected"),t(i)},createA:function(t,n){return'<a tabindex="-1" href="#" class="'+n+'"><span class="">'+t+"</span></a>"},render:function(){var n=this;if("auto"==this.options.width){var e=this.$newElement.find(".dropdown-menu").css("width");this.$newElement.css("width",e)}else this.options.width&&"auto"!=this.options.width&&this.$newElement.css("width",this.options.width);this.$element.find("option").each(function(e){n.setDisabled(e,t(this).is(":disabled")||t(this).parent().is(":disabled")),n.setSelected(e,t(this).is(":selected"))});var r=this.$element.find("option:selected").map(function(){return t(this).attr("title")!=undefined?t(this).attr("title"):t(this).text()}).toArray(),i=r.join(", ");if(n.multiple&&n.options.selectedTextFormat.indexOf("count")>-1){var o=n.options.selectedTextFormat.split(">");(o.length>1&&r.length>o[1]||1==o.length&&r.length>=2)&&(i=r.length+" of "+this.$element.find("option").length+" selected")}i||(i=n.options.title!=undefined?n.options.title:n.options.noneSelectedText),this.$element.next(".select").find(".filter-option").html(i)},setSelected:function(t,n){n?this.$newElement.find("li").eq(t).addClass("selected"):this.$newElement.find("li").eq(t).removeClass("selected")},setDisabled:function(t,n){n?this.$newElement.find("li").eq(t).addClass("disabled"):this.$newElement.find("li").eq(t).removeClass("disabled")},checkDisabled:function(){this.$element.is(":disabled")&&(this.button.addClass("disabled"),this.button.click(function(t){t.preventDefault()}))},checkTabIndex:function(){if(this.$element.is("[tabindex]")){var t=this.$element.attr("tabindex");this.button.attr("tabindex",t)}},clickListener:function(){var n=this;t("body").on("touchstart.dropdown",".dropdown-menu",function(t){t.stopPropagation()}),this.$newElement.on("click","li a",function(e){var r=t(this).parent().index(),i=t(this).parent(),o=i.parents(".select");if(n.multiple&&e.stopPropagation(),e.preventDefault(),o.prev("select").not(":disabled")&&!t(this).parent().hasClass("disabled")){if(n.multiple){o.prev("select").find("option").eq(r).prop("selected")?o.prev("select").find("option").eq(r).removeAttr("selected"):o.prev("select").find("option").eq(r).prop("selected",!0).attr("selected","selected")}else o.prev("select").find("option").removeAttr("selected"),o.prev("select").find("option").eq(r).prop("selected",!0).attr("selected","selected");o.find(".filter-option").html(i.text()),o.find("button").focus(),o.prev("select").trigger("change")}}),this.$newElement.on("click","li.disabled a, li dt, li .divider",function(n){n.preventDefault(),n.stopPropagation(),$select=t(this).parent().parents(".select"),$select.find("button").focus()}),this.$element.on("change",function(){n.render()})},val:function(t){return t!=undefined?(this.$element.val(t),this.$element.trigger("change"),this.$element):this.$element.val()}},t.fn.selectpicker=function(e,r){var i,o=arguments,a=this.each(function(){var a=t(this),u=a.data("selectpicker"),l="object"==typeof e&&e;if(u)for(var c in e)u[c]=e[c];else a.data("selectpicker",u=new n(this,l,r));"string"==typeof e&&(property=e,u[property]instanceof Function?([].shift.apply(o),i=u[property].apply(u,o)):i=u[property])});return i!=undefined?i:a},t.fn.selectpicker.defaults={style:null,size:"auto",title:null,selectedTextFormat:"values",noneSelectedText:"Nothing selected",width:null,menuStyle:null,toggleSize:null}}(window.jQuery);var width=240,height=100,margin={top:7,right:10,bottom:5,left:5},colors=["#1abc9c","#2ecc71","#3498db","#9b59b6","#34495e","#95a6a6"],l=250,r=150,w=400,h=24,s=2,radius=80,formatDate=d3.time.format.utc("%B %d, %Y"),formatISO=d3.time.format.utc("%Y-%m-%d"),formatMonthYear=d3.time.format.utc("%B %Y"),formatYear=d3.time.format.utc("%Y"),formatDateTime=d3.time.format.utc("%d %b %Y %H:%M UTC"),formatTime=d3.time.format.utc("%H:%M UTC"),formatWeek=d3.time.format.utc("%U"),formatHour=d3.time.format.utc("%H"),formatNumber=d3.format(",d"),formatFixed=d3.format(",.0f"),formatPercent=d3.format(",.0%");$(document).ready(function(){new StatusPage.page({page:"nmtzsv0smzk5"}).summary({success:function(t){$(".color-description").text(t.status.description),$(".color-dot").addClass(t.status.indicator)}})});