function donutViz(t,a,e,r,d,l){var n=d3.select(a).append("svg").data([t]).attr("width",2*radius+50).attr("height",2*radius).attr("class","chart donut").append("svg:g").attr("transform","translate("+(radius+20)+","+radius+")"),s=d3.svg.arc().outerRadius(radius-5).innerRadius(radius-30),i=d3.layout.pie().sort(null).value(function(t){return t.value}),u=n.selectAll("g.slice").data(i).enter().append("svg:g").attr("class","slice");return u.append("svg:path").attr("fill",function(t,a){return d(a)}).attr("d",s),u.each(function(t){$(this).tooltip({title:formatFixed(t.data.value)+" "+l+" "+t.data.key.replace("_"," "),container:"body"})}),null!==r?(n.append("text").attr("dy",0).attr("text-anchor","middle").attr("class","title").text(e),n.append("text").attr("dy",21).attr("text-anchor","middle").attr("class","subtitle").text(r)):n.append("text").attr("dy",8).attr("text-anchor","middle").attr("class","title-only").text(e),d3.select(a+"-loading").remove(),n}var radius=80;